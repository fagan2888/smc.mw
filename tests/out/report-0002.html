<!DOCTYPE html>
<html>
<head>
<title>smc.mw Test Report, Version 0.2 (2013-10-06)</title>
<script src="../static/jquery-1.10.1.min.js"></script><link rel="stylesheet" type="text/css" href="../static/report.css">
</head>
<body>
<h1>Test Report</h1>
<h2>Overview</h2>
<table>
<tr>
<th rowspan="2">File</th>
<th colspan="2"><button onclick='$("table.tests &gt; tbody &gt; tr").show();'>All</button></th>
<th colspan="2"><button onclick='$("table.tests &gt; tbody &gt; tr").show();$("table.tests &gt; tbody &gt; tr:not(.pass)").hide();'>Pass</button></th>
<th colspan="2"><button onclick='$("table.tests &gt; tbody &gt; tr").show();$("table.tests &gt; tbody &gt; tr:not(.tidy)").hide();'>Tidy</button></th>
<th colspan="2"><button onclick='$("table.tests &gt; tbody &gt; tr").show();$("table.tests &gt; tbody &gt; tr:not(.skip)").hide();'>Skip</button></th>
<th colspan="2"><button onclick='$("table.tests &gt; tbody &gt; tr").show();$("table.tests &gt; tbody &gt; tr:not(.fail)").hide();'>Fail</button></th>
<th colspan="2">Time/s</th>
</tr>
<tr>
<th><button onclick='$("table.tests &gt; tbody &gt; tr").show();$("table.tests &gt; tbody &gt; tr:not(.from_none)").hide();'>+</button></th>
<th><button disabled>-</button></th>
<th><button onclick='$("table.tests &gt; tbody &gt; tr").show();$("table.tests &gt; tbody &gt; tr:not(.to_pass)").hide();'>+</button></th>
<th><button onclick='$("table.tests &gt; tbody &gt; tr").show();$("table.tests &gt; tbody &gt; tr:not(.from_pass)").hide();'>-</button></th>
<th><button onclick='$("table.tests &gt; tbody &gt; tr").show();$("table.tests &gt; tbody &gt; tr:not(.to_tidy)").hide();'>+</button></th>
<th><button onclick='$("table.tests &gt; tbody &gt; tr").show();$("table.tests &gt; tbody &gt; tr:not(.from_tidy)").hide();'>-</button></th>
<th><button onclick='$("table.tests &gt; tbody &gt; tr").show();$("table.tests &gt; tbody &gt; tr:not(.to_skip)").hide();'>+</button></th>
<th><button onclick='$("table.tests &gt; tbody &gt; tr").show();$("table.tests &gt; tbody &gt; tr:not(.from_skip)").hide();'>-</button></th>
<th><button onclick='$("table.tests &gt; tbody &gt; tr").show();$("table.tests &gt; tbody &gt; tr:not(.to_fail)").hide();'>+</button></th>
<th><button onclick='$("table.tests &gt; tbody &gt; tr").show();$("table.tests &gt; tbody &gt; tr:not(.from_fail)").hide();'>-</button></th>
</tr>
<tr>
<th>funcsParserTests</th>
<td colspan="2">17</td>
<td colspan="2">4 (23.53%)</td>
<td colspan="2">1 (5.88%)</td>
<td colspan="2">0 (0.00%)</td>
<td colspan="2">12 (70.59%)</td>
<td colspan="2">0.485</td>
</tr>
<tr>
<th rowspan="2">parserTests</th>
<td colspan="2" rowspan="2">1142</td>
<td colspan="2" rowspan="2">225 (19.70%)</td>
<td colspan="2">159 (13.92%)</td>
<td colspan="2" rowspan="2">126 (11.03%)</td>
<td colspan="2">632 (55.34%)</td>
<td colspan="2">19.281</td>
</tr>
<tr>
<td>+3</td>
<td></td>
<td></td>
<td>-3</td>
</tr>
<tr>
<th rowspan="2">smcmwTests</th>
<td colspan="2">7</td>
<td colspan="2">5 (71.43%)</td>
<td colspan="2" rowspan="2">0 (0.00%)</td>
<td colspan="2" rowspan="2">1 (14.29%)</td>
<td colspan="2" rowspan="2">1 (14.29%)</td>
<td colspan="2">0.072</td>
</tr>
<tr>
<td>+2</td>
<td></td>
<td>+2</td>
<td></td>
</tr>
</table>
<h2>funcsParserTests</h2>
<div class="tests"><table class="tests">
<colgroup class="test">
<col class="index">
<col class="status">
<col class="description">
<col class="input">
<col class="expect">
<col class="output">
</colgroup>
<thead><tr>
<th>#</th>
<th>Sum.</th>
<th>Description</th>
<th style="width: 100px">Input</th>
<th>Expect</th>
<th>Output</th>
</tr></thead>
<tbody>
<tr class="fail">
<th class="index">1</th>
<td class="status">fail</td>
<td class="description">Input times are UTC, not local time</td>
<td class="input"><pre>{{#time:c|15 January 2001}}</pre></td>
<td class="expect"><pre>&lt;p&gt;2001-01-15T00:00:00+00:00&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:#time:c" title="Template:#time:c"&gt;Template:#time:c&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">2</th>
<td class="status">fail</td>
<td class="description">Time test in traditional range...</td>
<td class="input"><pre>{{#time:Y|15 January 2001}}</pre></td>
<td class="expect"><pre>&lt;p&gt;2001&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:#time:Y" title="Template:#time:Y"&gt;Template:#time:Y&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">3</th>
<td class="status">fail</td>
<td class="description">Time test prior to 1970 Unix creation myth</td>
<td class="input"><pre>{{#time:Y|5 April 1967}}</pre></td>
<td class="expect"><pre>&lt;p&gt;1967&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:#time:Y" title="Template:#time:Y"&gt;Template:#time:Y&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">4</th>
<td class="status">fail</td>
<td class="description">Time test after the 2038 32-bit Apocalype</td>
<td class="input"><pre>{{#time:Y|28 July 2061}}</pre></td>
<td class="expect"><pre>&lt;p&gt;2061&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:#time:Y" title="Template:#time:Y"&gt;Template:#time:Y&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">5</th>
<td class="status">fail</td>
<td class="description">Explicitly specified timezone: UTC</td>
<td class="input"><pre>{{#time:Y-m-d H:i| 2011-11-12 23:00 UTC }}</pre></td>
<td class="expect"><pre>&lt;p&gt;2011-11-12 23:00&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:#time:Y-m-d_H:i" title="Template:#time:Y-m-d H:i"&gt;Template:#time:Y-m-d H:i&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">6</th>
<td class="status">fail</td>
<td class="description">Explicitly specified timezone: Europe/Paris (UTC+1)</td>
<td class="input"><pre>{{#time:Y-m-d H:i| 2011-11-12 23:00 Europe/Paris }}</pre></td>
<td class="expect"><pre>&lt;p&gt;2011-11-12 22:00&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:#time:Y-m-d_H:i" title="Template:#time:Y-m-d H:i"&gt;Template:#time:Y-m-d H:i&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">7</th>
<td class="status">fail</td>
<td class="description">Explicitly specified timezone: America/New_York (UTC-5)</td>
<td class="input"><pre>{{#time:Y-m-d H:i| 2011-11-12 23:00 America/New_York }}</pre></td>
<td class="expect"><pre>&lt;p&gt;2011-11-13 04:00&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:#time:Y-m-d_H:i" title="Template:#time:Y-m-d H:i"&gt;Template:#time:Y-m-d H:i&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">8</th>
<td class="status">fail</td>
<td class="description">Explicitely specified output language (Dutch)</td>
<td class="input"><pre>{{#time:d F Y|1988-02-28|nl}}</pre></td>
<td class="expect"><pre>&lt;p&gt;28 februari 1988&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:#time:d_F_Y" title="Template:#time:d F Y"&gt;Template:#time:d F Y&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">9</th>
<td class="status">tidy</td>
<td class="description">Preserve tags in #switch default value</td>
<td class="input"><pre>{{#switch:a|b|&lt;div&gt;c&lt;/div&gt;}}</pre></td>
<td class="expect"><pre>&lt;div&gt;c&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div&gt;c&lt;/div&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">10</th>
<td class="status">pass</td>
<td class="description">Bug 19093: Default values don't fall through in switch</td>
<td class="input"><pre>&lt;{{#switch: foo | bar | #default = DEF }}&gt;&#8990;
&lt;{{#switch: foo | #default | bar = DEF }}&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&amp;lt;DEF&amp;gt;&#8990;
&amp;lt;DEF&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;DEF&amp;gt;&#8990;
&amp;lt;DEF&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">11</th>
<td class="status">fail</td>
<td class="description">{{#ifexist}}</td>
<td class="input"><pre>{{#ifexist:Media:Foobar.jpg|Found|Not found}}&#8990;
{{#ifexist:ParserFunctions page|Found|Not found}}&#8990;
{{#ifexist:Missing|Found|Not found}}</pre></td>
<td class="expect"><pre>&lt;p&gt;Found&#8990;
Found&#8990;
Not found&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:#ifexist:Media:Foobar.jpg" title="Template:#ifexist:Media:Foobar.jpg"&gt;Template:#ifexist:Media:Foobar.jpg&lt;/a&gt;&#8990;
&lt;a href="/wiki/Template:#ifexist:ParserFunctions_page" title="Template:#ifexist:ParserFunctions page"&gt;Template:#ifexist:ParserFunctions page&lt;/a&gt;&#8990;
&lt;a href="/wiki/Template:#ifexist:Missing" title="Template:#ifexist:Missing"&gt;Template:#ifexist:Missing&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">12</th>
<td class="status">pass</td>
<td class="description">#if</td>
<td class="input"><pre>{{#if: | yes | no}}&#8990;
{{#if: string | yes | no}}&#8990;
{{#if:      | yes | no}}&#8990;
{{#if:&#8990;
&#8990;
&#8990;
| yes | no}}&#8990;
{{#if: 1==2 | yes | no}}&#8990;
{{#if: foo | yes }}&#8990;
{{#if: | yes }}(empty)&#8990;
{{#if: foo | | no}}(empty)&#8990;
{{#if: {{{1}}} | yes | no}}&#8990;
{{#if: {{{1|}}} | yes | no}}</pre></td>
<td class="expect"><pre>&lt;p&gt;no&#8990;
yes&#8990;
no&#8990;
no&#8990;
yes&#8990;
yes&#8990;
(empty)&#8990;
(empty)&#8990;
yes&#8990;
no&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;no&#8990;
yes&#8990;
no&#8990;
no&#8990;
yes&#8990;
yes&#8990;
(empty)&#8990;
(empty)&#8990;
yes&#8990;
no&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">13</th>
<td class="status">pass</td>
<td class="description">#ifeq</td>
<td class="input"><pre>{{#ifeq: 01 | 1 | yes | no}}&#8990;
{{#ifeq: 0 | -0 | yes | no}}&#8990;
{{#ifeq: foo | bar | yes | no}}&#8990;
{{#ifeq: foo | Foo | yes | no}}&#8990;
{{#ifeq: "01" | "1" | yes | no}}</pre></td>
<td class="expect"><pre>&lt;p&gt;yes&#8990;
yes&#8990;
no&#8990;
no&#8990;
no&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;yes&#8990;
yes&#8990;
no&#8990;
no&#8990;
no&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">14</th>
<td class="status">fail</td>
<td class="description">#iferror</td>
<td class="input"><pre>{{#iferror: {{#expr: 1 + 2 }} | error | correct }}&#8990;
{{#iferror: {{#expr: 1 + X }} | error | correct }}&#8990;
{{#iferror: {{#expr: 1 + 2 }} | error }}&#8990;
{{#iferror: {{#expr: 1 + X }} | error }}&#8990;
{{#iferror: {{#expr: 1 + 2 }} }}&#8990;
{{#iferror: {{#expr: 1 + X }} }}empty</pre></td>
<td class="expect"><pre>&lt;p&gt;correct&#8990;
error&#8990;
3&#8990;
error&#8990;
3&#8990;
empty&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/BROKEN" title="BROKEN"&gt;BROKEN&lt;/a&gt;&#8990;
&lt;a href="/wiki/BROKEN" title="BROKEN"&gt;BROKEN&lt;/a&gt;&#8990;
&lt;a href="/wiki/BROKEN" title="BROKEN"&gt;BROKEN&lt;/a&gt;&#8990;
&lt;a href="/wiki/BROKEN" title="BROKEN"&gt;BROKEN&lt;/a&gt;&#8990;
&lt;a href="/wiki/BROKEN" title="BROKEN"&gt;BROKEN&lt;/a&gt;&#8990;
&lt;a href="/wiki/BROKEN" title="BROKEN"&gt;BROKENempty&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">15</th>
<td class="status">fail</td>
<td class="description">#ifexpr</td>
<td class="input"><pre>{{#ifexpr: | yes | no}}&#8990;
{{#ifexpr: 1 &gt; 0 | yes }}&#8990;
{{#ifexpr: 1 &lt; 0 | yes }}empty&#8990;
{{#ifexpr: 1 &gt; 0 | | no}}empty&#8990;
{{#ifexpr: 1 &lt; 0 | | no}}&#8990;
{{#ifexpr: 1 &gt; 0 }}empty</pre></td>
<td class="expect"><pre>&lt;p&gt;no&#8990;
yes&#8990;
empty&#8990;
empty&#8990;
no&#8990;
empty&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:#ifexpr:" title="Template:#ifexpr:"&gt;Template:#ifexpr:&lt;/a&gt;&#8990;
&lt;a href="/wiki/Template:#ifexpr:_1_&amp;gt;_0" title="Template:#ifexpr: 1 &amp;gt; 0"&gt;Template:#ifexpr: 1 &amp;gt; 0&lt;/a&gt;&#8990;
&lt;a href="/wiki/Template:#ifexpr:_1_&amp;lt;_0" title="Template:#ifexpr: 1 &amp;lt; 0"&gt;Template:#ifexpr: 1 &amp;lt; 0empty&lt;/a&gt;&#8990;
&lt;a href="/wiki/Template:#ifexpr:_1_&amp;gt;_0" title="Template:#ifexpr: 1 &amp;gt; 0"&gt;Template:#ifexpr: 1 &amp;gt; 0empty&lt;/a&gt;&#8990;
&lt;a href="/wiki/Template:#ifexpr:_1_&amp;lt;_0" title="Template:#ifexpr: 1 &amp;lt; 0"&gt;Template:#ifexpr: 1 &amp;lt; 0&lt;/a&gt;&#8990;
&lt;a href="/wiki/Template:#ifexpr:_1_&amp;gt;_0" title="Template:#ifexpr: 1 &amp;gt; 0"&gt;Template:#ifexpr: 1 &amp;gt; 0empty&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">16</th>
<td class="status">fail</td>
<td class="description">Bug 22866: #ifexpr should evaluate "-0" as false</td>
<td class="input"><pre>{{#ifexpr: (-1)*0 | true | false }}</pre></td>
<td class="expect"><pre>&lt;p&gt;false&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:#ifexpr:_(-1)*0" title="Template:#ifexpr: (-1)*0"&gt;Template:#ifexpr: (-1)*0&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">17</th>
<td class="status">pass</td>
<td class="description">Templates: Parser functions don't strip whitespace from positional parameters</td>
<td class="input"><pre>{{#if: {{foo}}&#8990;
| no-pre-then&#8990;
| no-pre-else&#8990;
}}</pre></td>
<td class="expect"><pre>&lt;p&gt;no-pre-then&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;no-pre-then&#8990;
&lt;/p&gt;</pre></td>
</tr>
</tbody>
</table></div>
<h2>parserTests</h2>
<div class="tests"><table class="tests">
<colgroup class="test">
<col class="index">
<col class="status">
<col class="description">
<col class="input">
<col class="expect">
<col class="output">
</colgroup>
<thead><tr>
<th>#</th>
<th>Sum.</th>
<th>Description</th>
<th style="width: 100px">Input</th>
<th>Expect</th>
<th>Output</th>
</tr></thead>
<tbody>
<tr class="pass">
<th class="index">1</th>
<td class="status">pass</td>
<td class="description">Blank input</td>
<td class="input"><pre></pre></td>
<td class="expect"><pre></pre></td>
<td class="output"><pre></pre></td>
</tr>
<tr class="pass">
<th class="index">2</th>
<td class="status">pass</td>
<td class="description">Simple paragraph</td>
<td class="input"><pre>This is a simple paragraph.</pre></td>
<td class="expect"><pre>&lt;p&gt;This is a simple paragraph.&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;This is a simple paragraph.&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">3</th>
<td class="status">tidy</td>
<td class="description">Paragraphs with extra newline spacing</td>
<td class="input"><pre>foo&#8990;
&#8990;
bar&#8990;
&#8990;
&#8990;
baz&#8990;
&#8990;
&#8990;
&#8990;
booz</pre></td>
<td class="expect"><pre>&lt;p&gt;foo&#8990;
&lt;/p&gt;&lt;p&gt;bar&#8990;
&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&#8990;
baz&#8990;
&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&#8990;
&lt;/p&gt;&lt;p&gt;booz&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;foo&#8990;
&lt;/p&gt;&lt;p&gt;bar&#8990;
&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&#8990;
baz&#8990;
&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&#8990;
&lt;/p&gt;&lt;p&gt;booz&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">4</th>
<td class="status">tidy</td>
<td class="description">Paragraphs with newline spacing with comment lines in between</td>
<td class="input"><pre>----&#8990;
a&#8990;
&lt;!--foo--&gt;&#8990;
b&#8990;
----&#8990;
a&#8990;
&lt;!--foo--&gt;&lt;!--More than 1 comment disables stripping of this line!--&gt;&#8990;
b&#8990;
----&#8990;
a&#8990;
&lt;!--foo--&gt;&#8990;
&#8990;
b&#8990;
----&#8990;
a&#8990;
&#8990;
&lt;!--foo--&gt;&#8990;
b&#8990;
----&#8990;
a&#8990;
&lt;!--foo--&gt;&#8990;
&#8990;
&#8990;
b&#8990;
----&#8990;
a&#8990;
&#8990;
&#8990;
&lt;!--foo--&gt;&#8990;
b&#8990;
----</pre></td>
<td class="expect"><pre>&lt;hr /&gt;&#8990;
&lt;p&gt;a&#8990;
b&#8990;
&lt;/p&gt;&#8990;
&lt;hr /&gt;&#8990;
&lt;p&gt;a&#8990;
&lt;/p&gt;&lt;p&gt;b&#8990;
&lt;/p&gt;&#8990;
&lt;hr /&gt;&#8990;
&lt;p&gt;a&#8990;
&lt;/p&gt;&lt;p&gt;b&#8990;
&lt;/p&gt;&#8990;
&lt;hr /&gt;&#8990;
&lt;p&gt;a&#8990;
&lt;/p&gt;&lt;p&gt;b&#8990;
&lt;/p&gt;&#8990;
&lt;hr /&gt;&#8990;
&lt;p&gt;a&#8990;
&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&#8990;
b&#8990;
&lt;/p&gt;&#8990;
&lt;hr /&gt;&#8990;
&lt;p&gt;a&#8990;
&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&#8990;
b&#8990;
&lt;/p&gt;&#8990;
&lt;hr /&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;hr/&gt;&#8990;
&lt;p&gt;a&#8990;
b&#8990;
&lt;/p&gt;&lt;hr/&gt;&#8990;
&lt;p&gt;a&#8990;
&lt;/p&gt;&lt;p&gt;b&#8990;
&lt;/p&gt;&lt;hr/&gt;&#8990;
&lt;p&gt;a&#8990;
&lt;/p&gt;&lt;p&gt;b&#8990;
&lt;/p&gt;&lt;hr/&gt;&#8990;
&lt;p&gt;a&#8990;
&lt;/p&gt;&lt;p&gt;b&#8990;
&lt;/p&gt;&lt;hr/&gt;&#8990;
&lt;p&gt;a&#8990;
&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&#8990;
b&#8990;
&lt;/p&gt;&lt;hr/&gt;&#8990;
&lt;p&gt;a&#8990;
&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&#8990;
b&#8990;
&lt;/p&gt;&lt;hr/&gt;&#8990;
</pre></td>
</tr>
<tr class="tidy">
<th class="index">5</th>
<td class="status">tidy</td>
<td class="description">Paragraphs with newline spacing with non-empty white-space lines in between</td>
<td class="input"><pre>----&#8990;
a&#8990;
 &#8990;
b&#8990;
----&#8990;
a&#8990;
 &#8990;
 &#8990;
b&#8990;
----</pre></td>
<td class="expect"><pre>&lt;hr /&gt;&#8990;
&lt;p&gt;a&#8990;
&lt;/p&gt;&lt;p&gt;b&#8990;
&lt;/p&gt;&#8990;
&lt;hr /&gt;&#8990;
&lt;p&gt;a&#8990;
&lt;/p&gt;&lt;p&gt;&lt;br /&gt; &#8990;
b&#8990;
&lt;/p&gt;&#8990;
&lt;hr /&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;hr/&gt;&#8990;
&lt;p&gt;a&#8990;
&lt;/p&gt;&lt;p&gt;b&#8990;
&lt;/p&gt;&lt;hr/&gt;&#8990;
&lt;p&gt;a&#8990;
&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&#8990;
b&#8990;
&lt;/p&gt;&lt;hr/&gt;&#8990;
</pre></td>
</tr>
<tr class="tidy">
<th class="index">6</th>
<td class="status">tidy</td>
<td class="description">Paragraphs with newline spacing with non-empty mixed comment and white-space lines in between</td>
<td class="input"><pre>----&#8990;
a&#8990;
 &lt;!--foo--&gt;&#8990;
b&#8990;
----&#8990;
a&#8990;
 &lt;!--foo--&gt;&lt;!--More than 1 comment disables stripping of this line!--&gt;&#8990;
b&#8990;
----&#8990;
a&#8990;
 &#8990;
&lt;!--foo--&gt;&#8990;
 &lt;!--bar--&gt;&#8990;
b&#8990;
----&#8990;
a&#8990;
 &#8990;
 &lt;!--foo--&gt;&#8990;
 &lt;!--bar--&gt;&#8990;
 &#8990;
b&#8990;
----</pre></td>
<td class="expect"><pre>&lt;hr /&gt;&#8990;
&lt;p&gt;a&#8990;
b&#8990;
&lt;/p&gt;&#8990;
&lt;hr /&gt;&#8990;
&lt;p&gt;a&#8990;
&lt;/p&gt;&lt;p&gt;b&#8990;
&lt;/p&gt;&#8990;
&lt;hr /&gt;&#8990;
&lt;p&gt;a&#8990;
&lt;/p&gt;&lt;p&gt;b&#8990;
&lt;/p&gt;&#8990;
&lt;hr /&gt;&#8990;
&lt;p&gt;a&#8990;
&lt;/p&gt;&lt;p&gt;&lt;br /&gt; &#8990;
b&#8990;
&lt;/p&gt;&#8990;
&lt;hr /&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;hr/&gt;&#8990;
&lt;p&gt;a&#8990;
b&#8990;
&lt;/p&gt;&lt;hr/&gt;&#8990;
&lt;p&gt;a&#8990;
&lt;/p&gt;&lt;p&gt;b&#8990;
&lt;/p&gt;&lt;hr/&gt;&#8990;
&lt;p&gt;a&#8990;
&lt;/p&gt;&lt;p&gt;b&#8990;
&lt;/p&gt;&lt;hr/&gt;&#8990;
&lt;p&gt;a&#8990;
&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&#8990;
b&#8990;
&lt;/p&gt;&lt;hr/&gt;&#8990;
</pre></td>
</tr>
<tr class="tidy">
<th class="index">7</th>
<td class="status">tidy</td>
<td class="description">Extra newlines: More paragraphs with indented comment</td>
<td class="input"><pre>a&#8990;
&#8990;
   &lt;!--boo--&gt;&#8990;
&#8990;
b</pre></td>
<td class="expect"><pre>&lt;p&gt;a&#8990;
&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&#8990;
b&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;a&#8990;
&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&#8990;
b&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">8</th>
<td class="status">fail</td>
<td class="description">Extra newlines followed by heading</td>
<td class="input"><pre>a&#8990;
&#8990;
&#8990;
&#8990;
=b=&#8990;
[[a]]&#8990;
&#8990;
&#8990;
=b=</pre></td>
<td class="expect"><pre>&lt;p&gt;a&#8990;
&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&#8990;
&lt;/p&gt;&#8990;
&lt;h1&gt;&lt;span class="mw-headline" id="b"&gt;b&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=1" title="Edit section: b"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt;&#8990;
&lt;p&gt;&lt;a href="/index.php?title=A&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="A (page does not exist)"&gt;a&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&#8990;
&lt;/p&gt;&#8990;
&lt;h1&gt;&lt;span class="mw-headline" id="b_2"&gt;b&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=2" title="Edit section: b"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;a&#8990;
&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&#8990;
&lt;/p&gt;&lt;h1&gt;&lt;span class="mw-headline" id="b"&gt;b&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: b"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt;&#8990;
&lt;p&gt;&lt;a href="/wiki/a" title="a"&gt;a&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&#8990;
&lt;/p&gt;&lt;h1&gt;&lt;span class="mw-headline" id="b_2"&gt;b&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: b"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">9</th>
<td class="status">fail</td>
<td class="description">Extra newlines between heading and content are swallowed</td>
<td class="input"><pre>=b=&#8990;
&#8990;
&#8990;
&#8990;
[[a]]</pre></td>
<td class="expect"><pre>&lt;h1&gt;&lt;span class="mw-headline" id="b"&gt;b&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=1" title="Edit section: b"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt;&#8990;
&lt;p&gt;&lt;a href="/index.php?title=A&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="A (page does not exist)"&gt;a&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;h1&gt;&lt;span class="mw-headline" id="b"&gt;b&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: b"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt;&#8990;
&lt;p&gt;&lt;a href="/wiki/a" title="a"&gt;a&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">10</th>
<td class="status">tidy</td>
<td class="description">Parsing an URL</td>
<td class="input"><pre>http://fr.wikipedia.org/wiki/&#127866;&#8990;
&lt;!-- EasterEgg we love beer, better be able be able to link to it --&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://fr.wikipedia.org/wiki/&#127866;"&gt;http://fr.wikipedia.org/wiki/&#127866;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://fr.wikipedia.org/wiki/&amp;#127866;"&gt;http://fr.wikipedia.org/wiki/&amp;#127866;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">11</th>
<td class="status">pass</td>
<td class="description">Simple list</td>
<td class="input"><pre>* Item 1&#8990;
* Item 2</pre></td>
<td class="expect"><pre>&lt;ul&gt;&lt;li&gt; Item 1&#8990;
&lt;/li&gt;&lt;li&gt; Item 2&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt; Item 1&#8990;
&lt;/li&gt;&lt;li&gt; Item 2&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">12</th>
<td class="status">fail</td>
<td class="description">Italics and bold</td>
<td class="input"><pre>* plain&#8990;
* plain''italic''plain&#8990;
* plain''italic''plain''italic''plain&#8990;
* plain'''bold'''plain&#8990;
* plain'''bold'''plain'''bold'''plain&#8990;
* plain''italic''plain'''bold'''plain&#8990;
* plain'''bold'''plain''italic''plain&#8990;
* plain''italic'''bold-italic'''italic''plain&#8990;
* plain'''bold''bold-italic''bold'''plain&#8990;
* plain'''''bold-italic'''italic''plain&#8990;
* plain'''''bold-italic''bold'''plain&#8990;
* plain''italic'''bold-italic'''''plain&#8990;
* plain'''bold''bold-italic'''''plain&#8990;
* plain l'''italic''plain&#8990;
* plain l''''bold''' plain</pre></td>
<td class="expect"><pre>&lt;ul&gt;&lt;li&gt; plain&#8990;
&lt;/li&gt;&lt;li&gt; plain&lt;i&gt;italic&lt;/i&gt;plain&#8990;
&lt;/li&gt;&lt;li&gt; plain&lt;i&gt;italic&lt;/i&gt;plain&lt;i&gt;italic&lt;/i&gt;plain&#8990;
&lt;/li&gt;&lt;li&gt; plain&lt;b&gt;bold&lt;/b&gt;plain&#8990;
&lt;/li&gt;&lt;li&gt; plain&lt;b&gt;bold&lt;/b&gt;plain&lt;b&gt;bold&lt;/b&gt;plain&#8990;
&lt;/li&gt;&lt;li&gt; plain&lt;i&gt;italic&lt;/i&gt;plain&lt;b&gt;bold&lt;/b&gt;plain&#8990;
&lt;/li&gt;&lt;li&gt; plain&lt;b&gt;bold&lt;/b&gt;plain&lt;i&gt;italic&lt;/i&gt;plain&#8990;
&lt;/li&gt;&lt;li&gt; plain&lt;i&gt;italic&lt;b&gt;bold-italic&lt;/b&gt;italic&lt;/i&gt;plain&#8990;
&lt;/li&gt;&lt;li&gt; plain&lt;b&gt;bold&lt;i&gt;bold-italic&lt;/i&gt;bold&lt;/b&gt;plain&#8990;
&lt;/li&gt;&lt;li&gt; plain&lt;i&gt;&lt;b&gt;bold-italic&lt;/b&gt;italic&lt;/i&gt;plain&#8990;
&lt;/li&gt;&lt;li&gt; plain&lt;b&gt;&lt;i&gt;bold-italic&lt;/i&gt;bold&lt;/b&gt;plain&#8990;
&lt;/li&gt;&lt;li&gt; plain&lt;i&gt;italic&lt;b&gt;bold-italic&lt;/b&gt;&lt;/i&gt;plain&#8990;
&lt;/li&gt;&lt;li&gt; plain&lt;b&gt;bold&lt;i&gt;bold-italic&lt;/i&gt;&lt;/b&gt;plain&#8990;
&lt;/li&gt;&lt;li&gt; plain l'&lt;i&gt;italic&lt;/i&gt;plain&#8990;
&lt;/li&gt;&lt;li&gt; plain l'&lt;b&gt;bold&lt;/b&gt; plain&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt; plain&#8990;
&lt;/li&gt;&lt;li&gt; plain&lt;i&gt;italic&lt;/i&gt;plain&#8990;
&lt;/li&gt;&lt;li&gt; plain&lt;i&gt;italic&lt;/i&gt;plain&lt;i&gt;italic&lt;/i&gt;plain&#8990;
&lt;/li&gt;&lt;li&gt; plain&lt;b&gt;bold&lt;/b&gt;plain&#8990;
&lt;/li&gt;&lt;li&gt; plain&lt;b&gt;bold&lt;/b&gt;plain&lt;b&gt;bold&lt;/b&gt;plain&#8990;
&lt;/li&gt;&lt;li&gt; plain&lt;i&gt;italic&lt;/i&gt;plain&lt;b&gt;bold&lt;/b&gt;plain&#8990;
&lt;/li&gt;&lt;li&gt; plain&lt;b&gt;bold&lt;/b&gt;plain&lt;i&gt;italic&lt;/i&gt;plain&#8990;
&lt;/li&gt;&lt;li&gt; plain&lt;i&gt;italic&lt;b&gt;bold-italic&lt;/b&gt;italic&lt;/i&gt;plain&#8990;
&lt;/li&gt;&lt;li&gt; plain&lt;b&gt;bold&lt;i&gt;bold-italic&lt;/i&gt;bold&lt;/b&gt;plain&#8990;
&lt;/li&gt;&lt;li&gt; plain&lt;i&gt;&lt;b&gt;bold-italic&lt;/b&gt;italic&lt;/i&gt;plain&#8990;
&lt;/li&gt;&lt;li&gt; plain&lt;b&gt;&lt;i&gt;bold-italic&lt;/i&gt;bold&lt;/b&gt;plain&#8990;
&lt;/li&gt;&lt;li&gt; plain&lt;i&gt;italic&lt;b&gt;bold-italic&lt;/b&gt;&lt;/i&gt;plain&#8990;
&lt;/li&gt;&lt;li&gt; plain&lt;b&gt;bold&lt;i&gt;bold-italic&lt;/i&gt;&lt;/b&gt;plain&#8990;
&lt;/li&gt;&lt;li&gt; plain l&lt;b&gt;italic&lt;i&gt;plain&lt;/i&gt;&lt;/b&gt;&#8990;
&lt;/li&gt;&lt;li&gt; plain l'&lt;b&gt;bold&lt;/b&gt; plain&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">13</th>
<td class="status">fail</td>
<td class="description">Italics and possessives</td>
<td class="input"><pre>obtained by ''[[Lunar Prospector]]'''s gamma-ray spectrometer</pre></td>
<td class="expect"><pre>&lt;p&gt;obtained by &lt;i&gt;&lt;a href="/index.php?title=Lunar_Prospector&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Lunar Prospector (page does not exist)"&gt;Lunar Prospector&lt;/a&gt;'&lt;/i&gt;s gamma-ray spectrometer&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;obtained by &lt;i&gt;&lt;a href="/wiki/Lunar_Prospector" title="Lunar Prospector"&gt;Lunar Prospector&lt;/a&gt;&lt;b&gt;s gamma-ray spectrometer&lt;/b&gt;&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">14</th>
<td class="status">pass</td>
<td class="description">Italics and bold: 2-quote opening sequence: (2,2)</td>
<td class="input"><pre>''foo''</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;i&gt;foo&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;i&gt;foo&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">15</th>
<td class="status">fail</td>
<td class="description">Italics and bold: 2-quote opening sequence: (2,3)</td>
<td class="input"><pre>''foo'''</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;i&gt;foo'&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;i&gt;foo&lt;b/&gt;&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">16</th>
<td class="status">fail</td>
<td class="description">Italics and bold: 2-quote opening sequence: (2,4)</td>
<td class="input"><pre>''foo''''</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;i&gt;foo''&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;i&gt;foo'&lt;b/&gt;&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">17</th>
<td class="status">tidy</td>
<td class="description">Italics and bold: 2-quote opening sequence: (2,5) (php)<ul><li>php</li></ul>
</td>
<td class="input"><pre>''foo'''''</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;i&gt;foo&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;i&gt;foo&lt;/i&gt;&lt;b/&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">18</th>
<td class="status">tidy</td>
<td class="description">Italics and bold: 2-quote opening sequence: (2,5) (parsoid)<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>''foo'''''</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;i&gt;foo&lt;/i&gt;&lt;b&gt;&lt;/b&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;i&gt;foo&lt;/i&gt;&lt;b/&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">19</th>
<td class="status">fail</td>
<td class="description">Italics and bold: 3-quote opening sequence: (3,2)</td>
<td class="input"><pre>'''foo''</pre></td>
<td class="expect"><pre>&lt;p&gt;'&lt;i&gt;foo&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;b&gt;foo&lt;i/&gt;&lt;/b&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">20</th>
<td class="status">pass</td>
<td class="description">Italics and bold: 3-quote opening sequence: (3,3)</td>
<td class="input"><pre>'''foo'''</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;b&gt;foo&lt;/b&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;b&gt;foo&lt;/b&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">21</th>
<td class="status">pass</td>
<td class="description">Italics and bold: 3-quote opening sequence: (3,4)</td>
<td class="input"><pre>'''foo''''</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;b&gt;foo'&lt;/b&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;b&gt;foo'&lt;/b&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">22</th>
<td class="status">tidy</td>
<td class="description">Italics and bold: 3-quote opening sequence: (3,5) (php)<ul><li>php</li></ul>
</td>
<td class="input"><pre>'''foo'''''</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;b&gt;foo&lt;/b&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;b&gt;foo&lt;/b&gt;&lt;i/&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">23</th>
<td class="status">tidy</td>
<td class="description">Italics and bold: 3-quote opening sequence: (3,5) (parsoid)<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>'''foo'''''</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;b&gt;foo&lt;i&gt;&lt;/i&gt;&lt;/b&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;b&gt;foo&lt;/b&gt;&lt;i/&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">24</th>
<td class="status">fail</td>
<td class="description">Italics and bold: 4-quote opening sequence: (4,2)</td>
<td class="input"><pre>''''foo''</pre></td>
<td class="expect"><pre>&lt;p&gt;''&lt;i&gt;foo&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;'&lt;b&gt;foo&lt;i/&gt;&lt;/b&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">25</th>
<td class="status">pass</td>
<td class="description">Italics and bold: 4-quote opening sequence: (4,3)</td>
<td class="input"><pre>''''foo'''</pre></td>
<td class="expect"><pre>&lt;p&gt;'&lt;b&gt;foo&lt;/b&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;'&lt;b&gt;foo&lt;/b&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">26</th>
<td class="status">pass</td>
<td class="description">Italics and bold: 4-quote opening sequence: (4,4)</td>
<td class="input"><pre>''''foo''''</pre></td>
<td class="expect"><pre>&lt;p&gt;'&lt;b&gt;foo'&lt;/b&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;'&lt;b&gt;foo'&lt;/b&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">27</th>
<td class="status">tidy</td>
<td class="description">Italics and bold: 4-quote opening sequence: (4,5) (php)<ul><li>php</li></ul>
</td>
<td class="input"><pre>''''foo'''''</pre></td>
<td class="expect"><pre>&lt;p&gt;'&lt;b&gt;foo&lt;/b&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;'&lt;b&gt;foo&lt;/b&gt;&lt;i/&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">28</th>
<td class="status">tidy</td>
<td class="description">Italics and bold: 4-quote opening sequence: (4,5) (parsoid)<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>''''foo'''''</pre></td>
<td class="expect"><pre>&lt;p&gt;'&lt;b&gt;foo&lt;i&gt;&lt;/i&gt;&lt;/b&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;'&lt;b&gt;foo&lt;/b&gt;&lt;i/&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">29</th>
<td class="status">pass</td>
<td class="description">Italics and bold: 5-quote opening sequence: (5,2) (php)<ul><li>php</li></ul>
</td>
<td class="input"><pre>'''''foo''</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;b&gt;&lt;i&gt;foo&lt;/i&gt;&lt;/b&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;b&gt;&lt;i&gt;foo&lt;/i&gt;&lt;/b&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">30</th>
<td class="status">fail</td>
<td class="description">Italics and bold: 5-quote opening sequence: (5,2) (parsoid)<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>'''''foo''</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;i&gt;&lt;b&gt;foo&lt;/b&gt;&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;b&gt;&lt;i&gt;foo&lt;/i&gt;&lt;/b&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">31</th>
<td class="status">pass</td>
<td class="description">Italics and bold: 5-quote opening sequence: (5,3)</td>
<td class="input"><pre>'''''foo'''</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;i&gt;&lt;b&gt;foo&lt;/b&gt;&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;i&gt;&lt;b&gt;foo&lt;/b&gt;&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">32</th>
<td class="status">pass</td>
<td class="description">Italics and bold: 5-quote opening sequence: (5,4)</td>
<td class="input"><pre>'''''foo''''</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;i&gt;&lt;b&gt;foo'&lt;/b&gt;&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;i&gt;&lt;b&gt;foo'&lt;/b&gt;&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">33</th>
<td class="status">pass</td>
<td class="description">Italics and bold: 5-quote opening sequence: (5,5)</td>
<td class="input"><pre>'''''foo'''''</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;i&gt;&lt;b&gt;foo&lt;/b&gt;&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;i&gt;&lt;b&gt;foo&lt;/b&gt;&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">34</th>
<td class="status">tidy</td>
<td class="description">Italics and bold: multiple quote sequences: (2,4,2)</td>
<td class="input"><pre>''foo''''bar''</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;i&gt;foo'&lt;b&gt;bar&lt;/b&gt;&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;i&gt;foo'&lt;b&gt;bar&lt;i/&gt;&lt;/b&gt;&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">35</th>
<td class="status">pass</td>
<td class="description">Italics and bold: multiple quote sequences: (2,4,3)</td>
<td class="input"><pre>''foo''''bar'''</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;i&gt;foo'&lt;b&gt;bar&lt;/b&gt;&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;i&gt;foo'&lt;b&gt;bar&lt;/b&gt;&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">36</th>
<td class="status">pass</td>
<td class="description">Italics and bold: multiple quote sequences: (2,4,4)</td>
<td class="input"><pre>''foo''''bar''''</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;i&gt;foo'&lt;b&gt;bar'&lt;/b&gt;&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;i&gt;foo'&lt;b&gt;bar'&lt;/b&gt;&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">37</th>
<td class="status">tidy</td>
<td class="description">Italics and bold: multiple quote sequences: (3,4,2) (php)<ul><li>php</li></ul>
</td>
<td class="input"><pre>'''foo''''bar''</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;b&gt;foo'&lt;/b&gt;bar&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;b&gt;foo'&lt;/b&gt;bar&lt;i/&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">38</th>
<td class="status">tidy</td>
<td class="description">Italics and bold: multiple quote sequences: (3,4,2) (parsoid)<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>'''foo''''bar''</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;b&gt;foo'&lt;/b&gt;bar&lt;i&gt;&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;b&gt;foo'&lt;/b&gt;bar&lt;i/&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">39</th>
<td class="status">tidy</td>
<td class="description">Italics and bold: multiple quote sequences: (3,4,3) (php)<ul><li>php</li></ul>
</td>
<td class="input"><pre>'''foo''''bar'''</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;b&gt;foo'&lt;/b&gt;bar&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;b&gt;foo'&lt;/b&gt;bar&lt;b/&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">40</th>
<td class="status">tidy</td>
<td class="description">Italics and bold: multiple quote sequences: (3,4,3) (parsoid)<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>'''foo''''bar'''</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;b&gt;foo'&lt;/b&gt;bar&lt;b&gt;&lt;/b&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;b&gt;foo'&lt;/b&gt;bar&lt;b/&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">41</th>
<td class="status">pass</td>
<td class="description">Italics and bold: other quote tests: (2,3,5)</td>
<td class="input"><pre>''this is about '''foo's family'''''</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;i&gt;this is about &lt;b&gt;foo's family&lt;/b&gt;&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;i&gt;this is about &lt;b&gt;foo's family&lt;/b&gt;&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">42</th>
<td class="status">pass</td>
<td class="description">Italics and bold: other quote tests: (2,(3,3),2)</td>
<td class="input"><pre>''this is about '''foo's''' family''</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;i&gt;this is about &lt;b&gt;foo's&lt;/b&gt; family&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;i&gt;this is about &lt;b&gt;foo's&lt;/b&gt; family&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">43</th>
<td class="status">fail</td>
<td class="description">Italics and bold: other quote tests: (3,2,3,2)</td>
<td class="input"><pre>'''this is about ''foo'''s family''</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;b&gt;this is about &lt;i&gt;foo&lt;/i&gt;&lt;/b&gt;&lt;i&gt;s family&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;b&gt;this is about &lt;i&gt;foo&lt;b&gt;s family&lt;i/&gt;&lt;/b&gt;&lt;/i&gt;&lt;/b&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">44</th>
<td class="status">fail</td>
<td class="description">Italics and bold: other quote tests: (3,2,3,3) (php)<ul><li>php</li></ul>
</td>
<td class="input"><pre>'''this is about ''foo'''s family'''</pre></td>
<td class="expect"><pre>&lt;p&gt;'&lt;i&gt;this is about &lt;/i&gt;foo&lt;b&gt;s family&lt;/b&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;b&gt;this is about &lt;i&gt;foo&lt;b&gt;s family&lt;/b&gt;&lt;/i&gt;&lt;/b&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">45</th>
<td class="status">fail</td>
<td class="description">Italics and bold: other quote tests: (3,2,3,3) (parsoid)<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>'''this is about ''foo'''s family'''</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;b&gt;this is about &lt;i&gt;foo'&lt;/i&gt;s family&lt;/b&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;b&gt;this is about &lt;i&gt;foo&lt;b&gt;s family&lt;/b&gt;&lt;/i&gt;&lt;/b&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">46</th>
<td class="status">pass</td>
<td class="description">Italics and bold: other quote tests: (3,(2,2),3)</td>
<td class="input"><pre>'''this is about ''foo's'' family'''</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;b&gt;this is about &lt;i&gt;foo's&lt;/i&gt; family&lt;/b&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;b&gt;this is about &lt;i&gt;foo's&lt;/i&gt; family&lt;/b&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">47</th>
<td class="status">fail</td>
<td class="description">Italicized possessive</td>
<td class="input"><pre>The ''[[Main Page]]'''s talk page.</pre></td>
<td class="expect"><pre>&lt;p&gt;The &lt;i&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt;'&lt;/i&gt;s talk page.&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;The &lt;i&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt;&lt;b&gt;s talk page.&lt;/b&gt;&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">48</th>
<td class="status">fail</td>
<td class="description">Parsoid only: Quote balancing context should be restricted to td/th cells on the same wikitext line
(Requires tidy for PHP parser output to be fixed up)<ul><li>parsoid: wt2html, wt2wt</li></ul>
</td>
<td class="input"><pre>{|&#8990;
!''a!!''b&#8990;
|''a||''b&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;tbody&gt;&lt;tr&gt;&lt;th&gt;&lt;i&gt;a&lt;/i&gt;&lt;/th&gt;&lt;th&gt;&lt;i&gt;b&lt;/i&gt;&lt;/th&gt;&#8990;
&lt;td&gt;&lt;i&gt;a&lt;/i&gt;&lt;/td&gt;&lt;td&gt;&lt;i&gt;b&lt;/i&gt;&lt;/td&gt;&lt;/tr&gt;&#8990;
&lt;/tbody&gt;&lt;/table&gt;</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;th&gt;''a&lt;/th&gt;&lt;th&gt;&lt;i&gt;b&lt;/i&gt;&#8990;
&lt;/th&gt;&lt;td&gt;''a&lt;/td&gt;&lt;td&gt;&lt;i&gt;b&lt;/i&gt;&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">49</th>
<td class="status">tidy</td>
<td class="description">Non-html5 tags should be accepted</td>
<td class="input"><pre>&lt;center&gt;''foo''&lt;/center&gt;&#8990;
&lt;big&gt;''foo''&lt;/big&gt;&#8990;
&lt;font&gt;''foo''&lt;/font&gt;&#8990;
&lt;strike&gt;''foo''&lt;/strike&gt;&#8990;
&lt;tt&gt;''foo''&lt;/tt&gt;</pre></td>
<td class="expect"><pre>&lt;center&gt;&lt;i&gt;foo&lt;/i&gt;&lt;/center&gt;&#8990;
&lt;p&gt;&lt;big&gt;&lt;i&gt;foo&lt;/i&gt;&lt;/big&gt;&#8990;
&lt;font&gt;&lt;i&gt;foo&lt;/i&gt;&lt;/font&gt;&#8990;
&lt;strike&gt;&lt;i&gt;foo&lt;/i&gt;&lt;/strike&gt;&#8990;
&lt;tt&gt;&lt;i&gt;foo&lt;/i&gt;&lt;/tt&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;center&gt;&lt;i&gt;foo&lt;/i&gt;&#8990;
&lt;/center&gt;&lt;p&gt;&lt;big&gt;&lt;i&gt;foo&lt;/i&gt;&lt;/big&gt;&#8990;
&lt;font&gt;&lt;i&gt;foo&lt;/i&gt;&lt;/font&gt;&#8990;
&lt;strike&gt;&lt;i&gt;foo&lt;/i&gt;&lt;/strike&gt;&#8990;
&lt;tt&gt;&lt;i&gt;foo&lt;/i&gt;&lt;/tt&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">50</th>
<td class="status">pass</td>
<td class="description">&lt;nowiki&gt; unordered list</td>
<td class="input"><pre>&lt;nowiki&gt;* This is not an unordered list item.&lt;/nowiki&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;* This is not an unordered list item.&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;* This is not an unordered list item.&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">51</th>
<td class="status">tidy</td>
<td class="description">&lt;nowiki&gt; spacing</td>
<td class="input"><pre>&lt;nowiki&gt;Lorem ipsum dolor&#8990;
&#8990;
sed abit.&#8990;
  sed nullum.&#8990;
&#8990;
:and a colon&#8990;
&lt;/nowiki&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;Lorem ipsum dolor&#8990;
&#8990;
sed abit.&#8990;
  sed nullum.&#8990;
&#8990;
:and a colon&#8990;
&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Lorem ipsum dolor&#8990;
&#8990;
sed abit.&#8990;
  sed nullum.&#8990;
&#8990;
:and a colon&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">52</th>
<td class="status">pass</td>
<td class="description">nowiki 3</td>
<td class="input"><pre>:There is not nowiki.&#8990;
:There is &lt;nowiki&gt;nowiki&lt;/nowiki&gt;.&#8990;
&#8990;
#There is not nowiki.&#8990;
#There is &lt;nowiki&gt;nowiki&lt;/nowiki&gt;.&#8990;
&#8990;
*There is not nowiki.&#8990;
*There is &lt;nowiki&gt;nowiki&lt;/nowiki&gt;.</pre></td>
<td class="expect"><pre>&lt;dl&gt;&lt;dd&gt;There is not nowiki.&#8990;
&lt;/dd&gt;&lt;dd&gt;There is nowiki.&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;ol&gt;&lt;li&gt;There is not nowiki.&#8990;
&lt;/li&gt;&lt;li&gt;There is nowiki.&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
&lt;ul&gt;&lt;li&gt;There is not nowiki.&#8990;
&lt;/li&gt;&lt;li&gt;There is nowiki.&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;dl&gt;&lt;dd&gt;There is not nowiki.&#8990;
&lt;/dd&gt;&lt;dd&gt;There is nowiki.&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;ol&gt;&lt;li&gt;There is not nowiki.&#8990;
&lt;/li&gt;&lt;li&gt;There is nowiki.&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
&lt;ul&gt;&lt;li&gt;There is not nowiki.&#8990;
&lt;/li&gt;&lt;li&gt;There is nowiki.&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
</tr>
<tr class="pass">
<th class="index">53</th>
<td class="status">pass</td>
<td class="description">Entities inside &lt;nowiki&gt;</td>
<td class="input"><pre>&lt;nowiki&gt;&amp;lt;&lt;/nowiki&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&amp;lt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">54</th>
<td class="status">fail</td>
<td class="description">Entities inside template parameters<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>{{echo|&amp;ndash;}}</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;span typeof="mw:Transclusion mw:Entity" data-mw='{"target":{"wt":"echo","href":"./Template:Echo"},"params":{"1":{"wt":"&amp;amp;ndash;"}},"i":0}'&gt;&amp;ndash;&lt;/span&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;#8211;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">55</th>
<td class="status">tidy</td>
<td class="description">Comments and Indent-Pre</td>
<td class="input"><pre>&lt;!-- comment 1 --&gt; asdf&#8990;
&#8990;
&lt;!-- comment 1 --&gt; asdf&#8990;
&lt;!-- comment 2 --&gt;&#8990;
&#8990;
&lt;!-- comment 1 --&gt; asdf&#8990;
&lt;!-- comment 2 --&gt;xyz&#8990;
&#8990;
&lt;!-- comment 1 --&gt; asdf&#8990;
&lt;!-- comment 2 --&gt; xyz</pre></td>
<td class="expect"><pre>&lt;pre&gt;asdf&#8990;
&lt;/pre&gt;&#8990;
&lt;pre&gt;asdf&#8990;
&lt;/pre&gt;&#8990;
&lt;pre&gt;asdf&#8990;
&lt;/pre&gt;&#8990;
&lt;p&gt;xyz&#8990;
&lt;/p&gt;&#8990;
&lt;pre&gt;asdf&#8990;
xyz&#8990;
&lt;/pre&gt;</pre></td>
<td class="output"><pre>&lt;pre&gt;asdf&#8990;
&lt;/pre&gt;&lt;pre&gt;asdf&#8990;
&lt;/pre&gt;&lt;pre&gt;asdf&#8990;
&lt;/pre&gt;&lt;p&gt;xyz&#8990;
&lt;/p&gt;&lt;pre&gt;asdf&#8990;
xyz&#8990;
&lt;/pre&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">56</th>
<td class="status">pass</td>
<td class="description">Comment test 2a</td>
<td class="input"><pre>asdf&#8990;
&lt;!-- comment 1 --&gt;&#8990;
jkl</pre></td>
<td class="expect"><pre>&lt;p&gt;asdf&#8990;
jkl&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;asdf&#8990;
jkl&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">57</th>
<td class="status">pass</td>
<td class="description">Comment test 2b</td>
<td class="input"><pre>asdf&#8990;
&lt;!-- comment 1 --&gt;&#8990;
&#8990;
jkl</pre></td>
<td class="expect"><pre>&lt;p&gt;asdf&#8990;
&lt;/p&gt;&lt;p&gt;jkl&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;asdf&#8990;
&lt;/p&gt;&lt;p&gt;jkl&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">58</th>
<td class="status">pass</td>
<td class="description">Comment test 3</td>
<td class="input"><pre>asdf&#8990;
&lt;!-- comment 1 --&gt;&#8990;
&lt;!-- comment 2 --&gt;&#8990;
jkl</pre></td>
<td class="expect"><pre>&lt;p&gt;asdf&#8990;
jkl&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;asdf&#8990;
jkl&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">59</th>
<td class="status">pass</td>
<td class="description">Comment test 4</td>
<td class="input"><pre>asdf&lt;!-- comment 1 --&gt;jkl</pre></td>
<td class="expect"><pre>&lt;p&gt;asdfjkl&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;asdfjkl&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">60</th>
<td class="status">tidy</td>
<td class="description">Comment spacing</td>
<td class="input"><pre>a&#8990;
 &lt;!-- foo --&gt; b &lt;!-- bar --&gt;&#8990;
c</pre></td>
<td class="expect"><pre>&lt;p&gt;a&#8990;
&lt;/p&gt;&#8990;
&lt;pre&gt; b &#8990;
&lt;/pre&gt;&#8990;
&lt;p&gt;c&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;a&#8990;
&lt;/p&gt;&lt;pre&gt; b &#8990;
&lt;/pre&gt;&lt;p&gt;c&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">61</th>
<td class="status">pass</td>
<td class="description">Comment whitespace</td>
<td class="input"><pre>&lt;!-- returns a single newline, not nothing, since the newline after &gt; is not stripped --&gt;</pre></td>
<td class="expect"><pre></pre></td>
<td class="output"><pre></pre></td>
</tr>
<tr class="pass">
<th class="index">62</th>
<td class="status">pass</td>
<td class="description">Comment semantics and delimiters</td>
<td class="input"><pre>&lt;!-- --&gt;&lt;!----&gt;&lt;!-----&gt;&lt;!------&gt;</pre></td>
<td class="expect"><pre></pre></td>
<td class="output"><pre></pre></td>
</tr>
<tr class="pass">
<th class="index">63</th>
<td class="status">pass</td>
<td class="description">Comment semantics and delimiters, redux</td>
<td class="input"><pre>&lt;!-- In SGML every "foo" here would actually show up in the text -- foo -- bar&#8990;
-- foo -- funky huh? ... --&gt;</pre></td>
<td class="expect"><pre></pre></td>
<td class="output"><pre></pre></td>
</tr>
<tr class="pass">
<th class="index">64</th>
<td class="status">pass</td>
<td class="description">Comment semantics and delimiters: directors cut</td>
<td class="input"><pre>&lt;!-- ... However we like to keep things simple and somewhat XML-ish so we eat&#8990;
everything starting with &lt; followed by !-- until the first -- and &gt; we see,&#8990;
that wouldn't be valid XML however, since in XML -- has to terminate a comment&#8990;
--&gt;--&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;--&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;--&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">65</th>
<td class="status">pass</td>
<td class="description">Comment semantics: nesting</td>
<td class="input"><pre>&lt;!--&lt;!-- no, we're not going to do anything fancy here --&gt;--&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;--&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;--&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">66</th>
<td class="status">pass</td>
<td class="description">Comment semantics: unclosed comment at end</td>
<td class="input"><pre>&lt;!--This comment will run out to the end of the document</pre></td>
<td class="expect"><pre></pre></td>
<td class="output"><pre></pre></td>
</tr>
<tr class="pass">
<th class="index">67</th>
<td class="status">pass</td>
<td class="description">Comment in template title</td>
<td class="input"><pre>{{f&lt;!----&gt;oo}}</pre></td>
<td class="expect"><pre>&lt;p&gt;FOO&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;FOO&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">68</th>
<td class="status">pass</td>
<td class="description">Comment on its own line post-expand</td>
<td class="input"><pre>a&#8990;
{{blank}}&lt;!----&gt;&#8990;
b</pre></td>
<td class="expect"><pre>&lt;p&gt;a&#8990;
&lt;/p&gt;&lt;p&gt;b&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;a&#8990;
&lt;/p&gt;&lt;p&gt;b&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">69</th>
<td class="status">pass</td>
<td class="description">Comment on its own line post-expand with non-significant whitespace</td>
<td class="input"><pre>a&#8990;
 {{blank}} &lt;!----&gt; &#8990;
b</pre></td>
<td class="expect"><pre>&lt;p&gt;a&#8990;
&lt;/p&gt;&lt;p&gt;b&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;a&#8990;
&lt;/p&gt;&lt;p&gt;b&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">70</th>
<td class="status">pass</td>
<td class="description">No block tags</td>
<td class="input"><pre>a&#8990;
&#8990;
b</pre></td>
<td class="expect"><pre>&lt;p&gt;a&#8990;
&lt;/p&gt;&lt;p&gt;b&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;a&#8990;
&lt;/p&gt;&lt;p&gt;b&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">71</th>
<td class="status">fail</td>
<td class="description">Block tag on one line</td>
<td class="input"><pre>a &lt;div&gt;foo&lt;/div&gt;&#8990;
&#8990;
b</pre></td>
<td class="expect"><pre>a &lt;div&gt;foo&lt;/div&gt;&#8990;
&lt;p&gt;b&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;a &#8990;
&lt;/p&gt;&lt;div&gt;foo&lt;/div&gt;&lt;p&gt;b&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">72</th>
<td class="status">fail</td>
<td class="description">Block tag on both lines</td>
<td class="input"><pre>a &lt;div&gt;foo&lt;/div&gt;&#8990;
&#8990;
b &lt;div&gt;foo&lt;/div&gt;</pre></td>
<td class="expect"><pre>a &lt;div&gt;foo&lt;/div&gt;&#8990;
b &lt;div&gt;foo&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;a &#8990;
&lt;/p&gt;&lt;div&gt;foo&lt;/div&gt;&lt;p&gt;b &#8990;
&lt;/p&gt;&lt;div&gt;foo&lt;/div&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">73</th>
<td class="status">fail</td>
<td class="description">Multiple lines without block tags</td>
<td class="input"><pre>&lt;div&gt;foo&lt;/div&gt; a&#8990;
b&#8990;
c&#8990;
d&lt;!--foo--&gt; e&#8990;
x &lt;div&gt;foo&lt;/div&gt; z</pre></td>
<td class="expect"><pre>&lt;div&gt;foo&lt;/div&gt; a&#8990;
&lt;p&gt;b&#8990;
c&#8990;
d e&#8990;
&lt;/p&gt;&#8990;
x &lt;div&gt;foo&lt;/div&gt; z&#8990;
</pre></td>
<td class="output"><pre>&lt;div&gt;foo&lt;/div&gt;&lt;p&gt; a&#8990;
b&#8990;
c&#8990;
d e&#8990;
x &#8990;
&lt;/p&gt;&lt;div&gt;foo&lt;/div&gt;&lt;p&gt; z&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">74</th>
<td class="status">fail</td>
<td class="description">Empty lines between lines with block tags</td>
<td class="input"><pre>&lt;div&gt;&lt;/div&gt;&#8990;
&#8990;
&#8990;
&lt;div&gt;&lt;/div&gt;a&#8990;
&#8990;
b&#8990;
&lt;div&gt;a&lt;/div&gt;b&#8990;
&#8990;
&lt;div&gt;b&lt;/div&gt;d&#8990;
&#8990;
&#8990;
&lt;div&gt;e&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div&gt;&lt;/div&gt;&#8990;
&lt;p&gt;&lt;br /&gt;&#8990;
&lt;/p&gt;&#8990;
&lt;div&gt;&lt;/div&gt;a&#8990;
&lt;p&gt;b&#8990;
&lt;/p&gt;&#8990;
&lt;div&gt;a&lt;/div&gt;b&#8990;
&lt;div&gt;b&lt;/div&gt;d&#8990;
&lt;p&gt;&lt;br /&gt;&#8990;
&lt;/p&gt;&#8990;
&lt;div&gt;e&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div/&gt;&lt;p&gt;&lt;br/&gt;&#8990;
&lt;/p&gt;&lt;div/&gt;&lt;p&gt;a&#8990;
&lt;/p&gt;&lt;p&gt;b&#8990;
&lt;/p&gt;&lt;div&gt;a&lt;/div&gt;&lt;p&gt;b&#8990;
&lt;/p&gt;&lt;div&gt;b&lt;/div&gt;&lt;p&gt;d&#8990;
&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&#8990;
&lt;/p&gt;&lt;div&gt;e&lt;/div&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">75</th>
<td class="status">pass</td>
<td class="description">Preformatted text</td>
<td class="input"><pre> This is some&#8990;
 Preformatted text&#8990;
 With ''italic''&#8990;
 And '''bold'''&#8990;
 And a [[Main Page|link]]</pre></td>
<td class="expect"><pre>&lt;pre&gt;This is some&#8990;
Preformatted text&#8990;
With &lt;i&gt;italic&lt;/i&gt;&#8990;
And &lt;b&gt;bold&lt;/b&gt;&#8990;
And a &lt;a href="/wiki/Main_Page" title="Main Page"&gt;link&lt;/a&gt;&#8990;
&lt;/pre&gt;</pre></td>
<td class="output"><pre>&lt;pre&gt;This is some&#8990;
Preformatted text&#8990;
With &lt;i&gt;italic&lt;/i&gt;&#8990;
And &lt;b&gt;bold&lt;/b&gt;&#8990;
And a &lt;a href="/wiki/Main_Page" title="Main Page"&gt;link&lt;/a&gt;&#8990;
&lt;/pre&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">76</th>
<td class="status">pass</td>
<td class="description">Ident preformatting with inline content</td>
<td class="input"><pre> a&#8990;
 ''b''</pre></td>
<td class="expect"><pre>&lt;pre&gt;a&#8990;
&lt;i&gt;b&lt;/i&gt;&#8990;
&lt;/pre&gt;</pre></td>
<td class="output"><pre>&lt;pre&gt;a&#8990;
&lt;i&gt;b&lt;/i&gt;&#8990;
&lt;/pre&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">77</th>
<td class="status">tidy</td>
<td class="description">&lt;pre&gt; with &lt;nowiki&gt; inside (compatibility with 1.6 and earlier)</td>
<td class="input"><pre>&lt;pre&gt;&lt;nowiki&gt;&#8990;
&lt;b&gt;&#8990;
&lt;cite&gt;&#8990;
&lt;em&gt;&#8990;
&lt;/nowiki&gt;&lt;/pre&gt;</pre></td>
<td class="expect"><pre>&lt;pre&gt;&#8990;
&amp;lt;b&amp;gt;&#8990;
&amp;lt;cite&amp;gt;&#8990;
&amp;lt;em&amp;gt;&#8990;
&lt;/pre&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;pre&gt;&#8990;
&amp;lt;b&amp;gt;&#8990;
&amp;lt;cite&amp;gt;&#8990;
&amp;lt;em&amp;gt;&#8990;
&lt;/pre&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">78</th>
<td class="status">tidy</td>
<td class="description">Regression with preformatted in &lt;center&gt;</td>
<td class="input"><pre>&lt;center&gt;&#8990;
 Blah&#8990;
&lt;/center&gt;</pre></td>
<td class="expect"><pre>&lt;center&gt;&#8990;
&lt;pre&gt;Blah&#8990;
&lt;/pre&gt;&#8990;
&lt;/center&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;center&gt;&lt;pre&gt;Blah&#8990;
&lt;/pre&gt;&lt;/center&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">79</th>
<td class="status">tidy</td>
<td class="description">Bug 6200: Preformatted in &lt;blockquote&gt;</td>
<td class="input"><pre>&lt;blockquote&gt;&#8990;
 Blah&#8990;
&lt;/blockquote&gt;</pre></td>
<td class="expect"><pre>&lt;blockquote&gt;&#8990;
 Blah&#8990;
&lt;/blockquote&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;blockquote&gt; Blah&lt;/blockquote&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">80</th>
<td class="status">tidy</td>
<td class="description">&lt;pre&gt; with attributes (bug 3202)</td>
<td class="input"><pre>&lt;pre style="background: blue; color:white"&gt;Bluescreen of WikiDeath&lt;/pre&gt;</pre></td>
<td class="expect"><pre>&lt;pre style="background: blue; color:white"&gt;Bluescreen of WikiDeath&lt;/pre&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;pre style="background: blue; color:white"&gt;Bluescreen of WikiDeath&lt;/pre&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">81</th>
<td class="status">tidy</td>
<td class="description">&lt;pre&gt; with width attribute (bug 3202)</td>
<td class="input"><pre>&lt;pre width="8"&gt;Narrow screen goodies&lt;/pre&gt;</pre></td>
<td class="expect"><pre>&lt;pre width="8"&gt;Narrow screen goodies&lt;/pre&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;pre width="8"&gt;Narrow screen goodies&lt;/pre&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">82</th>
<td class="status">tidy</td>
<td class="description">&lt;pre&gt; with forbidden attribute (bug 3202)</td>
<td class="input"><pre>&lt;pre width="8" onmouseover="alert(document.cookie)"&gt;Narrow screen goodies&lt;/pre&gt;</pre></td>
<td class="expect"><pre>&lt;pre width="8"&gt;Narrow screen goodies&lt;/pre&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;pre width="8"&gt;Narrow screen goodies&lt;/pre&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">83</th>
<td class="status">tidy</td>
<td class="description">Entities inside &lt;pre&gt;</td>
<td class="input"><pre>&lt;pre&gt;&amp;lt;&lt;/pre&gt;</pre></td>
<td class="expect"><pre>&lt;pre&gt;&amp;lt;&lt;/pre&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;pre&gt;&amp;lt;&lt;/pre&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">84</th>
<td class="status">tidy</td>
<td class="description">&lt;pre&gt; with forbidden attribute values (bug 3202)</td>
<td class="input"><pre>&lt;pre width="8" style="border-width: expression(alert(document.cookie))"&gt;Narrow screen goodies&lt;/pre&gt;</pre></td>
<td class="expect"><pre>&lt;pre width="8" style="/* insecure input */"&gt;Narrow screen goodies&lt;/pre&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;pre width="8" style="/* insecure input */"&gt;Narrow screen goodies&lt;/pre&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">85</th>
<td class="status">tidy</td>
<td class="description">&lt;nowiki&gt; inside &lt;pre&gt; (bug 13238)</td>
<td class="input"><pre>&lt;pre&gt;&#8990;
&lt;nowiki&gt;&#8990;
&lt;/pre&gt;&#8990;
&lt;pre&gt;&#8990;
&lt;nowiki&gt;&lt;/nowiki&gt;&#8990;
&lt;/pre&gt;&#8990;
&lt;pre&gt;&lt;nowiki&gt;&lt;nowiki&gt;&lt;/nowiki&gt;Foo&lt;nowiki&gt;&lt;/nowiki&gt;&lt;/nowiki&gt;&lt;/pre&gt;</pre></td>
<td class="expect"><pre>&lt;pre&gt;&#8990;
&amp;lt;nowiki&amp;gt;&#8990;
&lt;/pre&gt;&#8990;
&lt;pre&gt;&#8990;
&#8990;
&lt;/pre&gt;&#8990;
&lt;pre&gt;&amp;lt;nowiki&amp;gt;Foo&amp;lt;/nowiki&amp;gt;&lt;/pre&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;pre&gt;&#8990;
&amp;lt;nowiki&amp;gt;&#8990;
&lt;/pre&gt;&lt;pre&gt;&#8990;
&#8990;
&lt;/pre&gt;&lt;pre&gt;&amp;lt;nowiki&amp;gt;Foo&amp;lt;/nowiki&amp;gt;&lt;/pre&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">86</th>
<td class="status">tidy</td>
<td class="description">&lt;nowiki&gt; and &lt;pre&gt; preference (first one wins)</td>
<td class="input"><pre>&lt;pre&gt;&#8990;
&lt;nowiki&gt;&#8990;
&lt;/pre&gt;&#8990;
&lt;/nowiki&gt;&#8990;
&lt;/pre&gt;&#8990;
&#8990;
&lt;nowiki&gt;&#8990;
&lt;pre&gt;&#8990;
&lt;nowiki&gt;&#8990;
&lt;/pre&gt;&#8990;
&lt;/nowiki&gt;&#8990;
&lt;/pre&gt;&#8990;
</pre></td>
<td class="expect"><pre>&lt;pre&gt;&#8990;
&amp;lt;nowiki&amp;gt;&#8990;
&lt;/pre&gt;&#8990;
&lt;p&gt;&amp;lt;/nowiki&amp;gt;&#8990;
&amp;lt;/pre&amp;gt;&#8990;
&lt;/p&gt;&lt;p&gt;&#8990;
&amp;lt;pre&amp;gt;&#8990;
&amp;lt;nowiki&amp;gt;&#8990;
&amp;lt;/pre&amp;gt;&#8990;
&#8990;
&amp;lt;/pre&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;pre&gt;&#8990;
&amp;lt;nowiki&amp;gt;&#8990;
&lt;/pre&gt;&lt;p&gt;&amp;lt;/nowiki&amp;gt;&#8990;
&amp;lt;/pre&amp;gt;&#8990;
&lt;/p&gt;&lt;p&gt;&#8990;
&amp;lt;pre&amp;gt;&#8990;
&amp;lt;nowiki&amp;gt;&#8990;
&amp;lt;/pre&amp;gt;&#8990;
&#8990;
&amp;lt;/pre&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">87</th>
<td class="status">pass</td>
<td class="description">&lt;/pre&gt; inside nowiki</td>
<td class="input"><pre>&lt;nowiki&gt;&lt;/pre&gt;&lt;/nowiki&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&amp;lt;/pre&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;/pre&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">88</th>
<td class="status">pass</td>
<td class="description">Templates: Indent-Pre: 1a. Templates that break a line should suppress &lt;pre&gt;</td>
<td class="input"><pre> {{echo|}}</pre></td>
<td class="expect"><pre></pre></td>
<td class="output"><pre></pre></td>
</tr>
<tr class="pass">
<th class="index">89</th>
<td class="status">pass</td>
<td class="description">Templates: Indent-Pre: 1b. Templates that break a line should suppress &lt;pre&gt;</td>
<td class="input"><pre> {{echo|&#8990;
foo}}</pre></td>
<td class="expect"><pre>&lt;p&gt;foo&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;foo&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">90</th>
<td class="status">tidy</td>
<td class="description">Templates: Indent-Pre: 1c: Wrapping should be based on expanded content</td>
<td class="input"><pre> {{echo|a&#8990;
b}}</pre></td>
<td class="expect"><pre>&lt;pre&gt;a&#8990;
&lt;/pre&gt;&#8990;
&lt;p&gt;b&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;pre&gt;a&#8990;
&lt;/pre&gt;&lt;p&gt;b&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">91</th>
<td class="status">tidy</td>
<td class="description">Templates: Indent-Pre: 1d: Wrapping should be based on expanded content</td>
<td class="input"><pre> {{echo|a&#8990;
b&#8990;
c&#8990;
 d&#8990;
e&#8990;
}}</pre></td>
<td class="expect"><pre>&lt;pre&gt;a&#8990;
&lt;/pre&gt;&#8990;
&lt;p&gt;b&#8990;
c&#8990;
&lt;/p&gt;&#8990;
&lt;pre&gt;d&#8990;
&lt;/pre&gt;&#8990;
&lt;p&gt;e&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;pre&gt;a&#8990;
&lt;/pre&gt;&lt;p&gt;b&#8990;
c&#8990;
&lt;/p&gt;&lt;pre&gt;d&#8990;
&lt;/pre&gt;&lt;p&gt;e&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">92</th>
<td class="status">tidy</td>
<td class="description">Templates: Indent-Pre: 1e. Wrapping should be based on expanded content</td>
<td class="input"><pre>{{echo| foo}}&#8990;
&#8990;
{{echo| foo}}{{echo| bar}}&#8990;
&#8990;
{{echo| foo}}&#8990;
{{echo| bar}}&#8990;
&#8990;
{{echo|&lt;!--cmt--&gt; foo}}&#8990;
&#8990;
&lt;!--cmt--&gt;{{echo| foo}}&#8990;
&#8990;
{{echo|{{echo| }}bar}}</pre></td>
<td class="expect"><pre>&lt;pre&gt;foo&#8990;
&lt;/pre&gt;&#8990;
&lt;pre&gt;foo bar&#8990;
&lt;/pre&gt;&#8990;
&lt;pre&gt;foo&#8990;
bar&#8990;
&lt;/pre&gt;&#8990;
&lt;pre&gt;foo&#8990;
&lt;/pre&gt;&#8990;
&lt;pre&gt;foo&#8990;
&lt;/pre&gt;&#8990;
&lt;pre&gt;bar&#8990;
&lt;/pre&gt;</pre></td>
<td class="output"><pre>&lt;pre&gt;foo&#8990;
&lt;/pre&gt;&lt;pre&gt;foo bar&#8990;
&lt;/pre&gt;&lt;pre&gt;foo&#8990;
bar&#8990;
&lt;/pre&gt;&lt;pre&gt;foo&#8990;
&lt;/pre&gt;&lt;pre&gt;foo&#8990;
&lt;/pre&gt;&lt;pre&gt;bar&#8990;
&lt;/pre&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">93</th>
<td class="status">tidy</td>
<td class="description">Templates: Indent-Pre: 1f: Wrapping should be based on expanded content</td>
<td class="input"><pre>{{echo| }}a&#8990;
&#8990;
{{echo|&#8990;
 }}a&#8990;
&#8990;
{{echo|&#8990;
 b}}&#8990;
&#8990;
{{echo|a&#8990;
 }}b&#8990;
&#8990;
{{echo|a&#8990;
}} b</pre></td>
<td class="expect"><pre>&lt;pre&gt;a&#8990;
&lt;/pre&gt;&#8990;
&lt;p&gt;&lt;br /&gt;&#8990;
&lt;/p&gt;&#8990;
&lt;pre&gt;a&#8990;
&lt;/pre&gt;&#8990;
&lt;p&gt;&lt;br /&gt;&#8990;
&lt;/p&gt;&#8990;
&lt;pre&gt;b&#8990;
&lt;/pre&gt;&#8990;
&lt;p&gt;a&#8990;
&lt;/p&gt;&#8990;
&lt;pre&gt;b&#8990;
&lt;/pre&gt;&#8990;
&lt;p&gt;a&#8990;
&lt;/p&gt;&#8990;
&lt;pre&gt;b&#8990;
&lt;/pre&gt;</pre></td>
<td class="output"><pre>&lt;pre&gt;a&#8990;
&lt;/pre&gt;&lt;p&gt;&lt;br/&gt;&#8990;
&lt;/p&gt;&lt;pre&gt;a&#8990;
&lt;/pre&gt;&lt;p&gt;&lt;br/&gt;&#8990;
&lt;/p&gt;&lt;pre&gt;b&#8990;
&lt;/pre&gt;&lt;p&gt;a&#8990;
&lt;/p&gt;&lt;pre&gt;b&#8990;
&lt;/pre&gt;&lt;p&gt;a&#8990;
&lt;/p&gt;&lt;pre&gt;b&#8990;
&lt;/pre&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">94</th>
<td class="status">tidy</td>
<td class="description">Templates: Single-line variant of parameter whitespace stripping test</td>
<td class="input"><pre>{{echo| a}}&#8990;
&#8990;
{{echo|1= a}}&#8990;
&#8990;
{{echo|{{echo| a}}}}&#8990;
&#8990;
{{echo|1={{echo| a}}}}</pre></td>
<td class="expect"><pre>&lt;pre&gt;a&#8990;
&lt;/pre&gt;&#8990;
&lt;p&gt;a&#8990;
&lt;/p&gt;&#8990;
&lt;pre&gt;a&#8990;
&lt;/pre&gt;&#8990;
&lt;p&gt;a&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;pre&gt;a&#8990;
&lt;/pre&gt;&lt;p&gt;a&#8990;
&lt;/p&gt;&lt;pre&gt;a&#8990;
&lt;/pre&gt;&lt;p&gt;a&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">95</th>
<td class="status">tidy</td>
<td class="description">Templates: Strip whitespace from named parameters, but not positional ones</td>
<td class="input"><pre>{{echo|&#8990;
 foo}}&#8990;
&#8990;
{{echo|&#8990;
* foo}}&#8990;
&#8990;
{{echo| 1 =&#8990;
 foo}}&#8990;
&#8990;
{{echo| 1 =&#8990;
* foo}}</pre></td>
<td class="expect"><pre>&lt;pre&gt;foo&#8990;
&lt;/pre&gt;&#8990;
&lt;p&gt;&lt;br /&gt;&#8990;
&lt;/p&gt;&#8990;
&lt;ul&gt;&lt;li&gt; foo&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;p&gt;foo&#8990;
&lt;/p&gt;&#8990;
&lt;ul&gt;&lt;li&gt; foo&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;pre&gt;foo&#8990;
&lt;/pre&gt;&lt;p&gt;&lt;br/&gt;&#8990;
&lt;/p&gt;&lt;ul&gt;&lt;li&gt; foo&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;p&gt;foo&#8990;
&lt;/p&gt;&lt;ul&gt;&lt;li&gt; foo&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">96</th>
<td class="status">fail</td>
<td class="description">Templates: Dont strip whitespace from whitespace/comment-only arguments</td>
<td class="input"><pre>{{echo| }}&#8990;
{{echo|&lt;!--cmt--&gt;}}&#8990;
{{echo| &lt;!--cmt--&gt; }}</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;br /&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre></pre></td>
</tr>
<tr class="fail">
<th class="index">97</th>
<td class="status">fail</td>
<td class="description">Templates: Parsoid parameter escaping test 1<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>{{echo|[foo]|{{echo|[bar]}}}}</pre></td>
<td class="expect"><pre>&lt;p about="#mwt1" typeof="mw:Transclusion"&#8990;
data-mw="{&amp;quot;target&amp;quot;:{&amp;quot;wt&amp;quot;:&amp;quot;echo&amp;quot;,&amp;quot;href&amp;quot;:&amp;quot;./Template:Echo&amp;quot;},&amp;quot;params&amp;quot;:{&amp;quot;1&amp;quot;:{&amp;quot;wt&amp;quot;:&amp;quot;[foo]&amp;quot;},&amp;quot;2&amp;quot;:{&amp;quot;wt&amp;quot;:&amp;quot;{{echo|[bar]}}&amp;quot;}},&amp;quot;i&amp;quot;:0}"&gt;[foo]&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;[foo]&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">98</th>
<td class="status">fail</td>
<td class="description">Parsoid: Pipes in external links in template parameter<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>{{echo|[{{echo|http://example.com}} link]}}</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="mw:ExtLink" href="http://example.com" about="#mwt31" typeof="mw:Transclusion" data-mw="{&amp;quot;target&amp;quot;:{&amp;quot;wt&amp;quot;:&amp;quot;echo&amp;quot;,&amp;quot;href&amp;quot;:&amp;quot;./Template:Echo&amp;quot;},&amp;quot;params&amp;quot;:{&amp;quot;1&amp;quot;:{&amp;quot;wt&amp;quot;:&amp;quot;[{{echo|http://example.com}} link]&amp;quot;}},&amp;quot;i&amp;quot;:0}"&gt;link&lt;/a&gt;&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external text" href="http://example.com"&gt;link&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">99</th>
<td class="status">fail</td>
<td class="description">Parsoid: pipe in transclusion parameter<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>{{echo|http://foo.com/a&amp;#124;b}}</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="mw:ExtLink" href="http://foo.com/a|b" about="#mwt1"&#8990;
typeof="mw:Transclusion"&#8990;
data-mw='{"target":{"wt":"echo","href":"./Template:Echo"},"params":{"1":{"wt":"http://foo.com/a|b"}},"i":0}'&gt;http://foo.com/a|b&lt;/a&gt;&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://foo.com/a|b"&gt;http://foo.com/a|b&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">100</th>
<td class="status">fail</td>
<td class="description">Parsoid: Pipe in external link target and content in template parameter<ul><li>parsoid: html2wt, wt2wt</li></ul>
</td>
<td class="input"><pre>{{echo|[http://foo.com/a&amp;#124;b a&amp;#124;b]}}</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="mw:ExtLink" href="http://foo.com/a|b" about="#mwt1"&#8990;
typeof="mw:Transclusion"&#8990;
data-mw='{"target":{"wt":"echo","href":"./Template:Echo"},&#8990;
"params":{"1":{"wt":"[http://foo.com/a|b a|b]"}},"i":0}'&gt;a|b&lt;/a&gt;&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external text" href="http://foo.com/a|b"&gt;a|b&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">101</th>
<td class="status">fail</td>
<td class="description">Templates: Dont escape already nowiki-escaped text in template parameters<ul><li>parsoid: html2wt, wt2wt</li></ul>
</td>
<td class="input"><pre>{{echo|foo&lt;nowiki&gt;|&lt;/nowiki&gt;bar}}&#8990;
{{echo|&lt;nowiki&gt;&amp;lt;div&amp;gt;&lt;/nowiki&gt;}}&#8990;
{{echo|&lt;nowiki&gt;&lt;/nowiki&gt;}}</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;span about="#mwt1" typeof="mw:Transclusion" data-mw='{"target":{"wt":"echo","href":"./Template:Echo"},"params":{"1":{"wt":"foo&lt;nowiki&gt;|&lt;/nowiki&gt;bar"}},"i":0}'}'&gt;foo&lt;/span&gt;&lt;span typeof="mw:Nowiki" about="#mwt1"&gt;|&lt;/span&gt;&lt;span about="#mwt1"&gt;bar&lt;/span&gt;&#8990;
&lt;span typeof="mw:Transclusion mw:Nowiki" about="#mwt2" data-mw='{"target":{"wt":"echo","href":"./Template:Echo"},"params":{"1":{"wt":"&lt;nowiki&gt;&amp;amp;lt;div&amp;amp;gt;&lt;/nowiki&gt;"}},"i":0}'&gt;&lt;span typeof="mw:Entity"&gt;&amp;lt;&lt;/span&gt;div&lt;span typeof="mw:Entity"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&#8990;
&lt;span typeof="mw:Transclusion mw:Nowiki" about="#mwt3" data-mw='{"target":{"wt":"echo","href":"./Template:Echo"},"params":{"1":{"wt":"&lt;nowiki&gt;&lt;/nowiki&gt;"}},"i":0}'&gt;&lt;/span&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;foo&#8990;
&amp;lt;nowiki&amp;gt;&amp;lt;div&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">102</th>
<td class="status">tidy</td>
<td class="description">1a. Indent-Pre and Comments</td>
<td class="input"><pre> a&#8990;
&lt;!--a--&gt;&#8990;
c</pre></td>
<td class="expect"><pre>&lt;pre&gt;a&#8990;
&lt;/pre&gt;&#8990;
&lt;p&gt;c&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;pre&gt;a&#8990;
&lt;/pre&gt;&lt;p&gt;c&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">103</th>
<td class="status">tidy</td>
<td class="description">1b. Indent-Pre and Comments</td>
<td class="input"><pre> a&#8990;
 &lt;!--a--&gt;&#8990;
c</pre></td>
<td class="expect"><pre>&lt;pre&gt;a&#8990;
&lt;/pre&gt;&#8990;
&lt;p&gt;c&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;pre&gt;a&#8990;
&lt;/pre&gt;&lt;p&gt;c&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">104</th>
<td class="status">tidy</td>
<td class="description">1c. Indent-Pre and Comments</td>
<td class="input"><pre>&lt;!--a--&gt;  a&#8990;
&#8990;
 &lt;!--a--&gt; a</pre></td>
<td class="expect"><pre>&lt;pre&gt; a&#8990;
&lt;/pre&gt;&#8990;
&lt;pre&gt; a&#8990;
&lt;/pre&gt;</pre></td>
<td class="output"><pre>&lt;pre&gt; a&#8990;
&lt;/pre&gt;&lt;pre&gt; a&#8990;
&lt;/pre&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">105</th>
<td class="status">tidy</td>
<td class="description">2a. Indent-Pre and tables</td>
<td class="input"><pre> {|&#8990;
 |-&#8990;
 !h1!!h2&#8990;
 |foo||bar&#8990;
 |}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&#8990;
&lt;tr&gt;&#8990;
&lt;th&gt;h1&lt;/th&gt;&#8990;
&lt;th&gt;h2&#8990;
&lt;/th&gt;&#8990;
&lt;td&gt;foo&lt;/td&gt;&#8990;
&lt;td&gt;bar&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;th&gt;h1&lt;/th&gt;&lt;th&gt;h2&lt;/th&gt;&lt;td&gt;foo&lt;/td&gt;&lt;td&gt;bar&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">106</th>
<td class="status">tidy</td>
<td class="description">2b. Indent-Pre and tables</td>
<td class="input"><pre>  {|&#8990;
 |-&#8990;
|foo&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt;foo&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">107</th>
<td class="status">tidy</td>
<td class="description">2c. Indent-Pre and tables (bug 42252)</td>
<td class="input"><pre>{|&#8990;
 |+ foo&#8990;
 !  | bar&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;caption&gt; foo&#8990;
&lt;/caption&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;th&gt; bar&#8990;
&lt;/th&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;caption&gt; foo&lt;/caption&gt;&lt;tr&gt;&lt;th&gt;bar&lt;/th&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">108</th>
<td class="status">tidy</td>
<td class="description">3a. Indent-Pre and block tags (single-line html)</td>
<td class="input"><pre> &lt;p&gt; foo &lt;/p&gt;&#8990;
 &lt;div&gt; foo &lt;/div&gt;&#8990;
 &lt;span&gt; foo &lt;/span&gt;</pre></td>
<td class="expect"><pre> &lt;p&gt; foo &lt;/p&gt;&#8990;
 &lt;div&gt; foo &lt;/div&gt;&#8990;
&lt;pre&gt;&lt;span&gt; foo &lt;/span&gt;&#8990;
&lt;/pre&gt;</pre></td>
<td class="output"><pre>&lt;p&gt; foo &lt;/p&gt;&lt;div&gt; foo&lt;/div&gt;&lt;pre&gt;&lt;span&gt; foo &lt;/span&gt;&#8990;
&lt;/pre&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">109</th>
<td class="status">tidy</td>
<td class="description">3b. Indent-Pre and block tags (pre-content on separate line)</td>
<td class="input"><pre>&lt;p&gt;&#8990;
 foo&#8990;
&lt;/p&gt;&#8990;
&#8990;
&lt;div&gt;&#8990;
 foo&#8990;
&lt;/div&gt;&#8990;
&#8990;
&lt;center&gt;&#8990;
 foo&#8990;
&lt;/center&gt;&#8990;
&#8990;
&lt;blockquote&gt;&#8990;
 foo&#8990;
&lt;/blockquote&gt;&#8990;
&#8990;
&lt;table&gt;&lt;tr&gt;&lt;td&gt;&#8990;
 foo&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
&#8990;
&lt;ul&gt;&lt;li&gt;&#8990;
  foo&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
<td class="expect"><pre>&lt;p&gt;&#8990;
 foo&#8990;
&lt;/p&gt;&#8990;
&lt;div&gt;&#8990;
&lt;pre&gt;foo&#8990;
&lt;/pre&gt;&#8990;
&lt;/div&gt;&#8990;
&lt;center&gt;&#8990;
&lt;pre&gt;foo&#8990;
&lt;/pre&gt;&#8990;
&lt;/center&gt;&#8990;
&lt;blockquote&gt;&#8990;
 foo&#8990;
&lt;/blockquote&gt;&#8990;
&lt;table&gt;&lt;tr&gt;&lt;td&gt;&#8990;
&lt;pre&gt;foo&#8990;
&lt;/pre&gt;&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
&lt;ul&gt;&lt;li&gt;&#8990;
  foo&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&#8990;
 foo&#8990;
&lt;/p&gt;&lt;div&gt;&lt;pre&gt;foo&#8990;
&lt;/pre&gt;&lt;/div&gt;&lt;center&gt;&lt;pre&gt;foo&#8990;
&lt;/pre&gt;&lt;/center&gt;&lt;blockquote&gt; foo&lt;/blockquote&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;pre&gt;foo&#8990;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;ul&gt;&lt;li&gt;  foo&lt;/li&gt;&lt;/ul&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">110</th>
<td class="status">tidy</td>
<td class="description">4. Multiple spaces at start-of-line</td>
<td class="input"><pre>    &lt;p&gt; foo &lt;/p&gt;&#8990;
    foo&#8990;
	{|&#8990;
|foo&#8990;
|}</pre></td>
<td class="expect"><pre>    &lt;p&gt; foo &lt;/p&gt;&#8990;
&lt;pre&gt;   foo&#8990;
&lt;/pre&gt;&#8990;
&lt;table&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt;foo&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt; foo &lt;/p&gt;&lt;pre&gt;   foo&#8990;
&lt;/pre&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">111</th>
<td class="status">tidy</td>
<td class="description">5. White-space in indent-pre
NOTE: the white-space char on 2nd line is significant</td>
<td class="input"><pre> a&lt;br/&gt;&#8990;
 &#8990;
 b</pre></td>
<td class="expect"><pre>&lt;pre&gt;a&lt;br /&gt;&#8990;
&#8990;
b&#8990;
&lt;/pre&gt;</pre></td>
<td class="output"><pre>&lt;pre&gt;a&lt;br/&gt;&#8990;
&#8990;
b&#8990;
&lt;/pre&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">112</th>
<td class="status">tidy</td>
<td class="description">HTML-pre: 1. embedded newlines</td>
<td class="input"><pre>&lt;pre&gt;foo&lt;/pre&gt;&#8990;
&#8990;
&lt;pre&gt;&#8990;
foo&#8990;
&lt;/pre&gt;&#8990;
&#8990;
&lt;pre&gt;&#8990;
&#8990;
foo&#8990;
&lt;/pre&gt;&#8990;
&#8990;
&lt;pre&gt;&#8990;
&#8990;
&#8990;
foo&#8990;
&lt;/pre&gt;</pre></td>
<td class="expect"><pre>&lt;pre&gt;foo&lt;/pre&gt;&#8990;
&lt;pre&gt;&#8990;
foo&#8990;
&lt;/pre&gt;&#8990;
&lt;pre&gt;&#8990;
&#8990;
foo&#8990;
&lt;/pre&gt;&#8990;
&lt;pre&gt;&#8990;
&#8990;
&#8990;
foo&#8990;
&lt;/pre&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;pre&gt;foo&lt;/pre&gt;&lt;pre&gt;&#8990;
foo&#8990;
&lt;/pre&gt;&lt;pre&gt;&#8990;
&#8990;
foo&#8990;
&lt;/pre&gt;&lt;pre&gt;&#8990;
&#8990;
&#8990;
foo&#8990;
&lt;/pre&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">113</th>
<td class="status">tidy</td>
<td class="description">HTML-pre: 2: indented text</td>
<td class="input"><pre>&lt;pre&gt;&#8990;
 foo&#8990;
&lt;/pre&gt;</pre></td>
<td class="expect"><pre>&lt;pre&gt;&#8990;
 foo&#8990;
&lt;/pre&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;pre&gt;&#8990;
 foo&#8990;
&lt;/pre&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">114</th>
<td class="status">tidy</td>
<td class="description">HTML-pre: 3: other wikitext</td>
<td class="input"><pre>&lt;pre&gt;&#8990;
* foo&#8990;
# bar&#8990;
= no-h =&#8990;
'' no-italic ''&#8990;
[[ NoLink ]]&#8990;
&lt;/pre&gt;</pre></td>
<td class="expect"><pre>&lt;pre&gt;&#8990;
* foo&#8990;
# bar&#8990;
= no-h =&#8990;
'' no-italic ''&#8990;
[[ NoLink ]]&#8990;
&lt;/pre&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;pre&gt;&#8990;
* foo&#8990;
# bar&#8990;
= no-h =&#8990;
'' no-italic ''&#8990;
[[ NoLink ]]&#8990;
&lt;/pre&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">115</th>
<td class="status">tidy</td>
<td class="description">Simple definition</td>
<td class="input"><pre>; name : Definition</pre></td>
<td class="expect"><pre>&lt;dl&gt;&lt;dt&gt; name&amp;#160;&lt;/dt&gt;&lt;dd&gt; Definition&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;dl&gt;&lt;dt&gt; name &lt;/dt&gt;&lt;dd&gt; Definition&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
</tr>
<tr class="pass">
<th class="index">116</th>
<td class="status">pass</td>
<td class="description">Definition list for indentation only</td>
<td class="input"><pre>: Indented text</pre></td>
<td class="expect"><pre>&lt;dl&gt;&lt;dd&gt; Indented text&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;dl&gt;&lt;dd&gt; Indented text&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
</tr>
<tr class="pass">
<th class="index">117</th>
<td class="status">pass</td>
<td class="description">Definition list with no space</td>
<td class="input"><pre>;name:Definition</pre></td>
<td class="expect"><pre>&lt;dl&gt;&lt;dt&gt;name&lt;/dt&gt;&lt;dd&gt;Definition&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;dl&gt;&lt;dt&gt;name&lt;/dt&gt;&lt;dd&gt;Definition&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
</tr>
<tr class="tidy">
<th class="index">118</th>
<td class="status">tidy</td>
<td class="description">Definition list with URL link</td>
<td class="input"><pre>; http://example.com/ : definition</pre></td>
<td class="expect"><pre>&lt;dl&gt;&lt;dt&gt; &lt;a rel="nofollow" class="external free" href="http://example.com/"&gt;http://example.com/&lt;/a&gt;&amp;#160;&lt;/dt&gt;&lt;dd&gt; definition&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;dl&gt;&lt;dt&gt; &lt;a rel="nofollow" class="external free" href="http://example.com/"&gt;http://example.com/&lt;/a&gt; &lt;/dt&gt;&lt;dd&gt; definition&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
</tr>
<tr class="pass">
<th class="index">119</th>
<td class="status">pass</td>
<td class="description">Definition list with bracketed URL link</td>
<td class="input"><pre>;[http://www.example.com/ Example]:Something about it</pre></td>
<td class="expect"><pre>&lt;dl&gt;&lt;dt&gt;&lt;a rel="nofollow" class="external text" href="http://www.example.com/"&gt;Example&lt;/a&gt;&lt;/dt&gt;&lt;dd&gt;Something about it&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;dl&gt;&lt;dt&gt;&lt;a rel="nofollow" class="external text" href="http://www.example.com/"&gt;Example&lt;/a&gt;&lt;/dt&gt;&lt;dd&gt;Something about it&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">120</th>
<td class="status">fail</td>
<td class="description">Definition list with wikilink containing colon</td>
<td class="input"><pre>; [[Help:FAQ]]: The least-read page on Wikipedia</pre></td>
<td class="expect"><pre>&lt;dl&gt;&lt;dt&gt; &lt;a href="/index.php?title=Help:FAQ&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Help:FAQ (page does not exist)"&gt;Help:FAQ&lt;/a&gt;&lt;/dt&gt;&lt;dd&gt; The least-read page on Wikipedia&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;dl&gt;&lt;dt&gt; &lt;a href="/wiki/Help:FAQ" title="Help:FAQ"&gt;Help:FAQ&lt;/a&gt;&lt;/dt&gt;&lt;dd&gt; The least-read page on Wikipedia&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
</tr>
<tr class="pass">
<th class="index">121</th>
<td class="status">pass</td>
<td class="description">Definition list with news link containing colon</td>
<td class="input"><pre>;  news:alt.wikipedia.rox: This isn't even a real newsgroup!</pre></td>
<td class="expect"><pre>&lt;dl&gt;&lt;dt&gt;  &lt;a rel="nofollow" class="external free" href="news:alt.wikipedia.rox"&gt;news:alt.wikipedia.rox&lt;/a&gt;&lt;/dt&gt;&lt;dd&gt; This isn't even a real newsgroup!&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;dl&gt;&lt;dt&gt;  &lt;a rel="nofollow" class="external free" href="news:alt.wikipedia.rox"&gt;news:alt.wikipedia.rox&lt;/a&gt;&lt;/dt&gt;&lt;dd&gt; This isn't even a real newsgroup!&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
</tr>
<tr class="pass">
<th class="index">122</th>
<td class="status">pass</td>
<td class="description">Malformed definition list with colon</td>
<td class="input"><pre>;  news:alt.wikipedia.rox -- don't crash or enter an infinite loop</pre></td>
<td class="expect"><pre>&lt;dl&gt;&lt;dt&gt;  &lt;a rel="nofollow" class="external free" href="news:alt.wikipedia.rox"&gt;news:alt.wikipedia.rox&lt;/a&gt; -- don't crash or enter an infinite loop&#8990;
&lt;/dt&gt;&lt;/dl&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;dl&gt;&lt;dt&gt;  &lt;a rel="nofollow" class="external free" href="news:alt.wikipedia.rox"&gt;news:alt.wikipedia.rox&lt;/a&gt; -- don't crash or enter an infinite loop&#8990;
&lt;/dt&gt;&lt;/dl&gt;&#8990;
</pre></td>
</tr>
<tr class="tidy">
<th class="index">123</th>
<td class="status">tidy</td>
<td class="description">Definition lists: colon in external link text</td>
<td class="input"><pre>; [http://www.wikipedia2.org/ Wikipedia : The Next Generation]: OK, I made that up</pre></td>
<td class="expect"><pre>&lt;dl&gt;&lt;dt&gt; &lt;a rel="nofollow" class="external text" href="http://www.wikipedia2.org/"&gt;Wikipedia&amp;#160;: The Next Generation&lt;/a&gt;&lt;/dt&gt;&lt;dd&gt; OK, I made that up&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;dl&gt;&lt;dt&gt; &lt;a rel="nofollow" class="external text" href="http://www.wikipedia2.org/"&gt;Wikipedia : The Next Generation&lt;/a&gt;&lt;/dt&gt;&lt;dd&gt; OK, I made that up&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
</tr>
<tr class="pass">
<th class="index">124</th>
<td class="status">pass</td>
<td class="description">Definition lists: colon in HTML attribute</td>
<td class="input"><pre>;&lt;b style="display: inline"&gt;bold&lt;/b&gt;</pre></td>
<td class="expect"><pre>&lt;dl&gt;&lt;dt&gt;&lt;b style="display: inline"&gt;bold&lt;/b&gt;&#8990;
&lt;/dt&gt;&lt;/dl&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;dl&gt;&lt;dt&gt;&lt;b style="display: inline"&gt;bold&lt;/b&gt;&#8990;
&lt;/dt&gt;&lt;/dl&gt;&#8990;
</pre></td>
</tr>
<tr class="tidy">
<th class="index">125</th>
<td class="status">tidy</td>
<td class="description">Definition lists: self-closed tag</td>
<td class="input"><pre>;one&lt;br/&gt;two : two-line fun</pre></td>
<td class="expect"><pre>&lt;dl&gt;&lt;dt&gt;one&lt;br /&gt;two&amp;#160;&lt;/dt&gt;&lt;dd&gt; two-line fun&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;dl&gt;&lt;dt&gt;one&lt;br/&gt;two &lt;/dt&gt;&lt;dd&gt; two-line fun&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
</tr>
<tr class="tidy">
<th class="index">126</th>
<td class="status">tidy</td>
<td class="description">Bug 11748: Literal closing tags</td>
<td class="input"><pre>&lt;dl&gt;&#8990;
&lt;dt&gt;test 1&lt;/dt&gt;&#8990;
&lt;dd&gt;test test test test test&lt;/dd&gt;&#8990;
&lt;dt&gt;test 2&lt;/dt&gt;&#8990;
&lt;dd&gt;test test test test test&lt;/dd&gt;&#8990;
&lt;/dl&gt;</pre></td>
<td class="expect"><pre>&lt;dl&gt;&#8990;
&lt;dt&gt;test 1&lt;/dt&gt;&#8990;
&lt;dd&gt;test test test test test&lt;/dd&gt;&#8990;
&lt;dt&gt;test 2&lt;/dt&gt;&#8990;
&lt;dd&gt;test test test test test&lt;/dd&gt;&#8990;
&lt;/dl&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;dl&gt;&lt;dt&gt;test 1&lt;/dt&gt;&lt;dd&gt;test test test test test&lt;/dd&gt;&lt;dt&gt;test 2&lt;/dt&gt;&lt;dd&gt;test test test test test&lt;/dd&gt;&lt;/dl&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">127</th>
<td class="status">tidy</td>
<td class="description">Definition and unordered list using wiki syntax nested in unordered list using html tags.</td>
<td class="input"><pre>&lt;ul&gt;&lt;li&gt;&#8990;
; term : description&#8990;
* unordered&#8990;
&lt;/li&gt;&#8990;
&lt;/ul&gt;</pre></td>
<td class="expect"><pre>&lt;ul&gt;&lt;li&gt;&#8990;
&lt;dl&gt;&lt;dt&gt; term&amp;#160;&lt;/dt&gt;&lt;dd&gt; description&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;ul&gt;&lt;li&gt; unordered&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt;&lt;dl&gt;&lt;dt&gt; term &lt;/dt&gt;&lt;dd&gt; description&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;ul&gt;&lt;li&gt; unordered&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">128</th>
<td class="status">pass</td>
<td class="description">Definition list with empty definition and following paragraph</td>
<td class="input"><pre>; term:&#8990;
Paragraph text</pre></td>
<td class="expect"><pre>&lt;dl&gt;&lt;dt&gt; term&lt;/dt&gt;&lt;dd&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;p&gt;Paragraph text&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;dl&gt;&lt;dt&gt; term&lt;/dt&gt;&lt;dd&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;p&gt;Paragraph text&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">129</th>
<td class="status">tidy</td>
<td class="description">Nested definition lists using html syntax</td>
<td class="input"><pre>&lt;dl&gt;&lt;dd&gt;&#8990;
&lt;dl&gt;&#8990;
&lt;dd&gt;Foo&lt;/dd&gt;&#8990;
&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;</pre></td>
<td class="expect"><pre>&lt;dl&gt;&lt;dd&gt;&#8990;
&lt;dl&gt;&#8990;
&lt;dd&gt;Foo&lt;/dd&gt;&#8990;
&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;dl&gt;&lt;dd&gt;&lt;dl&gt;&lt;dd&gt;Foo&lt;/dd&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;/dl&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">130</th>
<td class="status">pass</td>
<td class="description">Definition Lists: No nesting: Multiple dd's</td>
<td class="input"><pre>;x&#8990;
:a&#8990;
:b</pre></td>
<td class="expect"><pre>&lt;dl&gt;&lt;dt&gt;x&#8990;
&lt;/dt&gt;&lt;dd&gt;a&#8990;
&lt;/dd&gt;&lt;dd&gt;b&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;dl&gt;&lt;dt&gt;x&#8990;
&lt;/dt&gt;&lt;dd&gt;a&#8990;
&lt;/dd&gt;&lt;dd&gt;b&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
</tr>
<tr class="pass">
<th class="index">131</th>
<td class="status">pass</td>
<td class="description">Definition Lists: Indentation: Regular</td>
<td class="input"><pre>:i1&#8990;
::i2&#8990;
:::i3</pre></td>
<td class="expect"><pre>&lt;dl&gt;&lt;dd&gt;i1&#8990;
&lt;dl&gt;&lt;dd&gt;i2&#8990;
&lt;dl&gt;&lt;dd&gt;i3&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;dl&gt;&lt;dd&gt;i1&#8990;
&lt;dl&gt;&lt;dd&gt;i2&#8990;
&lt;dl&gt;&lt;dd&gt;i3&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
</tr>
<tr class="pass">
<th class="index">132</th>
<td class="status">pass</td>
<td class="description">Definition Lists: Indentation: Missing 1st level</td>
<td class="input"><pre>::i2&#8990;
:::i3</pre></td>
<td class="expect"><pre>&lt;dl&gt;&lt;dd&gt;&lt;dl&gt;&lt;dd&gt;i2&#8990;
&lt;dl&gt;&lt;dd&gt;i3&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;dl&gt;&lt;dd&gt;&lt;dl&gt;&lt;dd&gt;i2&#8990;
&lt;dl&gt;&lt;dd&gt;i3&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
</tr>
<tr class="pass">
<th class="index">133</th>
<td class="status">pass</td>
<td class="description">Definition Lists: Indentation: Multi-level indent</td>
<td class="input"><pre>:::i3</pre></td>
<td class="expect"><pre>&lt;dl&gt;&lt;dd&gt;&lt;dl&gt;&lt;dd&gt;&lt;dl&gt;&lt;dd&gt;i3&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;dl&gt;&lt;dd&gt;&lt;dl&gt;&lt;dd&gt;&lt;dl&gt;&lt;dd&gt;i3&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
</tr>
<tr class="tidy">
<th class="index">134</th>
<td class="status">tidy</td>
<td class="description">Definition Lists: Hacky use to indent tables</td>
<td class="input"><pre>::{|&#8990;
|foo&#8990;
|bar&#8990;
|}&#8990;
this text&#8990;
should be left alone</pre></td>
<td class="expect"><pre>&lt;dl&gt;&lt;dd&gt;&lt;dl&gt;&lt;dd&gt;&lt;table&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt;foo&#8990;
&lt;/td&gt;&#8990;
&lt;td&gt;bar&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;p&gt;this text&#8990;
should be left alone&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;dl&gt;&lt;dd&gt;&lt;dl&gt;&lt;dd&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;foo&lt;/td&gt;&lt;td&gt;bar&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;p&gt;this text&#8990;
should be left alone&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">135</th>
<td class="status">fail</td>
<td class="description">Table / list interaction: indented table with lists in table contents</td>
<td class="input"><pre>:{|&#8990;
|-&#8990;
| a&#8990;
* b&#8990;
|-&#8990;
| c&#8990;
* d&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;dl&gt;&lt;dd&gt;&lt;table&gt;&#8990;
&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt; a&#8990;
&lt;ul&gt;&lt;li&gt; b&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/td&gt;&lt;/tr&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt; c&#8990;
&lt;ul&gt;&lt;li&gt; d&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;dl&gt;&lt;dd&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;a&#8990;
&lt;/p&gt;&lt;ul&gt;&lt;li&gt; b&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;c&#8990;
&lt;/p&gt;&lt;ul&gt;&lt;li&gt; d&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/dd&gt;&lt;/dl&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">136</th>
<td class="status">tidy</td>
<td class="description">Table / list interaction: lists nested in tables nested in indented lists</td>
<td class="input"><pre>:{|&#8990;
|&#8990;
:a&#8990;
:b&#8990;
|&#8990;
*c&#8990;
*d&#8990;
|}&#8990;
&#8990;
*e&#8990;
*f</pre></td>
<td class="expect"><pre>&lt;dl&gt;&lt;dd&gt;&lt;table&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt;&#8990;
&lt;dl&gt;&lt;dd&gt;a&#8990;
&lt;/dd&gt;&lt;dd&gt;b&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/td&gt;&#8990;
&lt;td&gt;&#8990;
&lt;ul&gt;&lt;li&gt;c&#8990;
&lt;/li&gt;&lt;li&gt;d&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;ul&gt;&lt;li&gt;e&#8990;
&lt;/li&gt;&lt;li&gt;f&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;dl&gt;&lt;dd&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;dl&gt;&lt;dd&gt;a&#8990;
&lt;/dd&gt;&lt;dd&gt;b&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/td&gt;&lt;td&gt;&lt;ul&gt;&lt;li&gt;c&#8990;
&lt;/li&gt;&lt;li&gt;d&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;ul&gt;&lt;li&gt;e&#8990;
&lt;/li&gt;&lt;li&gt;f&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
</tr>
<tr class="tidy">
<th class="index">137</th>
<td class="status">tidy</td>
<td class="description">Definition Lists: Nesting: Multi-level (Parsoid only)<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>;t1 :d1&#8990;
;;t2 ::d2&#8990;
;;;t3 :::d3</pre></td>
<td class="expect"><pre>&lt;dl&gt;&#8990;
  &lt;dt&gt;t1 &lt;/dt&gt;&#8990;
  &lt;dd&gt;d1&lt;/dd&gt;&#8990;
  &lt;dt&gt;&#8990;
    &lt;dl&gt;&#8990;
      &lt;dt&gt;t2 &lt;/dt&gt;&#8990;
      &lt;dd&gt;:d2&lt;/dd&gt;&#8990;
      &lt;dt&gt;&#8990;
        &lt;dl&gt;&#8990;
          &lt;dt&gt;t3 &lt;/dt&gt;&#8990;
          &lt;dd&gt;::d3&lt;/dd&gt;&#8990;
        &lt;/dl&gt;&#8990;
      &lt;/dt&gt;&#8990;
    &lt;/dl&gt;&#8990;
  &lt;/dt&gt;&#8990;
&lt;/dl&gt;&#8990;
&#8990;
</pre></td>
<td class="output"><pre>&lt;dl&gt;&lt;dt&gt;t1 &lt;/dt&gt;&lt;dd&gt;d1&#8990;
&lt;/dd&gt;&lt;dt&gt;&lt;dl&gt;&lt;dt&gt;t2 &lt;/dt&gt;&lt;dd&gt;:d2&#8990;
&lt;/dd&gt;&lt;dt&gt;&lt;dl&gt;&lt;dt&gt;t3 &lt;/dt&gt;&lt;dd&gt;::d3&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/dt&gt;&lt;/dl&gt;&#8990;
&lt;/dt&gt;&lt;/dl&gt;&#8990;
</pre></td>
</tr>
<tr class="tidy">
<th class="index">138</th>
<td class="status">tidy</td>
<td class="description">Definition Lists: Nesting: Test 2 (Parsoid only)<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>;t1&#8990;
::d2</pre></td>
<td class="expect"><pre>&lt;dl&gt;&#8990;
  &lt;dt&gt;t1&lt;/dt&gt;&#8990;
  &lt;dd&gt;&#8990;
    &lt;dl&gt;&#8990;
      &lt;dd&gt;d2&lt;/dd&gt;&#8990;
    &lt;/dl&gt;&#8990;
  &lt;/dd&gt;&#8990;
&lt;/dl&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;dl&gt;&lt;dt&gt;t1&#8990;
&lt;dl&gt;&lt;dd&gt;d2&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/dt&gt;&lt;/dl&gt;&#8990;
</pre></td>
</tr>
<tr class="tidy">
<th class="index">139</th>
<td class="status">tidy</td>
<td class="description">Definition Lists: Nesting: Test 3 (Parsoid only)<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>:;t1&#8990;
::::d2</pre></td>
<td class="expect"><pre>&lt;dl&gt;&#8990;
  &lt;dd&gt;&#8990;
    &lt;dl&gt;&#8990;
      &lt;dt&gt;t1&lt;/dt&gt;&#8990;
      &lt;dd&gt;&#8990;
        &lt;dl&gt;&#8990;
          &lt;dd&gt;&#8990;
            &lt;dl&gt;&#8990;
              &lt;dd&gt;d2&lt;/dd&gt;&#8990;
            &lt;/dl&gt;&#8990;
          &lt;/dd&gt;&#8990;
        &lt;/dl&gt;&#8990;
      &lt;/dd&gt;&#8990;
    &lt;/dl&gt;&#8990;
  &lt;/dd&gt;&#8990;
&lt;/dl&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;dl&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;t1&#8990;
&lt;dl&gt;&lt;dd&gt;&lt;dl&gt;&lt;dd&gt;d2&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/dt&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
</tr>
<tr class="pass">
<th class="index">140</th>
<td class="status">pass</td>
<td class="description">Definition Lists: Nesting: Test 4</td>
<td class="input"><pre>::;t3&#8990;
:::d3</pre></td>
<td class="expect"><pre>&lt;dl&gt;&lt;dd&gt;&lt;dl&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;t3&#8990;
&lt;/dt&gt;&lt;dd&gt;d3&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;dl&gt;&lt;dd&gt;&lt;dl&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;t3&#8990;
&lt;/dt&gt;&lt;dd&gt;d3&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">141</th>
<td class="status">fail</td>
<td class="description">Definition Lists: Mixed Lists: Test 1 (php)<ul><li>php</li></ul>
</td>
<td class="input"><pre>:;* foo&#8990;
::* bar&#8990;
:; baz</pre></td>
<td class="expect"><pre>&lt;dl&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;ul&gt;&lt;li&gt; foo&#8990;
&lt;/li&gt;&lt;li&gt; bar&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/dt&gt;&lt;/dl&gt;&#8990;
&lt;dl&gt;&lt;dt&gt; baz&#8990;
&lt;/dt&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;dl&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;ul&gt;&lt;li&gt; foo&#8990;
&lt;/li&gt;&lt;li&gt; bar&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/dt&gt;&lt;dt&gt; baz&#8990;
&lt;/dt&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">142</th>
<td class="status">fail</td>
<td class="description">Definition Lists: Mixed Lists: Test 1 (parsoid)<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>:;* foo&#8990;
::* bar&#8990;
:; baz</pre></td>
<td class="expect"><pre>&lt;dl&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;ul&gt;&lt;li&gt; foo&#8990;
&lt;/li&gt;&lt;/ul&gt;&lt;/dt&gt;&lt;dd&gt;&lt;ul&gt;&lt;li&gt; bar&#8990;
&lt;/li&gt;&lt;/ul&gt;&lt;/dd&gt;&lt;dt&gt; baz&lt;/dt&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;/dl&gt;</pre></td>
<td class="output"><pre>&lt;dl&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;ul&gt;&lt;li&gt; foo&#8990;
&lt;/li&gt;&lt;li&gt; bar&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/dt&gt;&lt;dt&gt; baz&#8990;
&lt;/dt&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
</tr>
<tr class="pass">
<th class="index">143</th>
<td class="status">pass</td>
<td class="description">Definition Lists: Mixed Lists: Test 2</td>
<td class="input"><pre>*: d1&#8990;
*: d2</pre></td>
<td class="expect"><pre>&lt;ul&gt;&lt;li&gt;&lt;dl&gt;&lt;dd&gt; d1&#8990;
&lt;/dd&gt;&lt;dd&gt; d2&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt;&lt;dl&gt;&lt;dd&gt; d1&#8990;
&lt;/dd&gt;&lt;dd&gt; d2&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
</tr>
<tr class="pass">
<th class="index">144</th>
<td class="status">pass</td>
<td class="description">Definition Lists: Mixed Lists: Test 3</td>
<td class="input"><pre>*::: d1&#8990;
*::: d2</pre></td>
<td class="expect"><pre>&lt;ul&gt;&lt;li&gt;&lt;dl&gt;&lt;dd&gt;&lt;dl&gt;&lt;dd&gt;&lt;dl&gt;&lt;dd&gt; d1&#8990;
&lt;/dd&gt;&lt;dd&gt; d2&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt;&lt;dl&gt;&lt;dd&gt;&lt;dl&gt;&lt;dd&gt;&lt;dl&gt;&lt;dd&gt; d1&#8990;
&lt;/dd&gt;&lt;dd&gt; d2&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
</tr>
<tr class="tidy">
<th class="index">145</th>
<td class="status">tidy</td>
<td class="description">Definition Lists: Mixed Lists: Test 4</td>
<td class="input"><pre>*;d1 :d2&#8990;
*;d3 :d4</pre></td>
<td class="expect"><pre>&lt;ul&gt;&lt;li&gt;&lt;dl&gt;&lt;dt&gt;d1&amp;#160;&lt;/dt&gt;&lt;dd&gt;d2&#8990;
&lt;/dd&gt;&lt;dt&gt;d3&amp;#160;&lt;/dt&gt;&lt;dd&gt;d4&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt;&lt;dl&gt;&lt;dt&gt;d1 &lt;/dt&gt;&lt;dd&gt;d2&#8990;
&lt;/dd&gt;&lt;dt&gt;d3 &lt;/dt&gt;&lt;dd&gt;d4&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
</tr>
<tr class="pass">
<th class="index">146</th>
<td class="status">pass</td>
<td class="description">Definition Lists: Mixed Lists: Test 5</td>
<td class="input"><pre>*:d1&#8990;
*:: d2</pre></td>
<td class="expect"><pre>&lt;ul&gt;&lt;li&gt;&lt;dl&gt;&lt;dd&gt;d1&#8990;
&lt;dl&gt;&lt;dd&gt; d2&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt;&lt;dl&gt;&lt;dd&gt;d1&#8990;
&lt;dl&gt;&lt;dd&gt; d2&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
</tr>
<tr class="pass">
<th class="index">147</th>
<td class="status">pass</td>
<td class="description">Definition Lists: Mixed Lists: Test 6</td>
<td class="input"><pre>#*:d1&#8990;
#*::: d3</pre></td>
<td class="expect"><pre>&lt;ol&gt;&lt;li&gt;&lt;ul&gt;&lt;li&gt;&lt;dl&gt;&lt;dd&gt;d1&#8990;
&lt;dl&gt;&lt;dd&gt;&lt;dl&gt;&lt;dd&gt; d3&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;ol&gt;&lt;li&gt;&lt;ul&gt;&lt;li&gt;&lt;dl&gt;&lt;dd&gt;d1&#8990;
&lt;dl&gt;&lt;dd&gt;&lt;dl&gt;&lt;dd&gt; d3&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
</pre></td>
</tr>
<tr class="pass">
<th class="index">148</th>
<td class="status">pass</td>
<td class="description">Definition Lists: Mixed Lists: Test 7</td>
<td class="input"><pre>:* d1&#8990;
:* d2</pre></td>
<td class="expect"><pre>&lt;dl&gt;&lt;dd&gt;&lt;ul&gt;&lt;li&gt; d1&#8990;
&lt;/li&gt;&lt;li&gt; d2&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;dl&gt;&lt;dd&gt;&lt;ul&gt;&lt;li&gt; d1&#8990;
&lt;/li&gt;&lt;li&gt; d2&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
</tr>
<tr class="pass">
<th class="index">149</th>
<td class="status">pass</td>
<td class="description">Definition Lists: Mixed Lists: Test 8</td>
<td class="input"><pre>:* d1&#8990;
::* d2</pre></td>
<td class="expect"><pre>&lt;dl&gt;&lt;dd&gt;&lt;ul&gt;&lt;li&gt; d1&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;dl&gt;&lt;dd&gt;&lt;ul&gt;&lt;li&gt; d2&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;dl&gt;&lt;dd&gt;&lt;ul&gt;&lt;li&gt; d1&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;dl&gt;&lt;dd&gt;&lt;ul&gt;&lt;li&gt; d2&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
</tr>
<tr class="tidy">
<th class="index">150</th>
<td class="status">tidy</td>
<td class="description">Definition Lists: Mixed Lists: Test 9</td>
<td class="input"><pre>*;foo :bar</pre></td>
<td class="expect"><pre>&lt;ul&gt;&lt;li&gt;&lt;dl&gt;&lt;dt&gt;foo&amp;#160;&lt;/dt&gt;&lt;dd&gt;bar&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt;&lt;dl&gt;&lt;dt&gt;foo &lt;/dt&gt;&lt;dd&gt;bar&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
</tr>
<tr class="tidy">
<th class="index">151</th>
<td class="status">tidy</td>
<td class="description">Definition Lists: Mixed Lists: Test 10</td>
<td class="input"><pre>*#;foo :bar</pre></td>
<td class="expect"><pre>&lt;ul&gt;&lt;li&gt;&lt;ol&gt;&lt;li&gt;&lt;dl&gt;&lt;dt&gt;foo&amp;#160;&lt;/dt&gt;&lt;dd&gt;bar&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt;&lt;ol&gt;&lt;li&gt;&lt;dl&gt;&lt;dt&gt;foo &lt;/dt&gt;&lt;dd&gt;bar&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">152</th>
<td class="status">fail</td>
<td class="description">Definition Lists: Mixed Lists: Test 11 (php)<ul><li>php</li></ul>
</td>
<td class="input"><pre>*#*#;*;;foo :bar&#8990;
*#*#;boo :baz</pre></td>
<td class="expect"><pre>&lt;ul&gt;&lt;li&gt;&lt;ol&gt;&lt;li&gt;&lt;ul&gt;&lt;li&gt;&lt;ol&gt;&lt;li&gt;&lt;dl&gt;&lt;dt&gt;foo&amp;#160;&lt;/dt&gt;&lt;dd&gt;&lt;ul&gt;&lt;li&gt;&lt;dl&gt;&lt;dt&gt;&lt;dl&gt;&lt;dt&gt;bar&#8990;
&lt;/dt&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;dl&gt;&lt;dt&gt;boo&amp;#160;&lt;/dt&gt;&lt;dd&gt;baz&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt;&lt;ol&gt;&lt;li&gt;&lt;ul&gt;&lt;li&gt;&lt;ol&gt;&lt;li&gt;&lt;dl&gt;&lt;dt&gt;&lt;ul&gt;&lt;li&gt;&lt;dl&gt;&lt;dt&gt;&lt;dl&gt;&lt;dt&gt;foo &lt;/dt&gt;&lt;dd&gt;bar&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/dt&gt;&lt;/dl&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/dt&gt;&lt;dt&gt;boo &lt;/dt&gt;&lt;dd&gt;baz&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">153</th>
<td class="status">fail</td>
<td class="description">Definition Lists: Mixed Lists: Test 11 (parsoid)<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>*#*#;*;;foo :bar&#8990;
*#*#;boo :baz</pre></td>
<td class="expect"><pre>&lt;ul&gt;&#8990;
&lt;li&gt;&#8990;
&lt;ol&gt;&#8990;
&lt;li&gt;&#8990;
&lt;ul&gt;&#8990;
&lt;li&gt;&#8990;
&lt;ol&gt;&#8990;
&lt;li&gt;&#8990;
&lt;dl&gt;&#8990;
&lt;dt&gt;&#8990;
&lt;ul&gt;&#8990;
&lt;li&gt;&#8990;
&lt;dl&gt;&#8990;
&lt;dt&gt;&#8990;
&lt;dl&gt;&#8990;
&lt;dt&gt;foo&lt;span typeof="mw:Placeholder" data-parsoid='{"src":" "}'&gt;&amp;nbsp;&lt;/span&gt;&lt;/dt&gt;&#8990;
&lt;dd data-parsoid='{"stx":"row"}'&gt;bar&lt;/dd&gt;&lt;/dl&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/dt&gt;&#8990;
&lt;dt&gt;boo&lt;span typeof="mw:Placeholder" data-parsoid='{"src":" "}'&gt;&amp;nbsp;&lt;/span&gt;&lt;/dt&gt;&#8990;
&lt;dd data-parsoid='{"stx":"row"}'&gt;baz&lt;/dd&gt;&lt;/dl&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/li&gt;&lt;/ul&gt;</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt;&lt;ol&gt;&lt;li&gt;&lt;ul&gt;&lt;li&gt;&lt;ol&gt;&lt;li&gt;&lt;dl&gt;&lt;dt&gt;&lt;ul&gt;&lt;li&gt;&lt;dl&gt;&lt;dt&gt;&lt;dl&gt;&lt;dt&gt;foo &lt;/dt&gt;&lt;dd&gt;bar&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/dt&gt;&lt;/dl&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/dt&gt;&lt;dt&gt;boo &lt;/dt&gt;&lt;dd&gt;baz&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">154</th>
<td class="status">fail</td>
<td class="description">Definition Lists: Weird Ones: Test 1 (php)<ul><li>php</li></ul>
</td>
<td class="input"><pre>*#;*::;; foo : bar (who uses this?)</pre></td>
<td class="expect"><pre>&lt;ul&gt;&lt;li&gt;&lt;ol&gt;&lt;li&gt;&lt;dl&gt;&lt;dt&gt; foo&amp;#160;&lt;/dt&gt;&lt;dd&gt;&lt;ul&gt;&lt;li&gt;&lt;dl&gt;&lt;dd&gt;&lt;dl&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;dl&gt;&lt;dt&gt; bar (who uses this?)&#8990;
&lt;/dt&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt;&lt;ol&gt;&lt;li&gt;&lt;dl&gt;&lt;dt&gt;&lt;ul&gt;&lt;li&gt;&lt;dl&gt;&lt;dd&gt;&lt;dl&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;dl&gt;&lt;dt&gt; foo &lt;/dt&gt;&lt;dd&gt; bar (who uses this?)&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/dt&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/dt&gt;&lt;/dl&gt;&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">155</th>
<td class="status">fail</td>
<td class="description">Definition Lists: Weird Ones: Test 1 (parsoid)<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>*#;*::;; foo : bar (who uses this?)</pre></td>
<td class="expect"><pre>&lt;ul&gt;&#8990;
&lt;li&gt;&#8990;
&lt;ol&gt;&#8990;
&lt;li&gt;&#8990;
&lt;dl&gt;&#8990;
&lt;dt&gt;&#8990;
&lt;ul&gt;&#8990;
&lt;li&gt;&#8990;
&lt;dl&gt;&#8990;
&lt;dd&gt;&#8990;
&lt;dl&gt;&#8990;
&lt;dd&gt;&#8990;
&lt;dl&gt;&#8990;
&lt;dt&gt;&#8990;
&lt;dl&gt;&#8990;
&lt;dt&gt; foo&lt;span typeof="mw:Placeholder" data-parsoid='{"src":" "}'&gt;&amp;nbsp;&lt;/span&gt;&lt;/dt&gt;&#8990;
&lt;dd data-parsoid='{"stx":"row"}'&gt; bar (who uses this?)&lt;/dd&gt;&lt;/dl&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/li&gt;&lt;/ul&gt;</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt;&lt;ol&gt;&lt;li&gt;&lt;dl&gt;&lt;dt&gt;&lt;ul&gt;&lt;li&gt;&lt;dl&gt;&lt;dd&gt;&lt;dl&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;dl&gt;&lt;dt&gt; foo &lt;/dt&gt;&lt;dd&gt; bar (who uses this?)&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/dt&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/dt&gt;&lt;/dl&gt;&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
</tr>
<tr class="pass">
<th class="index">156</th>
<td class="status">pass</td>
<td class="description">External links: non-bracketed</td>
<td class="input"><pre>Non-bracketed: http://example.com</pre></td>
<td class="expect"><pre>&lt;p&gt;Non-bracketed: &lt;a rel="nofollow" class="external free" href="http://example.com"&gt;http://example.com&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Non-bracketed: &lt;a rel="nofollow" class="external free" href="http://example.com"&gt;http://example.com&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">157</th>
<td class="status">fail</td>
<td class="description">External links: numbered</td>
<td class="input"><pre>Numbered: [http://example.com]&#8990;
Numbered: [http://example.net]&#8990;
Numbered: [http://example.com]</pre></td>
<td class="expect"><pre>&lt;p&gt;Numbered: &lt;a rel="nofollow" class="external autonumber" href="http://example.com"&gt;[1]&lt;/a&gt;&#8990;
Numbered: &lt;a rel="nofollow" class="external autonumber" href="http://example.net"&gt;[2]&lt;/a&gt;&#8990;
Numbered: &lt;a rel="nofollow" class="external autonumber" href="http://example.com"&gt;[3]&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Numbered: &lt;a href="http://example.com"&gt;http://example.com&lt;/a&gt;&#8990;
Numbered: &lt;a href="http://example.net"&gt;http://example.net&lt;/a&gt;&#8990;
Numbered: &lt;a href="http://example.com"&gt;http://example.com&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">158</th>
<td class="status">pass</td>
<td class="description">External links: specified text</td>
<td class="input"><pre>Specified text: [http://example.com link]</pre></td>
<td class="expect"><pre>&lt;p&gt;Specified text: &lt;a rel="nofollow" class="external text" href="http://example.com"&gt;link&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Specified text: &lt;a rel="nofollow" class="external text" href="http://example.com"&gt;link&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">159</th>
<td class="status">pass</td>
<td class="description">External links: trail</td>
<td class="input"><pre>Linktrails should not work for external links: [http://example.com link]s</pre></td>
<td class="expect"><pre>&lt;p&gt;Linktrails should not work for external links: &lt;a rel="nofollow" class="external text" href="http://example.com"&gt;link&lt;/a&gt;s&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Linktrails should not work for external links: &lt;a rel="nofollow" class="external text" href="http://example.com"&gt;link&lt;/a&gt;s&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">160</th>
<td class="status">pass</td>
<td class="description">External links: dollar sign in URL</td>
<td class="input"><pre>http://example.com/1$2345</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://example.com/1$2345"&gt;http://example.com/1$2345&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://example.com/1$2345"&gt;http://example.com/1$2345&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">161</th>
<td class="status">fail</td>
<td class="description">External links: dollar sign in URL (named)</td>
<td class="input"><pre>[http://example.com/1$2345]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external autonumber" href="http://example.com/1$2345"&gt;[1]&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="http://example.com/1$2345"&gt;http://example.com/1$2345&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">162</th>
<td class="status">pass</td>
<td class="description">External links: open square bracket forbidden in URL (bug 4377)</td>
<td class="input"><pre>http://example.com/1[2345</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://example.com/1"&gt;http://example.com/1&lt;/a&gt;[2345&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://example.com/1"&gt;http://example.com/1&lt;/a&gt;[2345&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">163</th>
<td class="status">pass</td>
<td class="description">External links: open square bracket forbidden in URL (named) (bug 4377)</td>
<td class="input"><pre>[http://example.com/1[2345]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external text" href="http://example.com/1"&gt;[2345&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external text" href="http://example.com/1"&gt;[2345&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">164</th>
<td class="status">pass</td>
<td class="description">External links: nowiki in URL link text (bug 6230)</td>
<td class="input"><pre>[http://example.com/ &lt;nowiki&gt;''example site''&lt;/nowiki&gt;]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external text" href="http://example.com/"&gt;''example site''&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external text" href="http://example.com/"&gt;''example site''&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">165</th>
<td class="status">pass</td>
<td class="description">External links: newline forbidden in text (bug 6230 regression check)</td>
<td class="input"><pre>[http://example.com/ first&#8990;
second]</pre></td>
<td class="expect"><pre>&lt;p&gt;[&lt;a rel="nofollow" class="external free" href="http://example.com/"&gt;http://example.com/&lt;/a&gt; first&#8990;
second]&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;[&lt;a rel="nofollow" class="external free" href="http://example.com/"&gt;http://example.com/&lt;/a&gt; first&#8990;
second]&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">166</th>
<td class="status">pass</td>
<td class="description">External links: Pipe char between url and text</td>
<td class="input"><pre>[http://example.com | link]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external text" href="http://example.com"&gt;| link&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external text" href="http://example.com"&gt;| link&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">167</th>
<td class="status">pass</td>
<td class="description">External links: protocol-relative URL in brackets</td>
<td class="input"><pre>[//example.com/ Test]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external text" href="//example.com/"&gt;Test&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external text" href="//example.com/"&gt;Test&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">168</th>
<td class="status">fail</td>
<td class="description">External links: protocol-relative URL in brackets without text</td>
<td class="input"><pre>[//example.com]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external autonumber" href="//example.com"&gt;[1]&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="//example.com"&gt;//example.com&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">169</th>
<td class="status">pass</td>
<td class="description">External links: protocol-relative URL in free text is left alone</td>
<td class="input"><pre>//example.com/Foo</pre></td>
<td class="expect"><pre>&lt;p&gt;//example.com/Foo&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;//example.com/Foo&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">170</th>
<td class="status">pass</td>
<td class="description">External links: protocol-relative URL in the middle of a word is left alone (bug 30269)</td>
<td class="input"><pre>foo//example.com/Foo</pre></td>
<td class="expect"><pre>&lt;p&gt;foo//example.com/Foo&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;foo//example.com/Foo&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">171</th>
<td class="status">fail</td>
<td class="description">External image</td>
<td class="input"><pre>External image: http://meta.wikimedia.org/upload/f/f1/Ncwikicol.png</pre></td>
<td class="expect"><pre>&lt;p&gt;External image: &lt;img src="http://meta.wikimedia.org/upload/f/f1/Ncwikicol.png" alt="Ncwikicol.png" /&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;External image: &lt;a rel="nofollow" class="external free" href="http://meta.wikimedia.org/upload/f/f1/Ncwikicol.png"&gt;http://meta.wikimedia.org/upload/f/f1/Ncwikicol.png&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">172</th>
<td class="status">fail</td>
<td class="description">External image from https</td>
<td class="input"><pre>External image from https: https://meta.wikimedia.org/upload/f/f1/Ncwikicol.png</pre></td>
<td class="expect"><pre>&lt;p&gt;External image from https: &lt;img src="https://meta.wikimedia.org/upload/f/f1/Ncwikicol.png" alt="Ncwikicol.png" /&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;External image from https: &lt;a rel="nofollow" class="external free" href="https://meta.wikimedia.org/upload/f/f1/Ncwikicol.png"&gt;https://meta.wikimedia.org/upload/f/f1/Ncwikicol.png&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">173</th>
<td class="status">pass</td>
<td class="description">External image (when not allowed)<ul><li>wgallowexternalimages: 0</li></ul>
</td>
<td class="input"><pre>External image: http://meta.wikimedia.org/upload/f/f1/Ncwikicol.png</pre></td>
<td class="expect"><pre>&lt;p&gt;External image: &lt;a rel="nofollow" class="external free" href="http://meta.wikimedia.org/upload/f/f1/Ncwikicol.png"&gt;http://meta.wikimedia.org/upload/f/f1/Ncwikicol.png&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;External image: &lt;a rel="nofollow" class="external free" href="http://meta.wikimedia.org/upload/f/f1/Ncwikicol.png"&gt;http://meta.wikimedia.org/upload/f/f1/Ncwikicol.png&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">174</th>
<td class="status">pass</td>
<td class="description">Link to non-http image, no img tag</td>
<td class="input"><pre>Link to non-http image, no img tag: ftp://example.com/test.jpg</pre></td>
<td class="expect"><pre>&lt;p&gt;Link to non-http image, no img tag: &lt;a rel="nofollow" class="external free" href="ftp://example.com/test.jpg"&gt;ftp://example.com/test.jpg&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Link to non-http image, no img tag: &lt;a rel="nofollow" class="external free" href="ftp://example.com/test.jpg"&gt;ftp://example.com/test.jpg&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">175</th>
<td class="status">pass</td>
<td class="description">External links: terminating separator</td>
<td class="input"><pre>Terminating separator: http://example.com/thing,</pre></td>
<td class="expect"><pre>&lt;p&gt;Terminating separator: &lt;a rel="nofollow" class="external free" href="http://example.com/thing"&gt;http://example.com/thing&lt;/a&gt;,&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Terminating separator: &lt;a rel="nofollow" class="external free" href="http://example.com/thing"&gt;http://example.com/thing&lt;/a&gt;,&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">176</th>
<td class="status">pass</td>
<td class="description">External links: intervening separator</td>
<td class="input"><pre>Intervening separator: http://example.com/1,2,3</pre></td>
<td class="expect"><pre>&lt;p&gt;Intervening separator: &lt;a rel="nofollow" class="external free" href="http://example.com/1,2,3"&gt;http://example.com/1,2,3&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Intervening separator: &lt;a rel="nofollow" class="external free" href="http://example.com/1,2,3"&gt;http://example.com/1,2,3&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">177</th>
<td class="status">pass</td>
<td class="description">External links: old bug with URL in query</td>
<td class="input"><pre>Old bug with URL in query: [http://example.com/thing?url=http://example.com link]</pre></td>
<td class="expect"><pre>&lt;p&gt;Old bug with URL in query: &lt;a rel="nofollow" class="external text" href="http://example.com/thing?url=http://example.com"&gt;link&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Old bug with URL in query: &lt;a rel="nofollow" class="external text" href="http://example.com/thing?url=http://example.com"&gt;link&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">178</th>
<td class="status">pass</td>
<td class="description">External links: old URL-in-URL bug, mixed protocols</td>
<td class="input"><pre>And again with mixed protocols: [ftp://example.com?url=http://example.com link]</pre></td>
<td class="expect"><pre>&lt;p&gt;And again with mixed protocols: &lt;a rel="nofollow" class="external text" href="ftp://example.com?url=http://example.com"&gt;link&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;And again with mixed protocols: &lt;a rel="nofollow" class="external text" href="ftp://example.com?url=http://example.com"&gt;link&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">179</th>
<td class="status">fail</td>
<td class="description">External links: URL in text</td>
<td class="input"><pre>URL in text: [http://example.com http://example.com]</pre></td>
<td class="expect"><pre>&lt;p&gt;URL in text: &lt;a rel="nofollow" class="external free" href="http://example.com"&gt;http://example.com&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;URL in text: &lt;a rel="nofollow" class="external text" href="http://example.com"&gt;&lt;a rel="nofollow" class="external free" href="http://example.com"&gt;http://example.com&lt;/a&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">180</th>
<td class="status">fail</td>
<td class="description">External links: Clickable images</td>
<td class="input"><pre>ja-style clickable images: [http://example.com http://meta.wikimedia.org/upload/f/f1/Ncwikicol.png]</pre></td>
<td class="expect"><pre>&lt;p&gt;ja-style clickable images: &lt;a rel="nofollow" class="external text" href="http://example.com"&gt;&lt;img src="http://meta.wikimedia.org/upload/f/f1/Ncwikicol.png" alt="Ncwikicol.png" /&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;ja-style clickable images: &lt;a rel="nofollow" class="external text" href="http://example.com"&gt;&lt;a rel="nofollow" class="external free" href="http://meta.wikimedia.org/upload/f/f1/Ncwikicol.png"&gt;http://meta.wikimedia.org/upload/f/f1/Ncwikicol.png&lt;/a&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">181</th>
<td class="status">pass</td>
<td class="description">External links: raw ampersand</td>
<td class="input"><pre>Old &amp;amp; use: http://x&amp;y</pre></td>
<td class="expect"><pre>&lt;p&gt;Old &amp;amp; use: &lt;a rel="nofollow" class="external free" href="http://x&amp;amp;y"&gt;http://x&amp;amp;y&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Old &amp;amp; use: &lt;a rel="nofollow" class="external free" href="http://x&amp;amp;y"&gt;http://x&amp;amp;y&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">182</th>
<td class="status">pass</td>
<td class="description">External links: encoded ampersand</td>
<td class="input"><pre>Old &amp;amp; use: http://x&amp;amp;y</pre></td>
<td class="expect"><pre>&lt;p&gt;Old &amp;amp; use: &lt;a rel="nofollow" class="external free" href="http://x&amp;amp;y"&gt;http://x&amp;amp;y&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Old &amp;amp; use: &lt;a rel="nofollow" class="external free" href="http://x&amp;amp;y"&gt;http://x&amp;amp;y&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">183</th>
<td class="status">pass</td>
<td class="description">External links: encoded equals (bug 6102)</td>
<td class="input"><pre>http://example.com/?foo&amp;#61;bar</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://example.com/?foo=bar"&gt;http://example.com/?foo=bar&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://example.com/?foo=bar"&gt;http://example.com/?foo=bar&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">184</th>
<td class="status">fail</td>
<td class="description">External links: [raw ampersand]</td>
<td class="input"><pre>Old &amp;amp; use: [http://x&amp;y]</pre></td>
<td class="expect"><pre>&lt;p&gt;Old &amp;amp; use: &lt;a rel="nofollow" class="external autonumber" href="http://x&amp;amp;y"&gt;[1]&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Old &amp;amp; use: &lt;a href="http://x&amp;amp;y"&gt;http://x&amp;amp;y&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">185</th>
<td class="status">fail</td>
<td class="description">External links: [encoded ampersand]</td>
<td class="input"><pre>Old &amp;amp; use: [http://x&amp;amp;y]</pre></td>
<td class="expect"><pre>&lt;p&gt;Old &amp;amp; use: &lt;a rel="nofollow" class="external autonumber" href="http://x&amp;amp;y"&gt;[1]&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Old &amp;amp; use: &lt;a href="http://x&amp;amp;y"&gt;http://x&amp;amp;y&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">186</th>
<td class="status">fail</td>
<td class="description">External links: [encoded equals] (bug 6102)</td>
<td class="input"><pre>[http://example.com/?foo&amp;#61;bar]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external autonumber" href="http://example.com/?foo=bar"&gt;[1]&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="http://example.com/?foo=bar"&gt;http://example.com/?foo=bar&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">187</th>
<td class="status">fail</td>
<td class="description">External links: [IDN ignored character reference in hostname; strip it right off]</td>
<td class="input"><pre>[http://e&amp;zwnj;xample.com/]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external autonumber" href="http://example.com/"&gt;[1]&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="http://e&amp;#8204;xample.com/"&gt;http://e&amp;#8204;xample.com/&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">188</th>
<td class="status">fail</td>
<td class="description">External links: IDN ignored character reference in hostname; strip it right off</td>
<td class="input"><pre>http://e&amp;zwnj;xample.com/</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://example.com/"&gt;http://example.com/&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://e&amp;#8204;xample.com/"&gt;http://e&amp;#8204;xample.com/&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">189</th>
<td class="status">pass</td>
<td class="description">External links: www.jpeg.org (bug 554)</td>
<td class="input"><pre>http://www.jpeg.org</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://www.jpeg.org"&gt;http://www.jpeg.org&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://www.jpeg.org"&gt;http://www.jpeg.org&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">190</th>
<td class="status">fail</td>
<td class="description">External links: URL within URL (original bug 2)</td>
<td class="input"><pre>[http://www.unausa.org/newindex.asp?place=http://www.unausa.org/programs/mun.asp]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external autonumber" href="http://www.unausa.org/newindex.asp?place=http://www.unausa.org/programs/mun.asp"&gt;[1]&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="http://www.unausa.org/newindex.asp?place=http://www.unausa.org/programs/mun.asp"&gt;http://www.unausa.org/newindex.asp?place=http://www.unausa.org/programs/mun.asp&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">191</th>
<td class="status">fail</td>
<td class="description">BUG 361: URL inside bracketed URL</td>
<td class="input"><pre>[http://www.example.com/foo http://www.example.com/bar]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external text" href="http://www.example.com/foo"&gt;http://www.example.com/bar&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external text" href="http://www.example.com/foo"&gt;&lt;a rel="nofollow" class="external free" href="http://www.example.com/bar"&gt;http://www.example.com/bar&lt;/a&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">192</th>
<td class="status">pass</td>
<td class="description">BUG 361: URL within URL, not bracketed</td>
<td class="input"><pre>http://www.example.com/foo?=http://www.example.com/bar</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://www.example.com/foo?=http://www.example.com/bar"&gt;http://www.example.com/foo?=http://www.example.com/bar&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://www.example.com/foo?=http://www.example.com/bar"&gt;http://www.example.com/foo?=http://www.example.com/bar&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">193</th>
<td class="status">fail</td>
<td class="description">BUG 289: "&gt;"-token in URL-tail</td>
<td class="input"><pre>http://www.example.com/&lt;hello&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://www.example.com/"&gt;http://www.example.com/&lt;/a&gt;&amp;lt;hello&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://www.example.com/&amp;lt;hello&amp;gt;"&gt;http://www.example.com/&amp;lt;hello&amp;gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">194</th>
<td class="status">fail</td>
<td class="description">BUG 289: literal "&gt;"-token in URL-tail</td>
<td class="input"><pre>http://www.example.com/&lt;b&gt;html&lt;/b&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://www.example.com/"&gt;http://www.example.com/&lt;/a&gt;&lt;b&gt;html&lt;/b&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://www.example.com/&amp;lt;b&amp;gt;html&amp;lt;/b&amp;gt;"&gt;http://www.example.com/&amp;lt;b&amp;gt;html&amp;lt;/b&amp;gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">195</th>
<td class="status">fail</td>
<td class="description">BUG 289: "&gt;"-token in bracketed URL</td>
<td class="input"><pre>[http://www.example.com/&lt;hello&gt; stuff]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external text" href="http://www.example.com/"&gt;&amp;lt;hello&amp;gt; stuff&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external text" href="http://www.example.com/&amp;lt;hello&amp;gt;"&gt;stuff&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">196</th>
<td class="status">fail</td>
<td class="description">BUG 289: literal "&gt;"-token in bracketed URL</td>
<td class="input"><pre>[http://www.example.com/&lt;b&gt;html&lt;/b&gt; stuff]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external text" href="http://www.example.com/"&gt;&lt;b&gt;html&lt;/b&gt; stuff&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external text" href="http://www.example.com/&amp;lt;b&amp;gt;html&amp;lt;/b&amp;gt;"&gt;stuff&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">197</th>
<td class="status">fail</td>
<td class="description">BUG 289: literal double quote at end of URL</td>
<td class="input"><pre>http://www.example.com/"hello"</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://www.example.com/"&gt;http://www.example.com/&lt;/a&gt;"hello"&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://www.example.com/&amp;quot;hello&amp;quot;"&gt;http://www.example.com/"hello"&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">198</th>
<td class="status">fail</td>
<td class="description">BUG 289: literal double quote in bracketed URL</td>
<td class="input"><pre>[http://www.example.com/"hello" stuff]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external text" href="http://www.example.com/"&gt;"hello" stuff&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external text" href="http://www.example.com/&amp;quot;hello&amp;quot;"&gt;stuff&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">199</th>
<td class="status">pass</td>
<td class="description">External links: multiple legal whitespace is fine, Magnus. Don't break it please. (bug 5081)</td>
<td class="input"><pre>[http://www.example.com  test]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external text" href="http://www.example.com"&gt;test&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external text" href="http://www.example.com"&gt;test&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">200</th>
<td class="status">pass</td>
<td class="description">External links: link text with spaces</td>
<td class="input"><pre>[http://www.example.com a b c]&#8990;
[http://www.example.com ''a'' ''b'']</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external text" href="http://www.example.com"&gt;a b c&lt;/a&gt;&#8990;
&lt;a rel="nofollow" class="external text" href="http://www.example.com"&gt;&lt;i&gt;a&lt;/i&gt; &lt;i&gt;b&lt;/i&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external text" href="http://www.example.com"&gt;a b c&lt;/a&gt;&#8990;
&lt;a rel="nofollow" class="external text" href="http://www.example.com"&gt;&lt;i&gt;a&lt;/i&gt; &lt;i&gt;b&lt;/i&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">201</th>
<td class="status">fail</td>
<td class="description">External links: wiki links within external link (Bug 3695)</td>
<td class="input"><pre>[http://example.com [[wikilink]] embedded in ext link]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external text" href="http://example.com"&gt;&lt;/a&gt;&lt;a href="/index.php?title=Wikilink&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Wikilink (page does not exist)"&gt;wikilink&lt;/a&gt;&lt;a rel="nofollow" class="external text" href="http://example.com"&gt; embedded in ext link&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external text" href="http://example.com"&gt;&lt;a href="/wiki/wikilink" title="wikilink"&gt;wikilink&lt;/a&gt; embedded in ext link&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">202</th>
<td class="status">pass</td>
<td class="description">BUG 787: Links with one slash after the url protocol are invalid</td>
<td class="input"><pre>http:/example.com&#8990;
&#8990;
[http:/example.com title]</pre></td>
<td class="expect"><pre>&lt;p&gt;http:/example.com&#8990;
&lt;/p&gt;&lt;p&gt;[http:/example.com title]&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;http:/example.com&#8990;
&lt;/p&gt;&lt;p&gt;[http:/example.com title]&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">203</th>
<td class="status">pass</td>
<td class="description">Bracketed external links with template-generated invalid target</td>
<td class="input"><pre>[{{echo|http:/example.com}} title]</pre></td>
<td class="expect"><pre>&lt;p&gt;[http:/example.com title]&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;[http:/example.com title]&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">204</th>
<td class="status">fail</td>
<td class="description">Bug 2702: Mismatched &lt;i&gt;, &lt;b&gt; and &lt;a&gt; tags are invalid</td>
<td class="input"><pre>''[http://example.com text'']&#8990;
[http://example.com '''text]'''&#8990;
''Something [http://example.com in italic'']&#8990;
''Something [http://example.com mixed''''', even bold]'''&#8990;
'''''Now [http://example.com both''''']</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external text" href="http://example.com"&gt;&lt;i&gt;text&lt;/i&gt;&lt;/a&gt;&#8990;
&lt;a rel="nofollow" class="external text" href="http://example.com"&gt;&lt;b&gt;text&lt;/b&gt;&lt;/a&gt;&#8990;
&lt;i&gt;Something &lt;/i&gt;&lt;a rel="nofollow" class="external text" href="http://example.com"&gt;&lt;i&gt;in italic&lt;/i&gt;&lt;/a&gt;&#8990;
&lt;i&gt;Something &lt;/i&gt;&lt;a rel="nofollow" class="external text" href="http://example.com"&gt;&lt;i&gt;mixed&lt;/i&gt;&lt;b&gt;, even bold&lt;/b&gt;&lt;/a&gt;&#8990;
&lt;i&gt;&lt;b&gt;Now &lt;/b&gt;&lt;/i&gt;&lt;a rel="nofollow" class="external text" href="http://example.com"&gt;&lt;i&gt;&lt;b&gt;both&lt;/b&gt;&lt;/i&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;i&gt;&lt;a rel="nofollow" class="external text" href="http://example.com"&gt;text''&lt;/a&gt;&lt;/i&gt;&#8990;
&lt;a rel="nofollow" class="external text" href="http://example.com"&gt;'''text&lt;/a&gt;&lt;b/&gt;&#8990;
&lt;i&gt;Something &lt;a rel="nofollow" class="external text" href="http://example.com"&gt;in italic''&lt;/a&gt;&lt;/i&gt;&#8990;
&lt;i&gt;Something &lt;a rel="nofollow" class="external text" href="http://example.com"&gt;mixed''''', even bold&lt;/a&gt;&lt;b/&gt;&lt;/i&gt;&#8990;
&lt;i&gt;&lt;b&gt;Now &lt;a rel="nofollow" class="external text" href="http://example.com"&gt;both'''''&lt;/a&gt;&lt;/b&gt;&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">205</th>
<td class="status">pass</td>
<td class="description">Bug 4781: %26 in URL</td>
<td class="input"><pre>http://www.example.com/?title=AT%26T</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://www.example.com/?title=AT%26T"&gt;http://www.example.com/?title=AT%26T&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://www.example.com/?title=AT%26T"&gt;http://www.example.com/?title=AT%26T&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">206</th>
<td class="status">pass</td>
<td class="description">Bug 4781, 5267: %25 in URL</td>
<td class="input"><pre>http://www.example.com/?title=100%25_Bran</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://www.example.com/?title=100%25_Bran"&gt;http://www.example.com/?title=100%25_Bran&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://www.example.com/?title=100%25_Bran"&gt;http://www.example.com/?title=100%25_Bran&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">207</th>
<td class="status">pass</td>
<td class="description">Bug 4781, 5267: %28, %29 in URL</td>
<td class="input"><pre>http://www.example.com/?title=Ben-Hur_%281959_film%29</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://www.example.com/?title=Ben-Hur_%281959_film%29"&gt;http://www.example.com/?title=Ben-Hur_%281959_film%29&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://www.example.com/?title=Ben-Hur_%281959_film%29"&gt;http://www.example.com/?title=Ben-Hur_%281959_film%29&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">208</th>
<td class="status">fail</td>
<td class="description">Bug 4781: %26 in autonumber URL</td>
<td class="input"><pre>[http://www.example.com/?title=AT%26T]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external autonumber" href="http://www.example.com/?title=AT%26T"&gt;[1]&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="http://www.example.com/?title=AT%26T"&gt;http://www.example.com/?title=AT%26T&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">209</th>
<td class="status">fail</td>
<td class="description">Bug 4781, 5267: %26 in autonumber URL</td>
<td class="input"><pre>[http://www.example.com/?title=100%25_Bran]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external autonumber" href="http://www.example.com/?title=100%25_Bran"&gt;[1]&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="http://www.example.com/?title=100%25_Bran"&gt;http://www.example.com/?title=100%25_Bran&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">210</th>
<td class="status">fail</td>
<td class="description">Bug 4781, 5267: %28, %29 in autonumber URL</td>
<td class="input"><pre>[http://www.example.com/?title=Ben-Hur_%281959_film%29]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external autonumber" href="http://www.example.com/?title=Ben-Hur_%281959_film%29"&gt;[1]&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="http://www.example.com/?title=Ben-Hur_%281959_film%29"&gt;http://www.example.com/?title=Ben-Hur_%281959_film%29&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">211</th>
<td class="status">pass</td>
<td class="description">Bug 4781: %26 in bracketed URL</td>
<td class="input"><pre>[http://www.example.com/?title=AT%26T link]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external text" href="http://www.example.com/?title=AT%26T"&gt;link&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external text" href="http://www.example.com/?title=AT%26T"&gt;link&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">212</th>
<td class="status">pass</td>
<td class="description">Bug 4781, 5267: %26 in bracketed URL</td>
<td class="input"><pre>[http://www.example.com/?title=100%25_Bran link]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external text" href="http://www.example.com/?title=100%25_Bran"&gt;link&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external text" href="http://www.example.com/?title=100%25_Bran"&gt;link&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">213</th>
<td class="status">pass</td>
<td class="description">Bug 4781, 5267: %28, %29 in bracketed URL</td>
<td class="input"><pre>[http://www.example.com/?title=Ben-Hur_%281959_film%29 link]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external text" href="http://www.example.com/?title=Ben-Hur_%281959_film%29"&gt;link&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external text" href="http://www.example.com/?title=Ben-Hur_%281959_film%29"&gt;link&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">214</th>
<td class="status">pass</td>
<td class="description">External link containing double-single-quotes in text '' (bug 4598 sanity check)</td>
<td class="input"><pre>Some [http://example.com/ pretty ''italics'' and stuff]!</pre></td>
<td class="expect"><pre>&lt;p&gt;Some &lt;a rel="nofollow" class="external text" href="http://example.com/"&gt;pretty &lt;i&gt;italics&lt;/i&gt; and stuff&lt;/a&gt;!&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Some &lt;a rel="nofollow" class="external text" href="http://example.com/"&gt;pretty &lt;i&gt;italics&lt;/i&gt; and stuff&lt;/a&gt;!&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">215</th>
<td class="status">fail</td>
<td class="description">External link containing double-single-quotes in text embedded in italics (bug 4598 sanity check)</td>
<td class="input"><pre>''Some [http://example.com/ pretty ''italics'' and stuff]!''</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;i&gt;Some &lt;/i&gt;&lt;a rel="nofollow" class="external text" href="http://example.com/"&gt;&lt;i&gt;pretty &lt;/i&gt;italics&lt;i&gt; and stuff&lt;/i&gt;&lt;/a&gt;&lt;i&gt;!&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;i&gt;Some &lt;a rel="nofollow" class="external text" href="http://example.com/"&gt;pretty &lt;i&gt;italics&lt;/i&gt; and stuff&lt;/a&gt;!&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">216</th>
<td class="status">fail</td>
<td class="description">External link containing double-single-quotes with no space separating the url from text in italics</td>
<td class="input"><pre>[http://www.musee-picasso.fr/pages/page_id18528_u1l2.htm''La muerte de Casagemas'' (1901) en el sitio de [[Museo Picasso (Par&#237;s)|Museo Picasso]].]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external text" href="http://www.musee-picasso.fr/pages/page_id18528_u1l2.htm"&gt;&lt;i&gt;La muerte de Casagemas&lt;/i&gt; (1901) en el sitio de &lt;a href="/index.php?title=Museo_Picasso_(Par%C3%ADs)&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Museo Picasso (Par&#237;s) (page does not exist)"&gt;Museo Picasso&lt;/a&gt;.&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external text" href="http://www.musee-picasso.fr/pages/page_id18528_u1l2.htm''La"&gt;muerte de Casagemas'' (1901) en el sitio de &lt;a href="/wiki/Museo_Picasso_(Par&amp;#237;s)" title="Museo Picasso (Par&amp;#237;s)"&gt;Museo Picasso&lt;/a&gt;.&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">217</th>
<td class="status">tidy</td>
<td class="description">External link with comments in link text</td>
<td class="input"><pre>[http://www.google.com Google &lt;!-- comment --&gt;]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external text" href="http://www.google.com"&gt;Google &lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external text" href="http://www.google.com"&gt;Google&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">218</th>
<td class="status">fail</td>
<td class="description">URL-encoding in URL functions (single parameter)</td>
<td class="input"><pre>{{localurl:Some page|amp=&amp;}}</pre></td>
<td class="expect"><pre>&lt;p&gt;/index.php?title=Some_page&amp;amp;amp=&amp;amp;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:Localurl:Some_page" title="Template:Localurl:Some page"&gt;Template:Localurl:Some page&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">219</th>
<td class="status">fail</td>
<td class="description">URL-encoding in URL functions (multiple parameters)</td>
<td class="input"><pre>{{localurl:Some page|q=?&amp;amp=&amp;}}</pre></td>
<td class="expect"><pre>&lt;p&gt;/index.php?title=Some_page&amp;amp;q=?&amp;amp;amp=&amp;amp;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:Localurl:Some_page" title="Template:Localurl:Some page"&gt;Template:Localurl:Some page&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">220</th>
<td class="status">fail</td>
<td class="description">Brackets in urls</td>
<td class="input"><pre>http://example.com/index.php?foozoid%5B%5D=bar&#8990;
&#8990;
http://example.com/index.php?foozoid&amp;#x5B;&amp;#x5D;=bar</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://example.com/index.php?foozoid%5B%5D=bar"&gt;http://example.com/index.php?foozoid%5B%5D=bar&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://example.com/index.php?foozoid%5B%5D=bar"&gt;http://example.com/index.php?foozoid%5B%5D=bar&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://example.com/index.php?foozoid%5B%5D=bar"&gt;http://example.com/index.php?foozoid%5B%5D=bar&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://example.com/index.php?foozoid[]=bar"&gt;http://example.com/index.php?foozoid[]=bar&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="skip">
<th class="index">221</th>
<td class="status">skip</td>
<td class="description">IPv6 urls (bug 21261)<ul><li>disabled</li></ul>
</td>
<td class="input"><pre>http://[2404:130:0:1000::187:2]/index.php</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://[2404:130:0:1000::187:2]/index.php"&gt;http://[2404:130:0:1000::187:2]/index.php&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"> </td>
</tr>
<tr class="pass">
<th class="index">222</th>
<td class="status">pass</td>
<td class="description">Non-extlinks in brackets</td>
<td class="input"><pre>[foo]&#8990;
[foo bar]&#8990;
[foo ''bar'']&#8990;
[fool's] errand&#8990;
[fool's errand]&#8990;
[{{echo|foo}}]&#8990;
[{{echo|foo}} bar]&#8990;
[{{echo|foo}} ''bar'']&#8990;
[{{echo|foo}}l's] errand&#8990;
[{{echo|foo}}l's errand]&#8990;
[url={{echo|foo}}]&#8990;
[url=http://example.com]</pre></td>
<td class="expect"><pre>&lt;p&gt;[foo]&#8990;
[foo bar]&#8990;
[foo &lt;i&gt;bar&lt;/i&gt;]&#8990;
[fool's] errand&#8990;
[fool's errand]&#8990;
[foo]&#8990;
[foo bar]&#8990;
[foo &lt;i&gt;bar&lt;/i&gt;]&#8990;
[fool's] errand&#8990;
[fool's errand]&#8990;
[url=foo]&#8990;
[url=&lt;a rel="nofollow" class="external free" href="http://example.com"&gt;http://example.com&lt;/a&gt;]&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;[foo]&#8990;
[foo bar]&#8990;
[foo &lt;i&gt;bar&lt;/i&gt;]&#8990;
[fool's] errand&#8990;
[fool's errand]&#8990;
[foo]&#8990;
[foo bar]&#8990;
[foo &lt;i&gt;bar&lt;/i&gt;]&#8990;
[fool's] errand&#8990;
[fool's errand]&#8990;
[url=foo]&#8990;
[url=&lt;a rel="nofollow" class="external free" href="http://example.com"&gt;http://example.com&lt;/a&gt;]&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">223</th>
<td class="status">fail</td>
<td class="description">Parsoid: Percent encoding in external links<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>[https://github.com/search?l=&amp;q=ResourceLoader+%40wikimedia Search]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="mw:ExtLink"&#8990;
href="https://github.com/search?l=&amp;amp;q=ResourceLoader+%40wikimedia"&gt;Search&lt;/a&gt;&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external text" href="https://github.com/search?l=&amp;amp;q=ResourceLoader+%40wikimedia"&gt;Search&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">224</th>
<td class="status">fail</td>
<td class="description">Parsoid: use url link syntax for links where the content is equal the link
target<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>http://example.com</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="mw:ExtLink" href="http://example.com"&gt;http://example.com&lt;/a&gt;&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://example.com"&gt;http://example.com&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">225</th>
<td class="status">pass</td>
<td class="description">Quotes</td>
<td class="input"><pre>Normal text. '''Bold text.''' Normal text. ''Italic text.''&#8990;
&#8990;
Normal text. '''''Bold italic text.''''' Normal text.</pre></td>
<td class="expect"><pre>&lt;p&gt;Normal text. &lt;b&gt;Bold text.&lt;/b&gt; Normal text. &lt;i&gt;Italic text.&lt;/i&gt;&#8990;
&lt;/p&gt;&lt;p&gt;Normal text. &lt;i&gt;&lt;b&gt;Bold italic text.&lt;/b&gt;&lt;/i&gt; Normal text.&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Normal text. &lt;b&gt;Bold text.&lt;/b&gt; Normal text. &lt;i&gt;Italic text.&lt;/i&gt;&#8990;
&lt;/p&gt;&lt;p&gt;Normal text. &lt;i&gt;&lt;b&gt;Bold italic text.&lt;/b&gt;&lt;/i&gt; Normal text.&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">226</th>
<td class="status">fail</td>
<td class="description">Unclosed and unmatched quotes (php)<ul><li>php</li></ul>
</td>
<td class="input"><pre>'''''Bold italic text '''with bold deactivated''' in between.'''''&#8990;
&#8990;
'''''Bold italic text ''with italic deactivated'' in between.'''''&#8990;
&#8990;
'''Bold text..&#8990;
&#8990;
..spanning two paragraphs (should not work).'''&#8990;
&#8990;
'''Bold tag left open&#8990;
&#8990;
''Italic tag left open&#8990;
&#8990;
Normal text.&#8990;
&#8990;
&lt;!-- Unmatching number of opening, closing tags: --&gt;&#8990;
'''This year''''s election ''should'' beat '''last year''''s.&#8990;
&#8990;
''Tom'''s car is bigger than ''Susan'''s.&#8990;
&#8990;
Plain ''italic'''s plain</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;i&gt;&lt;b&gt;Bold italic text &lt;/b&gt;with bold deactivated&lt;b&gt; in between.&lt;/b&gt;&lt;/i&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;b&gt;&lt;i&gt;Bold italic text &lt;/i&gt;with italic deactivated&lt;i&gt; in between.&lt;/i&gt;&lt;/b&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;b&gt;Bold text..&lt;/b&gt;&#8990;
&lt;/p&gt;&lt;p&gt;..spanning two paragraphs (should not work).&#8990;
&lt;/p&gt;&lt;p&gt;&lt;b&gt;Bold tag left open&lt;/b&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;i&gt;Italic tag left open&lt;/i&gt;&#8990;
&lt;/p&gt;&lt;p&gt;Normal text.&#8990;
&lt;/p&gt;&lt;p&gt;&lt;b&gt;This year'&lt;/b&gt;s election &lt;i&gt;should&lt;/i&gt; beat &lt;b&gt;last year'&lt;/b&gt;s.&#8990;
&lt;/p&gt;&lt;p&gt;&lt;i&gt;Tom&lt;b&gt;s car is bigger than &lt;/b&gt;&lt;/i&gt;&lt;b&gt;Susan&lt;/b&gt;s.&#8990;
&lt;/p&gt;&lt;p&gt;Plain &lt;i&gt;italic'&lt;/i&gt;s plain&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;i&gt;&lt;b&gt;Bold italic text &lt;/b&gt;with bold deactivated&lt;b&gt; in between.&lt;/b&gt;&lt;/i&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;b&gt;&lt;i&gt;Bold italic text &lt;/i&gt;with italic deactivated&lt;i&gt; in between.&lt;/i&gt;&lt;/b&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;b&gt;Bold text..&lt;/b&gt;&#8990;
&lt;/p&gt;&lt;p&gt;..spanning two paragraphs (should not work).&lt;b/&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;b&gt;Bold tag left open&lt;/b&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;i&gt;Italic tag left open&lt;/i&gt;&#8990;
&lt;/p&gt;&lt;p&gt;Normal text.&#8990;
&lt;/p&gt;&lt;p&gt;&lt;b&gt;This year'&lt;/b&gt;s election &lt;i&gt;should&lt;/i&gt; beat &lt;b&gt;last year'&lt;/b&gt;s.&#8990;
&lt;/p&gt;&lt;p&gt;&lt;i&gt;Tom&lt;b&gt;s car is bigger than &lt;i&gt;Susan&lt;b&gt;s.&lt;/b&gt;&lt;/i&gt;&lt;/b&gt;&lt;/i&gt;&#8990;
&lt;/p&gt;&lt;p&gt;Plain &lt;i&gt;italic&lt;b&gt;s plain&lt;/b&gt;&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">227</th>
<td class="status">fail</td>
<td class="description">Unclosed and unmatched quotes (parsoid)<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>'''''Bold italic text '''with bold deactivated''' in between.'''''&#8990;
&#8990;
'''''Bold italic text ''with italic deactivated'' in between.'''''&#8990;
&#8990;
'''Bold text..&#8990;
&#8990;
..spanning two paragraphs (should not work).'''&#8990;
&#8990;
'''Bold tag left open&#8990;
&#8990;
''Italic tag left open&#8990;
&#8990;
Normal text.&#8990;
&#8990;
&lt;!-- Unmatching number of opening, closing tags: --&gt;&#8990;
'''This year''''s election ''should'' beat '''last year''''s.&#8990;
&#8990;
''Tom'''s car is bigger than ''Susan'''s.&#8990;
&#8990;
Plain ''italic'''s plain</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;i&gt;&lt;b&gt;Bold italic text &lt;/b&gt;with bold deactivated&lt;b&gt; in between.&lt;/b&gt;&lt;/i&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;i&gt;&lt;b&gt;Bold italic text &lt;/b&gt;&lt;/i&gt;&lt;b&gt;with italic deactivated&lt;i&gt; in between.&lt;/i&gt;&lt;/b&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;b&gt;Bold text..&lt;/b&gt;&#8990;
&lt;/p&gt;&lt;p&gt;..spanning two paragraphs (should not work).&lt;b&gt;&lt;/b&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;b&gt;Bold tag left open&lt;/b&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;i&gt;Italic tag left open&lt;/i&gt;&#8990;
&lt;/p&gt;&lt;p&gt;Normal text.&#8990;
&lt;/p&gt;&lt;p&gt;&lt;b&gt;This year'&lt;/b&gt;s election &lt;i&gt;should&lt;/i&gt; beat &lt;b&gt;last year'&lt;/b&gt;s.&#8990;
&lt;/p&gt;&lt;p&gt;&lt;i&gt;Tom&lt;b&gt;s car is bigger than &lt;/b&gt;&lt;/i&gt;&lt;b&gt;Susan&lt;/b&gt;s.&#8990;
&lt;/p&gt;&lt;p&gt;Plain &lt;i&gt;italic'&lt;/i&gt;s plain&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;i&gt;&lt;b&gt;Bold italic text &lt;/b&gt;with bold deactivated&lt;b&gt; in between.&lt;/b&gt;&lt;/i&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;b&gt;&lt;i&gt;Bold italic text &lt;/i&gt;with italic deactivated&lt;i&gt; in between.&lt;/i&gt;&lt;/b&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;b&gt;Bold text..&lt;/b&gt;&#8990;
&lt;/p&gt;&lt;p&gt;..spanning two paragraphs (should not work).&lt;b/&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;b&gt;Bold tag left open&lt;/b&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;i&gt;Italic tag left open&lt;/i&gt;&#8990;
&lt;/p&gt;&lt;p&gt;Normal text.&#8990;
&lt;/p&gt;&lt;p&gt;&lt;b&gt;This year'&lt;/b&gt;s election &lt;i&gt;should&lt;/i&gt; beat &lt;b&gt;last year'&lt;/b&gt;s.&#8990;
&lt;/p&gt;&lt;p&gt;&lt;i&gt;Tom&lt;b&gt;s car is bigger than &lt;i&gt;Susan&lt;b&gt;s.&lt;/b&gt;&lt;/i&gt;&lt;/b&gt;&lt;/i&gt;&#8990;
&lt;/p&gt;&lt;p&gt;Plain &lt;i&gt;italic&lt;b&gt;s plain&lt;/b&gt;&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">228</th>
<td class="status">tidy</td>
<td class="description">A table with no data. (php)<ul><li>php</li></ul>
</td>
<td class="input"><pre>{||}</pre></td>
<td class="expect"><pre></pre></td>
<td class="output"><pre>&lt;table/&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">229</th>
<td class="status">tidy</td>
<td class="description">A table with no data. (parsoid)<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>{||}</pre></td>
<td class="expect"><pre>&lt;table&gt;&lt;/table&gt;</pre></td>
<td class="output"><pre>&lt;table/&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">230</th>
<td class="status">fail</td>
<td class="description">A table with nothing but a caption (php)<ul><li>php</li></ul>
</td>
<td class="input"><pre>{|&#8990;
|+ caption&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;caption&gt; caption&#8990;
&lt;/caption&gt;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;caption&gt; caption&lt;/caption&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">231</th>
<td class="status">pass</td>
<td class="description">A table with nothing but a caption (parsoid)<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>{|&#8990;
|+ caption&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&lt;caption&gt; caption&lt;/caption&gt;&lt;/table&gt;</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;caption&gt; caption&lt;/caption&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">232</th>
<td class="status">tidy</td>
<td class="description">A table with caption with default-spaced attributes and a table row</td>
<td class="input"><pre>{|&#8990;
|+ style="color: red;" | caption1&#8990;
|-&#8990;
| foo&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;caption style="color: red;"&gt; caption1&#8990;
&lt;/caption&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt; foo&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;caption style="color: red;"&gt; caption1&lt;/caption&gt;&lt;tr&gt;&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">233</th>
<td class="status">fail</td>
<td class="description">A table with captions with non-default spaced attributes and a table row</td>
<td class="input"><pre>{|&#8990;
|+style="color: red;"|caption2&#8990;
|+ style="color: red;"| caption3&#8990;
|-&#8990;
| foo&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;caption style="color: red;"&gt;caption2&#8990;
&lt;/caption&gt;&#8990;
&lt;caption style="color: red;"&gt; caption3&#8990;
&lt;/caption&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt; foo&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;caption style="color: red;"&gt;caption2&lt;/caption&gt;&lt;tr&gt;&lt;td style="color: red;"&gt;caption3&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">234</th>
<td class="status">tidy</td>
<td class="description">Table td-cell syntax variations</td>
<td class="input"><pre>{|&#8990;
| foo bar foo | baz&#8990;
| foo bar foo || baz&#8990;
| style='color:red;' | baz&#8990;
| style='color:red;' || baz&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt; baz&#8990;
&lt;/td&gt;&#8990;
&lt;td&gt; foo bar foo &lt;/td&gt;&#8990;
&lt;td&gt; baz&#8990;
&lt;/td&gt;&#8990;
&lt;td style="color:red;"&gt; baz&#8990;
&lt;/td&gt;&#8990;
&lt;td&gt; style='color:red;' &lt;/td&gt;&#8990;
&lt;td&gt; baz&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;baz&lt;/td&gt;&lt;td&gt;foo bar foo&lt;/td&gt;&lt;td&gt;baz&lt;/td&gt;&lt;td style="color:red;"&gt;baz&lt;/td&gt;&lt;td&gt;style='color:red;' &lt;/td&gt;&lt;td&gt;baz&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">235</th>
<td class="status">tidy</td>
<td class="description">Simple table</td>
<td class="input"><pre>{|&#8990;
| 1 || 2&#8990;
|-&#8990;
| 3 || 4&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt; 1 &lt;/td&gt;&#8990;
&lt;td&gt; 2&#8990;
&lt;/td&gt;&lt;/tr&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt; 3 &lt;/td&gt;&#8990;
&lt;td&gt; 4&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;2&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;3&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">236</th>
<td class="status">tidy</td>
<td class="description">Simple table but with multiple dashes for row wikitext</td>
<td class="input"><pre>{|&#8990;
| foo&#8990;
|-----&#8990;
| bar&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt; foo&#8990;
&lt;/td&gt;&lt;/tr&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt; bar&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;bar&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">237</th>
<td class="status">tidy</td>
<td class="description">Multiplication table</td>
<td class="input"><pre>{| border="1" cellpadding="2"&#8990;
|+Multiplication table&#8990;
|-&#8990;
! &amp;times; !! 1 !! 2 !! 3&#8990;
|-&#8990;
! 1&#8990;
| 1 || 2 || 3&#8990;
|-&#8990;
! 2&#8990;
| 2 || 4 || 6&#8990;
|-&#8990;
! 3&#8990;
| 3 || 6 || 9&#8990;
|-&#8990;
! 4&#8990;
| 4 || 8 || 12&#8990;
|-&#8990;
! 5&#8990;
| 5 || 10 || 15&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table border="1" cellpadding="2"&gt;&#8990;
&lt;caption&gt;Multiplication table&#8990;
&lt;/caption&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;th&gt; &amp;#215; &lt;/th&gt;&#8990;
&lt;th&gt; 1 &lt;/th&gt;&#8990;
&lt;th&gt; 2 &lt;/th&gt;&#8990;
&lt;th&gt; 3&#8990;
&lt;/th&gt;&lt;/tr&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;th&gt; 1&#8990;
&lt;/th&gt;&#8990;
&lt;td&gt; 1 &lt;/td&gt;&#8990;
&lt;td&gt; 2 &lt;/td&gt;&#8990;
&lt;td&gt; 3&#8990;
&lt;/td&gt;&lt;/tr&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;th&gt; 2&#8990;
&lt;/th&gt;&#8990;
&lt;td&gt; 2 &lt;/td&gt;&#8990;
&lt;td&gt; 4 &lt;/td&gt;&#8990;
&lt;td&gt; 6&#8990;
&lt;/td&gt;&lt;/tr&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;th&gt; 3&#8990;
&lt;/th&gt;&#8990;
&lt;td&gt; 3 &lt;/td&gt;&#8990;
&lt;td&gt; 6 &lt;/td&gt;&#8990;
&lt;td&gt; 9&#8990;
&lt;/td&gt;&lt;/tr&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;th&gt; 4&#8990;
&lt;/th&gt;&#8990;
&lt;td&gt; 4 &lt;/td&gt;&#8990;
&lt;td&gt; 8 &lt;/td&gt;&#8990;
&lt;td&gt; 12&#8990;
&lt;/td&gt;&lt;/tr&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;th&gt; 5&#8990;
&lt;/th&gt;&#8990;
&lt;td&gt; 5 &lt;/td&gt;&#8990;
&lt;td&gt; 10 &lt;/td&gt;&#8990;
&lt;td&gt; 15&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table border="1" cellpadding="2"&gt;&lt;caption&gt;Multiplication table&lt;/caption&gt;&lt;tr&gt;&lt;th&gt;&amp;#215; &lt;/th&gt;&lt;th&gt;1&lt;/th&gt;&lt;th&gt;2&lt;/th&gt;&lt;th&gt;3&lt;/th&gt;&lt;/tr&gt;&lt;tr&gt;&lt;th&gt;1&lt;/th&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;2&lt;/td&gt;&lt;td&gt;3&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;th&gt;2&lt;/th&gt;&lt;td&gt;2&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;td&gt;6&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;th&gt;3&lt;/th&gt;&lt;td&gt;3&lt;/td&gt;&lt;td&gt;6&lt;/td&gt;&lt;td&gt;9&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;th&gt;4&lt;/th&gt;&lt;td&gt;4&lt;/td&gt;&lt;td&gt;8&lt;/td&gt;&lt;td&gt;12&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;th&gt;5&lt;/th&gt;&lt;td&gt;5&lt;/td&gt;&lt;td&gt;10&lt;/td&gt;&lt;td&gt;15&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">238</th>
<td class="status">fail</td>
<td class="description">Accept "||" in table headings</td>
<td class="input"><pre>{|&#8990;
!h1 || h2&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;th&gt;h1 &lt;/th&gt;&#8990;
&lt;th&gt; h2&#8990;
&lt;/th&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;th/&gt;&lt;td&gt;h2&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">239</th>
<td class="status">fail</td>
<td class="description">Accept "||" in indented table headings</td>
<td class="input"><pre>:{|&#8990;
!h1 || h2&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;dl&gt;&lt;dd&gt;&lt;table&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;th&gt;h1 &lt;/th&gt;&#8990;
&lt;th&gt; h2&#8990;
&lt;/th&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;dl&gt;&lt;dd&gt;&lt;table&gt;&lt;tr&gt;&lt;th/&gt;&lt;td&gt;h2&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/dd&gt;&lt;/dl&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">240</th>
<td class="status">tidy</td>
<td class="description">Accept empty attributes in td/th cells (td/th cells starting with leading ||)</td>
<td class="input"><pre>{|&#8990;
!| h1&#8990;
|| a&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;th&gt; h1&#8990;
&lt;/th&gt;&#8990;
&lt;td&gt; a&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;th&gt;h1&lt;/th&gt;&lt;td&gt;a&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">241</th>
<td class="status">tidy</td>
<td class="description">Accept "| !" at start of line in tables (ignore !-attribute)</td>
<td class="input"><pre>{|&#8990;
|-&#8990;
| !style="color:red" | bar&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt; bar&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;bar&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">242</th>
<td class="status">tidy</td>
<td class="description">Allow +/- in 2nd and later cells in a row, in 1st cell when td-attrs are present, or in 1st cell when there is a space between "|" and +/-</td>
<td class="input"><pre>{|&#8990;
|-&#8990;
|style='color:red;'|+1&#8990;
|style='color:blue;'|-1&#8990;
|-&#8990;
| 1 || 2 || 3&#8990;
| 1 ||+2 ||-3&#8990;
|-&#8990;
| +1&#8990;
| -1&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&#8990;
&lt;tr&gt;&#8990;
&lt;td style="color:red;"&gt;+1&#8990;
&lt;/td&gt;&#8990;
&lt;td style="color:blue;"&gt;-1&#8990;
&lt;/td&gt;&lt;/tr&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt; 1 &lt;/td&gt;&#8990;
&lt;td&gt; 2 &lt;/td&gt;&#8990;
&lt;td&gt; 3&#8990;
&lt;/td&gt;&#8990;
&lt;td&gt; 1 &lt;/td&gt;&#8990;
&lt;td&gt;+2 &lt;/td&gt;&#8990;
&lt;td&gt;-3&#8990;
&lt;/td&gt;&lt;/tr&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt; +1&#8990;
&lt;/td&gt;&#8990;
&lt;td&gt; -1&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td style="color:red;"&gt;+1&lt;/td&gt;&lt;td style="color:blue;"&gt;-1&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;2&lt;/td&gt;&lt;td&gt;3&lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;+2&lt;/td&gt;&lt;td&gt;-3&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;+1&lt;/td&gt;&lt;td&gt;-1&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">243</th>
<td class="status">fail</td>
<td class="description">Table rowspan</td>
<td class="input"><pre>{| border=1&#8990;
| Cell 1, row 1&#8990;
|rowspan=2| Cell 2, row 1 (and 2)&#8990;
| Cell 3, row 1&#8990;
|-&#8990;
| Cell 1, row 2&#8990;
| Cell 3, row 2&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table border="1"&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt; Cell 1, row 1&#8990;
&lt;/td&gt;&#8990;
&lt;td rowspan="2"&gt; Cell 2, row 1 (and 2)&#8990;
&lt;/td&gt;&#8990;
&lt;td&gt; Cell 3, row 1&#8990;
&lt;/td&gt;&lt;/tr&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt; Cell 1, row 2&#8990;
&lt;/td&gt;&#8990;
&lt;td&gt; Cell 3, row 2&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table border="1"&gt;&lt;tr&gt;&lt;td&gt;Cell 1, row 1&lt;/td&gt;&lt;td&gt;rowspan=2| Cell 2, row 1 (and 2)&lt;/td&gt;&lt;td&gt;Cell 3, row 1&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Cell 1, row 2&lt;/td&gt;&lt;td&gt;Cell 3, row 2&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">244</th>
<td class="status">tidy</td>
<td class="description">Nested table</td>
<td class="input"><pre>{| border=1&#8990;
| &amp;alpha;&#8990;
|&#8990;
{| bgcolor=#ABCDEF border=2&#8990;
|nested&#8990;
|-&#8990;
|table&#8990;
|}&#8990;
|the original table again&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table border="1"&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt; &amp;#945;&#8990;
&lt;/td&gt;&#8990;
&lt;td&gt;&#8990;
&lt;table bgcolor="#ABCDEF" border="2"&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt;nested&#8990;
&lt;/td&gt;&lt;/tr&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt;table&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
&lt;/td&gt;&#8990;
&lt;td&gt;the original table again&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table border="1"&gt;&lt;tr&gt;&lt;td&gt;&amp;#945;&lt;/td&gt;&lt;td&gt;&lt;table bgcolor="#ABCDEF" border="2"&gt;&lt;tr&gt;&lt;td&gt;nested&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;table&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;&lt;td&gt;the original table again&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">245</th>
<td class="status">fail</td>
<td class="description">Invalid attributes in table cell (bug 1830)</td>
<td class="input"><pre>{|&#8990;
|Cell:|broken&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt;broken&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;Cell:|broken&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">246</th>
<td class="status">fail</td>
<td class="description">Table security: embedded pipes (http://lists.wikimedia.org/mailman/htdig/wikitech-l/2006-April/022293.html)</td>
<td class="input"><pre>{|&#8990;
| |[ftp://|x||]" onmouseover="alert(document.cookie)"&gt;test</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt;[&lt;a rel="nofollow" class="external free" href="ftp://%7Cx"&gt;ftp://%7Cx&lt;/a&gt;&lt;/td&gt;&#8990;
&lt;td&gt;]" onmouseover="alert(document.cookie)"&amp;gt;test&#8990;
&lt;/td&gt;&#8990;
&lt;/tr&gt;&#8990;
&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;{|&#8990;
| |&lt;a href="ftp://|x||"&gt;ftp://|x||&lt;/a&gt;" onmouseover="alert(document.cookie)"&amp;gt;test&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">247</th>
<td class="status">fail</td>
<td class="description">Indented table markup mixed with indented pre content (proposed in bug 6200)</td>
<td class="input"><pre> &lt;table&gt;&#8990;
 &lt;tr&gt;&#8990;
 &lt;td&gt;&#8990;
 Text that should be rendered preformatted&#8990;
 &lt;/td&gt;&#8990;
 &lt;/tr&gt;&#8990;
 &lt;/table&gt;</pre></td>
<td class="expect"><pre> &lt;table&gt;&#8990;
 &lt;tr&gt;&#8990;
 &lt;td&gt;&#8990;
&lt;pre&gt;Text that should be rendered preformatted&#8990;
&lt;/pre&gt;&#8990;
 &lt;/td&gt;&#8990;
 &lt;/tr&gt;&#8990;
 &lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;pre&gt;Text that should be rendered preformatted&#8990;
&amp;lt;/td&amp;gt;&#8990;
&amp;lt;/tr&amp;gt;&#8990;
&amp;lt;/table&amp;gt;&#8990;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">248</th>
<td class="status">tidy</td>
<td class="description">Template-generated table cell attributes and cell content</td>
<td class="input"><pre>{|&#8990;
|{{table_attribs}}&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td style="color: red"&gt; Foo&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td style="color: red"&gt;Foo&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">249</th>
<td class="status">tidy</td>
<td class="description">Table with row followed by newlines and table heading</td>
<td class="input"><pre>{|&#8990;
|-&#8990;
&#8990;
! foo&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&#8990;
&#8990;
&lt;tr&gt;&#8990;
&lt;th&gt; foo&#8990;
&lt;/th&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;th&gt;foo&lt;/th&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">250</th>
<td class="status">tidy</td>
<td class="description">Table with empty line following the start tag</td>
<td class="input"><pre>{|&#8990;
&#8990;
|-&#8990;
| foo&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&#8990;
&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt; foo&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">251</th>
<td class="status">fail</td>
<td class="description">Table attributes with empty value<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>{|&#8990;
| style=| hello&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;tbody&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td style=""&gt; hello&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;style=| hello&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">252</th>
<td class="status">fail</td>
<td class="description">Wikitext table with a lot of comments</td>
<td class="input"><pre>{|&#8990;
&lt;!-- c0 --&gt;&#8990;
| foo&#8990;
&lt;!-- c1 --&gt;&#8990;
|- &lt;!-- c2 --&gt;&#8990;
&lt;!-- c3 --&gt;&#8990;
|&lt;!-- c4 --&gt;&#8990;
&lt;!-- c5 --&gt;&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt; foo&#8990;
&lt;/td&gt;&lt;/tr&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt;&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td/&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">253</th>
<td class="status">fail</td>
<td class="description">Wikitext table with double-line table cell</td>
<td class="input"><pre>{|&#8990;
|a&#8990;
b&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt;a&#8990;
&lt;p&gt;b&#8990;
&lt;/p&gt;&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;a&#8990;
b&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">254</th>
<td class="status">fail</td>
<td class="description">Table cell with a single comment</td>
<td class="input"><pre>{|&#8990;
| &lt;!-- c1 --&gt;&#8990;
| a&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt;&#8990;
&lt;/td&gt;&#8990;
&lt;td&gt; a&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td/&gt;&lt;td&gt;a&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">255</th>
<td class="status">fail</td>
<td class="description">Wikitext table with html-syntax row (Parsoid)<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>{|&#8990;
|-&#8990;
&lt;td&gt;foo&lt;/td&gt;&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;tbody&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;{|&#8990;
|-&#8990;
&amp;lt;td&amp;gt;foo&amp;lt;/td&amp;gt;&#8990;
|}&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">256</th>
<td class="status">fail</td>
<td class="description">Implicit &lt;td&gt; after a |-
(PHP parser relies on Tidy to add the missing &lt;td&gt; tags)<ul><li>parsoid: wt2html, wt2wt</li></ul>
</td>
<td class="input"><pre>{|&#8990;
|-&#8990;
a&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;tr&gt;&lt;td&gt;a&lt;/td&gt;&lt;/tr&gt;&#8990;
&lt;/table&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;{|&#8990;
|-&#8990;
a&#8990;
|}&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">257</th>
<td class="status">fail</td>
<td class="description">Pres should be recognized in an explicit &lt;td&gt; context, but not in an implicit &lt;td&gt; context
(PHP parser relies on Tidy to add the missing &lt;td&gt; tags)<ul><li>parsoid: wt2html, wt2wt</li></ul>
</td>
<td class="input"><pre>{|&#8990;
|-&#8990;
|&#8990;
 a&#8990;
|-&#8990;
 b&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;tbody&gt;&#8990;
&lt;tr&gt;&lt;td&gt;&lt;pre&gt;a&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&#8990;
&lt;tr&gt;&lt;td&gt; b&lt;/td&gt;&lt;/tr&gt;&#8990;
&lt;/tbody&gt;&#8990;
&lt;/table&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;{|&#8990;
|-&#8990;
|&#8990;
&lt;/p&gt;&lt;pre&gt;a&#8990;
&lt;/pre&gt;&lt;p&gt;|-&#8990;
&lt;/p&gt;&lt;pre&gt;b&#8990;
&lt;/pre&gt;&lt;p&gt;|}&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">258</th>
<td class="status">fail</td>
<td class="description">Lists should be recognized in an implicit &lt;td&gt; context
(PHP parser relies on Tidy to add the missing &lt;td&gt; tags)<ul><li>parsoid: wt2html, wt2wt</li></ul>
</td>
<td class="input"><pre>{|&#8990;
|-&#8990;
*a&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt;&lt;ul&gt;&lt;li&gt;a&lt;/li&gt;&lt;/ul&gt;&lt;/td&gt;&#8990;
&lt;/tr&gt;&#8990;
&lt;/table&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;{|&#8990;
|-&#8990;
&lt;/p&gt;&lt;ul&gt;&lt;li&gt;a&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;p&gt;|}&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">259</th>
<td class="status">pass</td>
<td class="description">Plain link, capitalized</td>
<td class="input"><pre>[[Main Page]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">260</th>
<td class="status">fail</td>
<td class="description">Plain link, uncapitalized</td>
<td class="input"><pre>[[main Page]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;main Page&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/main_Page" title="main Page"&gt;main Page&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">261</th>
<td class="status">pass</td>
<td class="description">Piped link</td>
<td class="input"><pre>[[Main Page|The Main Page]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;The Main Page&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;The Main Page&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">262</th>
<td class="status">pass</td>
<td class="description">Piped link with comment in link text</td>
<td class="input"><pre>[[Main Page|The Main&lt;!--front--&gt; Page]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;The Main Page&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;The Main Page&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">263</th>
<td class="status">fail</td>
<td class="description">Broken link</td>
<td class="input"><pre>[[Zigzagzogzagzig]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/index.php?title=Zigzagzogzagzig&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Zigzagzogzagzig (page does not exist)"&gt;Zigzagzogzagzig&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Zigzagzogzagzig" title="Zigzagzogzagzig"&gt;Zigzagzogzagzig&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">264</th>
<td class="status">fail</td>
<td class="description">Broken link with fragment</td>
<td class="input"><pre>[[Zigzagzogzagzig#zug]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/index.php?title=Zigzagzogzagzig&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Zigzagzogzagzig (page does not exist)"&gt;Zigzagzogzagzig#zug&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Zigzagzogzagzig#zug" title="Zigzagzogzagzig#zug"&gt;Zigzagzogzagzig#zug&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">265</th>
<td class="status">fail</td>
<td class="description">Special page link with fragment</td>
<td class="input"><pre>[[Special:Version#anchor]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/Special:Version#anchor" title="Special:Version"&gt;Special:Version#anchor&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Special:Version#anchor" title="Special:Version#anchor"&gt;Special:Version#anchor&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">266</th>
<td class="status">fail</td>
<td class="description">Nonexistent special page link with fragment</td>
<td class="input"><pre>[[Special:ThisNameWillHopefullyNeverBeUsed#anchor]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/Special:ThisNameWillHopefullyNeverBeUsed" class="new" title="Special:ThisNameWillHopefullyNeverBeUsed (page does not exist)"&gt;Special:ThisNameWillHopefullyNeverBeUsed#anchor&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Special:ThisNameWillHopefullyNeverBeUsed#anchor" title="Special:ThisNameWillHopefullyNeverBeUsed#anchor"&gt;Special:ThisNameWillHopefullyNeverBeUsed#anchor&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">267</th>
<td class="status">fail</td>
<td class="description">Link with prefix</td>
<td class="input"><pre>xxx[[main Page]], xxx[[Main Page]], Xxx[[main Page]] XXX[[main Page]], XXX[[Main Page]]</pre></td>
<td class="expect"><pre>&lt;p&gt;xxx&lt;a href="/wiki/Main_Page" title="Main Page"&gt;main Page&lt;/a&gt;, xxx&lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt;, Xxx&lt;a href="/wiki/Main_Page" title="Main Page"&gt;main Page&lt;/a&gt; XXX&lt;a href="/wiki/Main_Page" title="Main Page"&gt;main Page&lt;/a&gt;, XXX&lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;xxx&lt;a href="/wiki/main_Page" title="main Page"&gt;main Page&lt;/a&gt;, xxx&lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt;, Xxx&lt;a href="/wiki/main_Page" title="main Page"&gt;main Page&lt;/a&gt; XXX&lt;a href="/wiki/main_Page" title="main Page"&gt;main Page&lt;/a&gt;, XXX&lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">268</th>
<td class="status">fail</td>
<td class="description">Link with suffix</td>
<td class="input"><pre>[[Main Page]]xxx, [[Main Page]]XXX, [[Main Page]]!!!</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Pagexxx&lt;/a&gt;, &lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt;XXX, &lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt;!!!&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Pagexxx&lt;/a&gt;, &lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main PageXXX&lt;/a&gt;, &lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt;!!!&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">269</th>
<td class="status">fail</td>
<td class="description">Bug 43661: Piped links with identical prefixes</td>
<td class="input"><pre>[[prefixed article|prefixed articles with spaces]]&#8990;
&#8990;
[[prefixed article|prefixed articlesaoeu]]&#8990;
&#8990;
[[Main Page|Main Page test]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/Prefixed_article" title="Prefixed article"&gt;prefixed articles with spaces&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a href="/wiki/Prefixed_article" title="Prefixed article"&gt;prefixed articlesaoeu&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page test&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/prefixed_article" title="prefixed article"&gt;prefixed articles with spaces&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a href="/wiki/prefixed_article" title="prefixed article"&gt;prefixed articlesaoeu&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page test&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">270</th>
<td class="status">tidy</td>
<td class="description">Link with HTML entity in suffix / tail</td>
<td class="input"><pre>[[Main Page]]&amp;quot;, [[Main Page]]&amp;#97;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt;&amp;quot;, &lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt;&amp;#97;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt;", &lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt;a&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">271</th>
<td class="status">fail</td>
<td class="description">Link with 3 brackets</td>
<td class="input"><pre>[[[main page]]]</pre></td>
<td class="expect"><pre>&lt;p&gt;[[[main page]]]&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/[main_page" title="[main page"&gt;[main page&lt;/a&gt;]&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">272</th>
<td class="status">fail</td>
<td class="description">Piped link with 3 brackets</td>
<td class="input"><pre>[[[main page|the main page]]]</pre></td>
<td class="expect"><pre>&lt;p&gt;[[[main page|the main page]]]&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/[main_page" title="[main page"&gt;the main page&lt;/a&gt;]&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">273</th>
<td class="status">pass</td>
<td class="description">Link with multiple pipes</td>
<td class="input"><pre>[[Main Page|The|Main|Page]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;The|Main|Page&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;The|Main|Page&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">274</th>
<td class="status">fail</td>
<td class="description">Link to namespaces</td>
<td class="input"><pre>[[Talk:Parser testing]], [[Meta:Disclaimers]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/index.php?title=Talk:Parser_testing&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Talk:Parser testing (page does not exist)"&gt;Talk:Parser testing&lt;/a&gt;, &lt;a href="/index.php?title=Meta:Disclaimers&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Meta:Disclaimers (page does not exist)"&gt;Meta:Disclaimers&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Talk:Parser_testing" title="Talk:Parser testing"&gt;Talk:Parser testing&lt;/a&gt;, &lt;a href="/wiki/Meta:Disclaimers" title="Meta:Disclaimers"&gt;Meta:Disclaimers&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">275</th>
<td class="status">fail</td>
<td class="description">Piped link to namespace</td>
<td class="input"><pre>[[Meta:Disclaimers|The disclaimers]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/index.php?title=Meta:Disclaimers&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Meta:Disclaimers (page does not exist)"&gt;The disclaimers&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Meta:Disclaimers" title="Meta:Disclaimers"&gt;The disclaimers&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">276</th>
<td class="status">fail</td>
<td class="description">Link containing }</td>
<td class="input"><pre>[[Usually caused by a typo (oops}]]</pre></td>
<td class="expect"><pre>&lt;p&gt;[[Usually caused by a typo (oops}]]&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Usually_caused_by_a_typo_(oops}" title="Usually caused by a typo (oops}"&gt;Usually caused by a typo (oops}&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">277</th>
<td class="status">fail</td>
<td class="description">Link containing % (not as a hex sequence)</td>
<td class="input"><pre>[[7% Solution]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/index.php?title=7%25_Solution&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="7% Solution (page does not exist)"&gt;7% Solution&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/7%_Solution" title="7% Solution"&gt;7% Solution&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">278</th>
<td class="status">fail</td>
<td class="description">Link containing % as a single hex sequence interpreted to char</td>
<td class="input"><pre>[[7%25 Solution]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/index.php?title=7%25_Solution&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="7% Solution (page does not exist)"&gt;7% Solution&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/7%25_Solution" title="7%25 Solution"&gt;7%25 Solution&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">279</th>
<td class="status">fail</td>
<td class="description">Link containing % as a double hex sequence interpreted to hex sequence</td>
<td class="input"><pre>[[7%2525 Solution]]</pre></td>
<td class="expect"><pre>&lt;p&gt;[[7%2525 Solution]]&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/7%2525_Solution" title="7%2525 Solution"&gt;7%2525 Solution&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">280</th>
<td class="status">fail</td>
<td class="description">Link containing "#&lt;" and "#&gt;" % as a hex sequences- these are valid section anchors
Example for such a section: == &lt; ==</td>
<td class="input"><pre>[[%23%3c]][[%23%3e]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="#.3C"&gt;#&amp;lt;&lt;/a&gt;&lt;a href="#.3E"&gt;#&amp;gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/%23%3c" title="%23%3c"&gt;%23%3c&lt;/a&gt;&lt;a href="/wiki/%23%3e" title="%23%3e"&gt;%23%3e&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">281</th>
<td class="status">fail</td>
<td class="description">Link containing "&lt;#" and "&gt;#" as a hex sequences</td>
<td class="input"><pre>[[%3c%23]][[%3e%23]]</pre></td>
<td class="expect"><pre>&lt;p&gt;[[%3c%23]][[%3e%23]]&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/%3c%23" title="%3c%23"&gt;%3c%23&lt;/a&gt;&lt;a href="/wiki/%3e%23" title="%3e%23"&gt;%3e%23&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">282</th>
<td class="status">fail</td>
<td class="description">Link containing an equals sign</td>
<td class="input"><pre>[[Special:BookSources/isbn=4-00-026157-6]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/Special:BookSources/isbn%3D4-00-026157-6" title="Special:BookSources/isbn=4-00-026157-6"&gt;Special:BookSources/isbn=4-00-026157-6&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Special:BookSources/isbn=4-00-026157-6" title="Special:BookSources/isbn=4-00-026157-6"&gt;Special:BookSources/isbn=4-00-026157-6&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">283</th>
<td class="status">fail</td>
<td class="description">Link containing a tilde</td>
<td class="input"><pre>[[Foo~bar]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/Foo%7Ebar" title="Foo~bar"&gt;Foo~bar&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Foo~bar" title="Foo~bar"&gt;Foo~bar&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">284</th>
<td class="status">fail</td>
<td class="description">Link containing double-single-quotes '' (bug 4598)</td>
<td class="input"><pre>[[Lista d''e paise d''o munno]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/index.php?title=Lista_d%27%27e_paise_d%27%27o_munno&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Lista d''e paise d''o munno (page does not exist)"&gt;Lista d''e paise d''o munno&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/BROKEN" title="BROKEN"&gt;BROKEN&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">285</th>
<td class="status">fail</td>
<td class="description">Link containing double-single-quotes '' in text (bug 4598 sanity check)</td>
<td class="input"><pre>Some [[Link|pretty ''italics'' and stuff]]!</pre></td>
<td class="expect"><pre>&lt;p&gt;Some &lt;a href="/index.php?title=Link&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Link (page does not exist)"&gt;pretty &lt;i&gt;italics&lt;/i&gt; and stuff&lt;/a&gt;!&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Some &lt;a href="/wiki/Link" title="Link"&gt;pretty &lt;i&gt;italics&lt;/i&gt; and stuff&lt;/a&gt;!&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">286</th>
<td class="status">fail</td>
<td class="description">Link containing double-single-quotes '' in text embedded in italics (bug 4598 sanity check)</td>
<td class="input"><pre>''Some [[Link|pretty ''italics'' and stuff]]!</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;i&gt;Some &lt;a href="/index.php?title=Link&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Link (page does not exist)"&gt;pretty &lt;i&gt;italics&lt;/i&gt; and stuff&lt;/a&gt;!&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;i&gt;Some &lt;a href="/wiki/Link" title="Link"&gt;pretty &lt;i&gt;italics&lt;/i&gt; and stuff&lt;/a&gt;!&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">287</th>
<td class="status">fail</td>
<td class="description">Link with double quotes in title part (literal) and alternate part (interpreted)</td>
<td class="input"><pre>[[File:Denys Savchenko ''Pentecoste''.jpg]]&#8990;
&#8990;
[[''Pentecoste'']]&#8990;
&#8990;
[[''Pentecoste''|Pentecoste]]&#8990;
&#8990;
[[''Pentecoste''|''Pentecoste'']]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/index.php?title=Special:Upload&amp;amp;wpDestFile=Denys_Savchenko_%27%27Pentecoste%27%27.jpg" class="new" title="File:Denys Savchenko &amp;#39;&amp;#39;Pentecoste&amp;#39;&amp;#39;.jpg"&gt;File:Denys Savchenko &lt;i&gt;Pentecoste&lt;/i&gt;.jpg&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a href="/index.php?title=%27%27Pentecoste%27%27&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="''Pentecoste'' (page does not exist)"&gt;''Pentecoste''&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a href="/index.php?title=%27%27Pentecoste%27%27&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="''Pentecoste'' (page does not exist)"&gt;Pentecoste&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a href="/index.php?title=%27%27Pentecoste%27%27&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="''Pentecoste'' (page does not exist)"&gt;&lt;i&gt;Pentecoste&lt;/i&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/BROKEN" title="BROKEN"&gt;BROKEN&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a href="/wiki/BROKEN" title="BROKEN"&gt;BROKEN&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a href="/wiki/BROKEN" title="BROKEN"&gt;Pentecoste&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a href="/wiki/BROKEN" title="BROKEN"&gt;&lt;i&gt;Pentecoste&lt;/i&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">288</th>
<td class="status">fail</td>
<td class="description">Broken image links with HTML captions (bug 39700)</td>
<td class="input"><pre>[[File:Nonexistent|&lt;script&gt;&lt;/script&gt;]]&#8990;
[[File:Nonexistent|100px|&lt;script&gt;&lt;/script&gt;]]&#8990;
[[File:Nonexistent|&amp;lt;]]&#8990;
[[File:Nonexistent|a&lt;i&gt;b&lt;/i&gt;c]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/index.php?title=Special:Upload&amp;amp;wpDestFile=Nonexistent" class="new" title="File:Nonexistent"&gt;&amp;lt;script&amp;gt;&amp;lt;/script&amp;gt;&lt;/a&gt;&#8990;
&lt;a href="/index.php?title=Special:Upload&amp;amp;wpDestFile=Nonexistent" class="new" title="File:Nonexistent"&gt;&amp;lt;script&amp;gt;&amp;lt;/script&amp;gt;&lt;/a&gt;&#8990;
&lt;a href="/index.php?title=Special:Upload&amp;amp;wpDestFile=Nonexistent" class="new" title="File:Nonexistent"&gt;&amp;lt;&lt;/a&gt;&#8990;
&lt;a href="/index.php?title=Special:Upload&amp;amp;wpDestFile=Nonexistent" class="new" title="File:Nonexistent"&gt;abc&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/File:Nonexistent" title="File:Nonexistent"&gt;&amp;lt;script&amp;gt;&amp;lt;/script&amp;gt;&lt;/a&gt;&#8990;
&lt;a href="/wiki/File:Nonexistent" title="File:Nonexistent"&gt;100px|&amp;lt;script&amp;gt;&amp;lt;/script&amp;gt;&lt;/a&gt;&#8990;
&lt;a href="/wiki/File:Nonexistent" title="File:Nonexistent"&gt;&amp;lt;&lt;/a&gt;&#8990;
&lt;a href="/wiki/File:Nonexistent" title="File:Nonexistent"&gt;a&lt;i&gt;b&lt;/i&gt;c&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">289</th>
<td class="status">fail</td>
<td class="description">Plain link to URL</td>
<td class="input"><pre>[[http://www.example.com]]</pre></td>
<td class="expect"><pre>&lt;p&gt;[&lt;a rel="nofollow" class="external autonumber" href="http://www.example.com"&gt;[1]&lt;/a&gt;]&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/BROKEN" title="BROKEN"&gt;BROKEN&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">290</th>
<td class="status">fail</td>
<td class="description">Plain link to URL with link text</td>
<td class="input"><pre>[[http://www.example.com Link text]]</pre></td>
<td class="expect"><pre>&lt;p&gt;[&lt;a rel="nofollow" class="external text" href="http://www.example.com"&gt;Link text&lt;/a&gt;]&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/BROKEN" title="BROKEN"&gt;BROKEN&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">291</th>
<td class="status">fail</td>
<td class="description">Plain link to protocol-relative URL</td>
<td class="input"><pre>[[//www.example.com]]</pre></td>
<td class="expect"><pre>&lt;p&gt;[&lt;a rel="nofollow" class="external autonumber" href="//www.example.com"&gt;[1]&lt;/a&gt;]&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki///www.example.com" title="//www.example.com"&gt;//www.example.com&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">292</th>
<td class="status">fail</td>
<td class="description">Plain link to protocol-relative URL with link text</td>
<td class="input"><pre>[[//www.example.com Link text]]</pre></td>
<td class="expect"><pre>&lt;p&gt;[&lt;a rel="nofollow" class="external text" href="//www.example.com"&gt;Link text&lt;/a&gt;]&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki///www.example.com_Link_text" title="//www.example.com Link text"&gt;//www.example.com Link text&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">293</th>
<td class="status">fail</td>
<td class="description">Plain link to page with question mark in title</td>
<td class="input"><pre>[[A?b]]&#8990;
&#8990;
[[A?b|Baz]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/A%3Fb" title="A?b"&gt;A?b&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a href="/wiki/A%3Fb" title="A?b"&gt;Baz&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/A?b" title="A?b"&gt;A?b&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a href="/wiki/A?b" title="A?b"&gt;Baz&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">294</th>
<td class="status">fail</td>
<td class="description">Piped link to URL</td>
<td class="input"><pre>Piped link to URL: [[http://www.example.com|an example URL]]</pre></td>
<td class="expect"><pre>&lt;p&gt;Piped link to URL: [&lt;a rel="nofollow" class="external text" href="http://www.example.com%7Can"&gt;example URL&lt;/a&gt;]&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Piped link to URL: &lt;a href="/wiki/BROKEN" title="BROKEN"&gt;BROKEN&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">295</th>
<td class="status">fail</td>
<td class="description">BUG 2: [[page|http://url/]] should link to page, not http://url/</td>
<td class="input"><pre>[[Main Page|http://url/]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;http://url/&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;&lt;a rel="nofollow" class="external free" href="http://url/"&gt;http://url/&lt;/a&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">296</th>
<td class="status">fail</td>
<td class="description">BUG 337: Escaped self-links should be bold<ul><li>title: Bug462</li></ul>
</td>
<td class="input"><pre>[[Bu&amp;#103;462]] [[Bug462]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;strong class="selflink"&gt;Bu&amp;#103;462&lt;/strong&gt; &lt;strong class="selflink"&gt;Bug462&lt;/strong&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Bug462" title="Bug462"&gt;Bug462&lt;/a&gt; &lt;a href="/wiki/Bug462" title="Bug462"&gt;Bug462&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">297</th>
<td class="status">fail</td>
<td class="description">Self-link to section should not be bold<ul><li>title: Main Page</li></ul>
</td>
<td class="input"><pre>[[Main Page#section]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/Main_Page#section" title="Main Page"&gt;Main Page#section&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Main_Page#section" title="Main Page#section"&gt;Main Page#section&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">298</th>
<td class="status">fail</td>
<td class="description">Self-link to numeric title<ul><li>title: 0</li></ul>
</td>
<td class="input"><pre>[[0]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;strong class="selflink"&gt;0&lt;/strong&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/0" title="0"&gt;0&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">299</th>
<td class="status">pass</td>
<td class="description">Link to numeric-equivalent title<ul><li>title: 0</li></ul>
</td>
<td class="input"><pre>[[00]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/00" title="00"&gt;00&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/00" title="00"&gt;00&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">300</th>
<td class="status">fail</td>
<td class="description">&lt;nowiki&gt; inside a link</td>
<td class="input"><pre>[[Main&lt;nowiki&gt; Page&lt;/nowiki&gt;]] [[Main Page|the main page &lt;nowiki&gt;[it's not very good]&lt;/nowiki&gt;]]</pre></td>
<td class="expect"><pre>&lt;p&gt;[[Main Page]] &lt;a href="/wiki/Main_Page" title="Main Page"&gt;the main page [it's not very good]&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt; &lt;a href="/wiki/Main_Page" title="Main Page"&gt;the main page [it's not very good]&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">301</th>
<td class="status">fail</td>
<td class="description">Non-breaking spaces in title</td>
<td class="input"><pre>[[&amp;nbsp; Main &amp;nbsp; Page &amp;nbsp;]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;&amp;#160; Main &amp;#160; Page &amp;#160;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Main_&amp;#160;_Page" title="Main &amp;#160; Page"&gt;Main &amp;#160; Page&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">302</th>
<td class="status">pass</td>
<td class="description">Internal link with ca linktrail, surrounded by bold apostrophes (bug 27473 primary issue)<ul><li>language: ca</li></ul>
</td>
<td class="input"><pre>'''[[Main Page]]'''</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;b&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt;&lt;/b&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;b&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt;&lt;/b&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">303</th>
<td class="status">pass</td>
<td class="description">Internal link with ca linktrail, surrounded by italic apostrophes (bug 27473 primary issue)<ul><li>language: ca</li></ul>
</td>
<td class="input"><pre>''[[Main Page]]''</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;i&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt;&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;i&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt;&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">304</th>
<td class="status">fail</td>
<td class="description">Internal link with en linktrail: no apostrophes (bug 27473)<ul><li>language: en</li></ul>
</td>
<td class="input"><pre>[[Something]]'nice</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/index.php?title=Something&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Something (page does not exist)"&gt;Something&lt;/a&gt;'nice&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Something" title="Something"&gt;Something'nice&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">305</th>
<td class="status">fail</td>
<td class="description">Internal link with ca linktrail with apostrophes (bug 27473)<ul><li>language: ca</li></ul>
</td>
<td class="input"><pre>[[Something]]'nice</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/index.php?title=Something&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Something (encara no existeix)"&gt;Something'nice&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Something" title="Something"&gt;Something'nice&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">306</th>
<td class="status">fail</td>
<td class="description">Internal link with kaa linktrail with apostrophes (bug 27473)<ul><li>language: kaa</li></ul>
</td>
<td class="input"><pre>[[Something]]'nice</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/index.php?title=Something&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Something (bet ele jarat&#305;lmag'an)"&gt;Something'nice&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Something" title="Something"&gt;Something'nice&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">307</th>
<td class="status">fail</td>
<td class="description">Internal link with is link prefix<ul><li>language: is</li></ul>
</td>
<td class="input"><pre>A&#240;rir m&#243;tm&#230;lenda[[s&#246;fnu&#240;ur|s&#246;fnu&#240;ir]] og</pre></td>
<td class="expect"><pre>&lt;p&gt;A&#240;rir &lt;a href="/wiki/S%C3%B6fnu%C3%B0ur" title="S&#246;fnu&#240;ur"&gt;m&#243;tm&#230;lendas&#246;fnu&#240;ir&lt;/a&gt; og&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;A&amp;#240;rir m&amp;#243;tm&amp;#230;lenda&lt;a href="/wiki/s&amp;#246;fnu&amp;#240;ur" title="s&amp;#246;fnu&amp;#240;ur"&gt;s&amp;#246;fnu&amp;#240;ir&lt;/a&gt; og&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">308</th>
<td class="status">fail</td>
<td class="description">Internal link with is link trail and link prefix<ul><li>language: is</li></ul>
</td>
<td class="input"><pre>[[m&#243;tm&#230;lendatr&#250;|xxx]]ar&#8990;
[[m&#243;tm&#230;lendatr&#250;]]ar&#8990;
m&#243;tm&#230;lenda[[s&#246;fnu&#240;ur]]&#8990;
m&#243;tm&#230;lenda[[s&#246;fnu&#240;ur|s&#246;fnu&#240;ir]]&#8990;
m&#243;tm&#230;lenda[[s&#246;fnu&#240;ur|s&#246;fnu&#240;ir]]xxx</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/M%C3%B3tm%C3%A6lendatr%C3%BA" title="M&#243;tm&#230;lendatr&#250;"&gt;xxxar&lt;/a&gt;&#8990;
&lt;a href="/wiki/M%C3%B3tm%C3%A6lendatr%C3%BA" title="M&#243;tm&#230;lendatr&#250;"&gt;m&#243;tm&#230;lendatr&#250;ar&lt;/a&gt;&#8990;
&lt;a href="/wiki/S%C3%B6fnu%C3%B0ur" title="S&#246;fnu&#240;ur"&gt;m&#243;tm&#230;lendas&#246;fnu&#240;ur&lt;/a&gt;&#8990;
&lt;a href="/wiki/S%C3%B6fnu%C3%B0ur" title="S&#246;fnu&#240;ur"&gt;m&#243;tm&#230;lendas&#246;fnu&#240;ir&lt;/a&gt;&#8990;
&lt;a href="/wiki/S%C3%B6fnu%C3%B0ur" title="S&#246;fnu&#240;ur"&gt;m&#243;tm&#230;lendas&#246;fnu&#240;irxxx&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/m&amp;#243;tm&amp;#230;lendatr&amp;#250;" title="m&amp;#243;tm&amp;#230;lendatr&amp;#250;"&gt;xxxar&lt;/a&gt;&#8990;
&lt;a href="/wiki/m&amp;#243;tm&amp;#230;lendatr&amp;#250;" title="m&amp;#243;tm&amp;#230;lendatr&amp;#250;"&gt;m&amp;#243;tm&amp;#230;lendatr&amp;#250;ar&lt;/a&gt;&#8990;
m&amp;#243;tm&amp;#230;lenda&lt;a href="/wiki/s&amp;#246;fnu&amp;#240;ur" title="s&amp;#246;fnu&amp;#240;ur"&gt;s&amp;#246;fnu&amp;#240;ur&lt;/a&gt;&#8990;
m&amp;#243;tm&amp;#230;lenda&lt;a href="/wiki/s&amp;#246;fnu&amp;#240;ur" title="s&amp;#246;fnu&amp;#240;ur"&gt;s&amp;#246;fnu&amp;#240;ir&lt;/a&gt;&#8990;
m&amp;#243;tm&amp;#230;lenda&lt;a href="/wiki/s&amp;#246;fnu&amp;#240;ur" title="s&amp;#246;fnu&amp;#240;ur"&gt;s&amp;#246;fnu&amp;#240;irxxx&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">309</th>
<td class="status">fail</td>
<td class="description">Parsoid link trail escaping<ul><li>parsoid: html2wt, html2html</li></ul>
</td>
<td class="input"><pre>[[apple]]&lt;nowiki/&gt;s</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="mw:WikiLink" href="Apple"&gt;apple&lt;/a&gt;s&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/apple" title="apple"&gt;apple&lt;/a&gt;s&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">310</th>
<td class="status">fail</td>
<td class="description">Parsoid link prefix escaping<ul>
<li>language: is</li>
<li>parsoid: html2wt, html2html</li>
</ul>
</td>
<td class="input"><pre>A&#240;rir m&#243;tm&#230;lenda&lt;nowiki/&gt;[[s&#246;fnu&#240;ur]]</pre></td>
<td class="expect"><pre>&lt;p&gt;A&#240;rir m&#243;tm&#230;lenda&lt;a rel="mw:WikiLink" href="S&#246;fnu&#240;ur"&gt;s&#246;fnu&#240;ur&lt;/a&gt;&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;A&amp;#240;rir m&amp;#243;tm&amp;#230;lenda&lt;a href="/wiki/s&amp;#246;fnu&amp;#240;ur" title="s&amp;#246;fnu&amp;#240;ur"&gt;s&amp;#246;fnu&amp;#240;ur&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">311</th>
<td class="status">fail</td>
<td class="description">Parsoid-centric test: Whitespace in ext- and wiki-links should be preserved</td>
<td class="input"><pre>[[Foo|  bar]]&#8990;
&#8990;
[[Foo|  ''bar'']]&#8990;
&#8990;
[http://wp.org   foo]&#8990;
&#8990;
[http://wp.org   ''foo'']</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/index.php?title=Foo&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Foo (page does not exist)"&gt;  bar&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a href="/index.php?title=Foo&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Foo (page does not exist)"&gt;  &lt;i&gt;bar&lt;/i&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a rel="nofollow" class="external text" href="http://wp.org"&gt;foo&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a rel="nofollow" class="external text" href="http://wp.org"&gt;&lt;i&gt;foo&lt;/i&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Foo" title="Foo"&gt;bar&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a href="/wiki/Foo" title="Foo"&gt;&lt;i&gt;bar&lt;/i&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a rel="nofollow" class="external text" href="http://wp.org"&gt;foo&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a rel="nofollow" class="external text" href="http://wp.org"&gt;&lt;i&gt;foo&lt;/i&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">312</th>
<td class="status">fail</td>
<td class="description">Inline interwiki link</td>
<td class="input"><pre>[[MeatBall:SoftSecurity]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="http://www.usemod.com/cgi-bin/mb.pl?SoftSecurity" class="extiw" title="meatball:SoftSecurity"&gt;MeatBall:SoftSecurity&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/MeatBall:SoftSecurity" title="MeatBall:SoftSecurity"&gt;MeatBall:SoftSecurity&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">313</th>
<td class="status">fail</td>
<td class="description">Inline interwiki link with empty title (bug 2372)</td>
<td class="input"><pre>[[MeatBall:]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="http://www.usemod.com/cgi-bin/mb.pl" class="extiw" title="meatball:"&gt;MeatBall:&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/MeatBall:" title="MeatBall:"&gt;MeatBall:&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">314</th>
<td class="status">fail</td>
<td class="description">Interwiki link encoding conversion (bug 1636)</td>
<td class="input"><pre>*[[Wikipedia:ro:Olteni&amp;#0355;a]]&#8990;
*[[Wikipedia:ro:Olteni&amp;#355;a]]</pre></td>
<td class="expect"><pre>&lt;ul&gt;&lt;li&gt;&lt;a href="http://en.wikipedia.org/wiki/ro:Olteni%C5%A3a" class="extiw" title="wikipedia:ro:Olteni&#355;a"&gt;Wikipedia:ro:Olteni&amp;#355;a&lt;/a&gt;&#8990;
&lt;/li&gt;&lt;li&gt;&lt;a href="http://en.wikipedia.org/wiki/ro:Olteni%C5%A3a" class="extiw" title="wikipedia:ro:Olteni&#355;a"&gt;Wikipedia:ro:Olteni&amp;#355;a&lt;/a&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt;&lt;a href="/wiki/Wikipedia:ro:Olteni&amp;#355;a" title="Wikipedia:ro:Olteni&amp;#355;a"&gt;Wikipedia:ro:Olteni&amp;#355;a&lt;/a&gt;&#8990;
&lt;/li&gt;&lt;li&gt;&lt;a href="/wiki/Wikipedia:ro:Olteni&amp;#355;a" title="Wikipedia:ro:Olteni&amp;#355;a"&gt;Wikipedia:ro:Olteni&amp;#355;a&lt;/a&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">315</th>
<td class="status">fail</td>
<td class="description">Interwiki link with fragment (bug 2130)</td>
<td class="input"><pre>[[MeatBall:SoftSecurity#foo]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="http://www.usemod.com/cgi-bin/mb.pl?SoftSecurity#foo" class="extiw" title="meatball:SoftSecurity"&gt;MeatBall:SoftSecurity#foo&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/MeatBall:SoftSecurity#foo" title="MeatBall:SoftSecurity#foo"&gt;MeatBall:SoftSecurity#foo&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">316</th>
<td class="status">fail</td>
<td class="description">Interlanguage link</td>
<td class="input"><pre>Blah blah blah&#8990;
[[zh:Chinese]]</pre></td>
<td class="expect"><pre>&lt;p&gt;Blah blah blah&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Blah blah blah&#8990;
&lt;a href="/wiki/zh:Chinese" title="zh:Chinese"&gt;zh:Chinese&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">317</th>
<td class="status">fail</td>
<td class="description">Double interlanguage link</td>
<td class="input"><pre>Blah blah blah&#8990;
[[es:Spanish]]&#8990;
[[zh:Chinese]]</pre></td>
<td class="expect"><pre>&lt;p&gt;Blah blah blah&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Blah blah blah&#8990;
&lt;a href="/wiki/es:Spanish" title="es:Spanish"&gt;es:Spanish&lt;/a&gt;&#8990;
&lt;a href="/wiki/zh:Chinese" title="zh:Chinese"&gt;zh:Chinese&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">318</th>
<td class="status">fail</td>
<td class="description">Interlanguage link, with prefix links<ul><li>language: ln</li></ul>
</td>
<td class="input"><pre>Blah blah blah&#8990;
[[zh:Chinese]]</pre></td>
<td class="expect"><pre>&lt;p&gt;Blah blah blah&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Blah blah blah&#8990;
&lt;a href="/wiki/zh:Chinese" title="zh:Chinese"&gt;zh:Chinese&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">319</th>
<td class="status">fail</td>
<td class="description">Double interlanguage link, with prefix links (bug 8897)<ul><li>language: ln</li></ul>
</td>
<td class="input"><pre>Blah blah blah&#8990;
[[es:Spanish]]&#8990;
[[zh:Chinese]]</pre></td>
<td class="expect"><pre>&lt;p&gt;Blah blah blah&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Blah blah blah&#8990;
&lt;a href="/wiki/es:Spanish" title="es:Spanish"&gt;es:Spanish&lt;/a&gt;&#8990;
&lt;a href="/wiki/zh:Chinese" title="zh:Chinese"&gt;zh:Chinese&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">320</th>
<td class="status">fail</td>
<td class="description">Parsoid-specific test: Wikilinks with &amp;nbsp; should RT properly<ul><li>language: ln</li></ul>
</td>
<td class="input"><pre>[[WW&amp;nbsp;II]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/index.php?title=WW_II&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="WW II (lonk&#225;s&#225;  ezal&#237; t&#603;&#770;)"&gt;WW&amp;#160;II&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/WW&amp;#160;II" title="WW&amp;#160;II"&gt;WW&amp;#160;II&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">321</th>
<td class="status">fail</td>
<td class="description">Parsoid: handle constructor well<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>[[constructor]]&#8990;
&#8990;
[[constructor:foo]]</pre></td>
<td class="expect"><pre>&lt;p data-parsoid="{&amp;quot;dsr&amp;quot;:[0,15,0,0]}"&gt;&lt;a rel="mw:WikiLink" href="./Constructor" data-parsoid="{&amp;quot;stx&amp;quot;:&amp;quot;simple&amp;quot;,&amp;quot;a&amp;quot;:{&amp;quot;href&amp;quot;:&amp;quot;./Constructor&amp;quot;},&amp;quot;sa&amp;quot;:{&amp;quot;href&amp;quot;:&amp;quot;constructor&amp;quot;},&amp;quot;dsr&amp;quot;:[0,15,2,2]}"&gt;constructor&lt;/a&gt;&lt;/p&gt;&#8990;
&#8990;
&#8990;
&lt;p data-parsoid="{&amp;quot;dsr&amp;quot;:[17,36,0,0]}"&gt;&lt;a rel="mw:WikiLink" href="./Foo" data-parsoid="{&amp;quot;stx&amp;quot;:&amp;quot;simple&amp;quot;,&amp;quot;a&amp;quot;:{&amp;quot;href&amp;quot;:&amp;quot;./Foo&amp;quot;},&amp;quot;sa&amp;quot;:{&amp;quot;href&amp;quot;:&amp;quot;constructor:foo&amp;quot;},&amp;quot;dsr&amp;quot;:[17,36,2,2]}"&gt;constructor:foo&lt;/a&gt;&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/constructor" title="constructor"&gt;constructor&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a href="/wiki/constructor:foo" title="constructor:foo"&gt;constructor:foo&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">322</th>
<td class="status">fail</td>
<td class="description">Simple redirect to page<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>#REDIRECT [[Main Page]]</pre></td>
<td class="expect"><pre>&lt;link rel="mw:PageProp/redirect" href="./Main_Page"&gt;</pre></td>
<td class="output"><pre>&lt;ol&gt;&lt;li&gt;REDIRECT &lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt;&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">323</th>
<td class="status">fail</td>
<td class="description">Redirect to category<ul><li>parsoid: wt2html</li></ul>
</td>
<td class="input"><pre>#REDIRECT [[Category:Foo]]</pre></td>
<td class="expect"><pre>&lt;link rel="mw:PageProp/redirect" href="./Category:Foo"&gt;&lt;link rel="mw:WikiLink/Category" href="./Category:Foo"&gt;</pre></td>
<td class="output"><pre>&lt;ol&gt;&lt;li&gt;REDIRECT &lt;a href="/wiki/Category:Foo" title="Category:Foo"&gt;Category:Foo&lt;/a&gt;&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">324</th>
<td class="status">fail</td>
<td class="description">Redirect to category page<ul><li>parsoid: wt2html, html2html</li></ul>
</td>
<td class="input"><pre>#REDIRECT [[:Category:Foo]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="mw:WikiLink" href="Category:Foo"&gt;Category:Foo&lt;/a&gt;&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;ol&gt;&lt;li&gt;REDIRECT &lt;a href="/wiki/:Category:Foo" title=":Category:Foo"&gt;:Category:Foo&lt;/a&gt;&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">325</th>
<td class="status">fail</td>
<td class="description">Redirect to image page<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>#REDIRECT [[File:Wiki.png]]</pre></td>
<td class="expect"><pre>&lt;link rel="mw:PageProp/redirect" href="./File:Wiki.png"&gt;</pre></td>
<td class="output"><pre>&lt;ol&gt;&lt;li&gt;REDIRECT &lt;a href="/wiki/File:Wiki.png" title="File:Wiki.png"&gt;File:Wiki.png&lt;/a&gt;&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">326</th>
<td class="status">fail</td>
<td class="description">Redirect to language<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>#REDIRECT [[en:File:Wiki.png]]</pre></td>
<td class="expect"><pre>&lt;link rel="mw:PageProp/redirect" href="File:Wiki.png"&gt;</pre></td>
<td class="output"><pre>&lt;ol&gt;&lt;li&gt;REDIRECT &lt;a href="/wiki/en:File:Wiki.png" title="en:File:Wiki.png"&gt;en:File:Wiki.png&lt;/a&gt;&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">327</th>
<td class="status">fail</td>
<td class="description">Redirect to interwiki<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>#REDIRECT [[meatball:File:Wiki.png]]</pre></td>
<td class="expect"><pre>&lt;link rel="mw:PageProp/redirect" href="File:Wiki.png"&gt;</pre></td>
<td class="output"><pre>&lt;ol&gt;&lt;li&gt;REDIRECT &lt;a href="/wiki/meatball:File:Wiki.png" title="meatball:File:Wiki.png"&gt;meatball:File:Wiki.png&lt;/a&gt;&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">328</th>
<td class="status">fail</td>
<td class="description">&lt;br&gt; to &lt;br /&gt;</td>
<td class="input"><pre>1&lt;br&gt;2&lt;br /&gt;3</pre></td>
<td class="expect"><pre>&lt;p&gt;1&lt;br /&gt;2&lt;br /&gt;3&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;1&lt;br&gt;2&lt;br/&gt;3&lt;/br&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">329</th>
<td class="status">pass</td>
<td class="description">Broken br tag sanitization<ul><li>php</li></ul>
</td>
<td class="input"><pre>&lt;/br&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&amp;lt;/br&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;/br&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">330</th>
<td class="status">fail</td>
<td class="description">Parsoid: Broken br tag recognition<ul><li>parsoid: wt2html</li></ul>
</td>
<td class="input"><pre>&lt;/br&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;br&gt;&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;/br&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">331</th>
<td class="status">tidy</td>
<td class="description">Incorrecly removing closing slashes from correctly formed XHTML</td>
<td class="input"><pre>&lt;br style="clear:both;" /&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;br style="clear:both;" /&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;br style="clear:both;"/&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">332</th>
<td class="status">fail</td>
<td class="description">Failing to transform badly formed HTML into correct XHTML</td>
<td class="input"><pre>&lt;br style="clear: left;"&gt;&#8990;
&lt;br style="clear: right;"&gt;&#8990;
&lt;br style="clear: both;"&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;br style="clear: left;" /&gt;&#8990;
&lt;br style="clear: right;" /&gt;&#8990;
&lt;br style="clear: both;" /&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;br style="clear: left;"&gt;&#8990;
&lt;br style="clear: right;"&gt;&#8990;
&lt;br style="clear: both;"/&gt;&lt;/br&gt;&lt;/br&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">333</th>
<td class="status">fail</td>
<td class="description">Handling html with a div self-closing tag</td>
<td class="input"><pre>&lt;div title /&gt;&#8990;
&lt;div title/&gt;&#8990;
&lt;div title/ &gt;&#8990;
&lt;div title=bar /&gt;&#8990;
&lt;div title=bar/&gt;&#8990;
&lt;div title=bar/ &gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&amp;lt;div title /&amp;gt;&#8990;
&amp;lt;div title/&amp;gt;&#8990;
&lt;/p&gt;&#8990;
&lt;div&gt;&#8990;
&lt;p&gt;&amp;lt;div title=bar /&amp;gt;&#8990;
&amp;lt;div title=bar/&amp;gt;&#8990;
&lt;/p&gt;&#8990;
&lt;div title="bar/"&gt;&lt;/div&gt;&#8990;
&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div/&gt;&lt;p&gt;&amp;lt;div title/&amp;gt;&#8990;
&lt;/p&gt;&lt;div&gt;&lt;div title="bar"/&gt;&lt;p&gt;&amp;lt;div title=bar/&amp;gt;&#8990;
&lt;/p&gt;&lt;div title="bar/"/&gt;&lt;/div&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">334</th>
<td class="status">fail</td>
<td class="description">Handling html with a br self-closing tag</td>
<td class="input"><pre>&lt;br title /&gt;&#8990;
&lt;br title/&gt;&#8990;
&lt;br title/ &gt;&#8990;
&lt;br title=bar /&gt;&#8990;
&lt;br title=bar/&gt;&#8990;
&lt;br title=bar/ &gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;br title="title" /&gt;&#8990;
&lt;br title="title" /&gt;&#8990;
&lt;br /&gt;&#8990;
&lt;br title="bar" /&gt;&#8990;
&lt;br title="bar" /&gt;&#8990;
&lt;br title="bar/" /&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;br/&gt;&#8990;
&amp;lt;br title/&amp;gt;&#8990;
&lt;br&gt;&#8990;
&lt;br title="bar"/&gt;&#8990;
&amp;lt;br title=bar/&amp;gt;&#8990;
&lt;br title="bar/"/&gt;&lt;/br&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">335</th>
<td class="status">fail</td>
<td class="description">Horizontal ruler (should it add that extra space?)</td>
<td class="input"><pre>&lt;hr&gt;&#8990;
&lt;hr &gt;&#8990;
foo &lt;hr&#8990;
&gt; bar</pre></td>
<td class="expect"><pre>&lt;hr /&gt;&#8990;
&lt;hr /&gt;&#8990;
foo &lt;hr /&gt; bar&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;hr&amp;gt;&#8990;
&amp;lt;hr &amp;gt;&#8990;
foo &amp;lt;hr&#8990;
&amp;gt; bar&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">336</th>
<td class="status">tidy</td>
<td class="description">Horizontal ruler -- 4+ dashes render hr</td>
<td class="input"><pre>----</pre></td>
<td class="expect"><pre>&lt;hr /&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;hr/&gt;&#8990;
</pre></td>
</tr>
<tr class="tidy">
<th class="index">337</th>
<td class="status">tidy</td>
<td class="description">Horizontal ruler -- eats additional dashes on the same line</td>
<td class="input"><pre>---------</pre></td>
<td class="expect"><pre>&lt;hr /&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;hr/&gt;&#8990;
</pre></td>
</tr>
<tr class="tidy">
<th class="index">338</th>
<td class="status">tidy</td>
<td class="description">Horizontal ruler -- does not collapse dashes on consecutive lines</td>
<td class="input"><pre>----&#8990;
----</pre></td>
<td class="expect"><pre>&lt;hr /&gt;&#8990;
&lt;hr /&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;hr/&gt;&#8990;
&lt;hr/&gt;&#8990;
</pre></td>
</tr>
<tr class="pass">
<th class="index">339</th>
<td class="status">pass</td>
<td class="description">Horizontal ruler -- &lt;4 dashes render as plain text</td>
<td class="input"><pre>---</pre></td>
<td class="expect"><pre>&lt;p&gt;---&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;---&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">340</th>
<td class="status">fail</td>
<td class="description">Horizontal ruler -- Supports content following dashes on same line</td>
<td class="input"><pre>---- Foo</pre></td>
<td class="expect"><pre>&lt;hr /&gt; Foo&#8990;
</pre></td>
<td class="output"><pre>&lt;hr/&gt;&#8990;
&lt;p&gt;Foo&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">341</th>
<td class="status">pass</td>
<td class="description">Common list</td>
<td class="input"><pre>*Common list&#8990;
* item 2&#8990;
*item 3</pre></td>
<td class="expect"><pre>&lt;ul&gt;&lt;li&gt;Common list&#8990;
&lt;/li&gt;&lt;li&gt; item 2&#8990;
&lt;/li&gt;&lt;li&gt;item 3&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt;Common list&#8990;
&lt;/li&gt;&lt;li&gt; item 2&#8990;
&lt;/li&gt;&lt;li&gt;item 3&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
</tr>
<tr class="pass">
<th class="index">342</th>
<td class="status">pass</td>
<td class="description">Numbered list</td>
<td class="input"><pre>#Numbered list&#8990;
#item 2&#8990;
# item 3</pre></td>
<td class="expect"><pre>&lt;ol&gt;&lt;li&gt;Numbered list&#8990;
&lt;/li&gt;&lt;li&gt;item 2&#8990;
&lt;/li&gt;&lt;li&gt; item 3&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;ol&gt;&lt;li&gt;Numbered list&#8990;
&lt;/li&gt;&lt;li&gt;item 2&#8990;
&lt;/li&gt;&lt;li&gt; item 3&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
</pre></td>
</tr>
<tr class="pass">
<th class="index">343</th>
<td class="status">pass</td>
<td class="description">Mixed list</td>
<td class="input"><pre>*Mixed list&#8990;
*# with numbers&#8990;
** and bullets&#8990;
*# and numbers&#8990;
*bullets again&#8990;
**bullet level 2&#8990;
***bullet level 3&#8990;
***#Number on level 4&#8990;
**bullet level 2&#8990;
**#Number on level 3&#8990;
**#Number on level 3&#8990;
*#number level 2&#8990;
*Level 1&#8990;
*** Level 3&#8990;
#** Level 3, but ordered</pre></td>
<td class="expect"><pre>&lt;ul&gt;&lt;li&gt;Mixed list&#8990;
&lt;ol&gt;&lt;li&gt; with numbers&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
&lt;ul&gt;&lt;li&gt; and bullets&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;ol&gt;&lt;li&gt; and numbers&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
&lt;/li&gt;&lt;li&gt;bullets again&#8990;
&lt;ul&gt;&lt;li&gt;bullet level 2&#8990;
&lt;ul&gt;&lt;li&gt;bullet level 3&#8990;
&lt;ol&gt;&lt;li&gt;Number on level 4&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;li&gt;bullet level 2&#8990;
&lt;ol&gt;&lt;li&gt;Number on level 3&#8990;
&lt;/li&gt;&lt;li&gt;Number on level 3&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;ol&gt;&lt;li&gt;number level 2&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
&lt;/li&gt;&lt;li&gt;Level 1&#8990;
&lt;ul&gt;&lt;li&gt;&lt;ul&gt;&lt;li&gt; Level 3&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;ol&gt;&lt;li&gt;&lt;ul&gt;&lt;li&gt;&lt;ul&gt;&lt;li&gt; Level 3, but ordered&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt;Mixed list&#8990;
&lt;ol&gt;&lt;li&gt; with numbers&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
&lt;ul&gt;&lt;li&gt; and bullets&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;ol&gt;&lt;li&gt; and numbers&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
&lt;/li&gt;&lt;li&gt;bullets again&#8990;
&lt;ul&gt;&lt;li&gt;bullet level 2&#8990;
&lt;ul&gt;&lt;li&gt;bullet level 3&#8990;
&lt;ol&gt;&lt;li&gt;Number on level 4&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;li&gt;bullet level 2&#8990;
&lt;ol&gt;&lt;li&gt;Number on level 3&#8990;
&lt;/li&gt;&lt;li&gt;Number on level 3&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;ol&gt;&lt;li&gt;number level 2&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
&lt;/li&gt;&lt;li&gt;Level 1&#8990;
&lt;ul&gt;&lt;li&gt;&lt;ul&gt;&lt;li&gt; Level 3&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;ol&gt;&lt;li&gt;&lt;ul&gt;&lt;li&gt;&lt;ul&gt;&lt;li&gt; Level 3, but ordered&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
</pre></td>
</tr>
<tr class="pass">
<th class="index">344</th>
<td class="status">pass</td>
<td class="description">Nested lists 1</td>
<td class="input"><pre>*foo&#8990;
**bar</pre></td>
<td class="expect"><pre>&lt;ul&gt;&lt;li&gt;foo&#8990;
&lt;ul&gt;&lt;li&gt;bar&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt;foo&#8990;
&lt;ul&gt;&lt;li&gt;bar&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
</tr>
<tr class="pass">
<th class="index">345</th>
<td class="status">pass</td>
<td class="description">Nested lists 2</td>
<td class="input"><pre>**foo&#8990;
*bar</pre></td>
<td class="expect"><pre>&lt;ul&gt;&lt;li&gt;&lt;ul&gt;&lt;li&gt;foo&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;li&gt;bar&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt;&lt;ul&gt;&lt;li&gt;foo&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;li&gt;bar&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
</tr>
<tr class="pass">
<th class="index">346</th>
<td class="status">pass</td>
<td class="description">Nested lists 3 (first element empty)</td>
<td class="input"><pre>*&#8990;
**bar</pre></td>
<td class="expect"><pre>&lt;ul&gt;&lt;li&gt;&#8990;
&lt;ul&gt;&lt;li&gt;bar&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt;&#8990;
&lt;ul&gt;&lt;li&gt;bar&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
</tr>
<tr class="pass">
<th class="index">347</th>
<td class="status">pass</td>
<td class="description">Nested lists 4 (first element empty)</td>
<td class="input"><pre>**&#8990;
*bar</pre></td>
<td class="expect"><pre>&lt;ul&gt;&lt;li&gt;&lt;ul&gt;&lt;li&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;li&gt;bar&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt;&lt;ul&gt;&lt;li&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;li&gt;bar&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
</tr>
<tr class="pass">
<th class="index">348</th>
<td class="status">pass</td>
<td class="description">Nested lists 5 (both elements empty)</td>
<td class="input"><pre>**&#8990;
*</pre></td>
<td class="expect"><pre>&lt;ul&gt;&lt;li&gt;&lt;ul&gt;&lt;li&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;li&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt;&lt;ul&gt;&lt;li&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;li&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
</tr>
<tr class="pass">
<th class="index">349</th>
<td class="status">pass</td>
<td class="description">Nested lists 6 (both elements empty)</td>
<td class="input"><pre>*&#8990;
**</pre></td>
<td class="expect"><pre>&lt;ul&gt;&lt;li&gt;&#8990;
&lt;ul&gt;&lt;li&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt;&#8990;
&lt;ul&gt;&lt;li&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
</tr>
<tr class="pass">
<th class="index">350</th>
<td class="status">pass</td>
<td class="description">Nested lists 7 (skip initial nesting levels)</td>
<td class="input"><pre>*** foo</pre></td>
<td class="expect"><pre>&lt;ul&gt;&lt;li&gt;&lt;ul&gt;&lt;li&gt;&lt;ul&gt;&lt;li&gt; foo&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt;&lt;ul&gt;&lt;li&gt;&lt;ul&gt;&lt;li&gt; foo&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
</tr>
<tr class="pass">
<th class="index">351</th>
<td class="status">pass</td>
<td class="description">Nested lists 8 (multiple nesting transitions)</td>
<td class="input"><pre>* foo&#8990;
*** bar&#8990;
** baz&#8990;
* boo</pre></td>
<td class="expect"><pre>&lt;ul&gt;&lt;li&gt; foo&#8990;
&lt;ul&gt;&lt;li&gt;&lt;ul&gt;&lt;li&gt; bar&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;li&gt; baz&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;li&gt; boo&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt; foo&#8990;
&lt;ul&gt;&lt;li&gt;&lt;ul&gt;&lt;li&gt; bar&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;li&gt; baz&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;li&gt; boo&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
</tr>
<tr class="pass">
<th class="index">352</th>
<td class="status">pass</td>
<td class="description">1. Lists with start-of-line-transparent tokens before bullets: Comments</td>
<td class="input"><pre>*foo&#8990;
*&lt;!--cmt--&gt;bar&#8990;
&lt;!--cmt--&gt;*baz</pre></td>
<td class="expect"><pre>&lt;ul&gt;&lt;li&gt;foo&#8990;
&lt;/li&gt;&lt;li&gt;bar&#8990;
&lt;/li&gt;&lt;li&gt;baz&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt;foo&#8990;
&lt;/li&gt;&lt;li&gt;bar&#8990;
&lt;/li&gt;&lt;li&gt;baz&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
</tr>
<tr class="pass">
<th class="index">353</th>
<td class="status">pass</td>
<td class="description">2. Lists with start-of-line-transparent tokens before bullets: Template close</td>
<td class="input"><pre>*foo {{echo|bar&#8990;
}}*baz</pre></td>
<td class="expect"><pre>&lt;ul&gt;&lt;li&gt;foo bar&#8990;
&lt;/li&gt;&lt;li&gt;baz&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt;foo bar&#8990;
&lt;/li&gt;&lt;li&gt;baz&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">354</th>
<td class="status">fail</td>
<td class="description">List items are not parsed correctly following a &lt;pre&gt; block (bug 785)</td>
<td class="input"><pre>* &lt;pre&gt;foo&lt;/pre&gt;&#8990;
* &lt;pre&gt;bar&lt;/pre&gt;&#8990;
* zar</pre></td>
<td class="expect"><pre>&lt;ul&gt;&lt;li&gt; &lt;pre&gt;foo&lt;/pre&gt;&#8990;
&lt;/li&gt;&lt;li&gt; &lt;pre&gt;bar&lt;/pre&gt;&#8990;
&lt;/li&gt;&lt;li&gt; zar&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;* &#8990;
&lt;/p&gt;&lt;pre&gt;foo&lt;/pre&gt;&lt;p&gt;* &#8990;
&lt;/p&gt;&lt;pre&gt;bar&lt;/pre&gt;&lt;ul&gt;&lt;li&gt; zar&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
</tr>
<tr class="pass">
<th class="index">355</th>
<td class="status">pass</td>
<td class="description">List items from template</td>
<td class="input"><pre>&#8990;
{{inner list}}&#8990;
* item 2&#8990;
&#8990;
* item 0&#8990;
{{inner list}}&#8990;
* item 2&#8990;
&#8990;
* item 0&#8990;
* notSOL{{inner list}}&#8990;
* item 2</pre></td>
<td class="expect"><pre>&lt;ul&gt;&lt;li&gt; item 1&#8990;
&lt;/li&gt;&lt;li&gt; item 2&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;ul&gt;&lt;li&gt; item 0&#8990;
&lt;/li&gt;&lt;li&gt; item 1&#8990;
&lt;/li&gt;&lt;li&gt; item 2&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;ul&gt;&lt;li&gt; item 0&#8990;
&lt;/li&gt;&lt;li&gt; notSOL&#8990;
&lt;/li&gt;&lt;li&gt; item 1&#8990;
&lt;/li&gt;&lt;li&gt; item 2&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt; item 1&#8990;
&lt;/li&gt;&lt;li&gt; item 2&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;ul&gt;&lt;li&gt; item 0&#8990;
&lt;/li&gt;&lt;li&gt; item 1&#8990;
&lt;/li&gt;&lt;li&gt; item 2&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;ul&gt;&lt;li&gt; item 0&#8990;
&lt;/li&gt;&lt;li&gt; notSOL&#8990;
&lt;/li&gt;&lt;li&gt; item 1&#8990;
&lt;/li&gt;&lt;li&gt; item 2&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">356</th>
<td class="status">fail</td>
<td class="description">List interrupted by empty line or heading</td>
<td class="input"><pre>* foo&#8990;
&#8990;
** bar&#8990;
== A heading ==&#8990;
* Another list item</pre></td>
<td class="expect"><pre>&lt;ul&gt;&lt;li&gt; foo&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;ul&gt;&lt;li&gt;&lt;ul&gt;&lt;li&gt; bar&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="A_heading"&gt;A heading&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=1" title="Edit section: A heading"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;ul&gt;&lt;li&gt; Another list item&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt; foo&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;ul&gt;&lt;li&gt;&lt;ul&gt;&lt;li&gt; bar&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="A heading"&gt;A heading&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: A heading"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;ul&gt;&lt;li&gt; Another list item&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">357</th>
<td class="status">fail</td>
<td class="description">Multiple list tags generated by templates</td>
<td class="input"><pre>{{echo|&lt;li&gt;}}a&#8990;
{{echo|&lt;li&gt;}}b&#8990;
{{echo|&lt;li&gt;}}c</pre></td>
<td class="expect"><pre>&lt;li&gt;a&#8990;
&lt;li&gt;b&#8990;
&lt;li&gt;c&lt;/li&gt;&#8990;
&lt;/li&gt;&#8990;
&lt;/li&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;li&amp;gt;a&#8990;
&amp;lt;li&amp;gt;b&#8990;
&amp;lt;li&amp;gt;c&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">358</th>
<td class="status">pass</td>
<td class="description">Single-comment whitespace lines dont break lists, but multi-comment whitespace lines do</td>
<td class="input"><pre>*a&#8990;
&lt;!--This line will NOT split the list--&gt;&#8990;
*b&#8990;
 &lt;!--This line will NOT split the list either--&gt;&#8990;
*c&#8990;
 &lt;!--foo--&gt; &lt;!--This line with more than 1 comment will split the list--&gt;&#8990;
*d</pre></td>
<td class="expect"><pre>&lt;ul&gt;&lt;li&gt;a&#8990;
&lt;/li&gt;&lt;li&gt;b&#8990;
&lt;/li&gt;&lt;li&gt;c&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;ul&gt;&lt;li&gt;d&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt;a&#8990;
&lt;/li&gt;&lt;li&gt;b&#8990;
&lt;/li&gt;&lt;li&gt;c&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;ul&gt;&lt;li&gt;d&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">359</th>
<td class="status">fail</td>
<td class="description">Test the li-hack
(Cannot test this with PHP parser since it relies on Tidy for the hack)<ul><li>parsoid: wt2html, wt2wt</li></ul>
</td>
<td class="input"><pre>* foo&#8990;
* &lt;li&gt;li-hack&#8990;
* {{echo|&lt;li&gt;templated li-hack}}&#8990;
* &lt;!--foo--&gt; &lt;li&gt; unsupported li-hack with preceding comments&#8990;
&#8990;
&lt;ul&gt;&#8990;
&lt;li&gt;&lt;li&gt;not a li-hack&#8990;
&lt;/li&gt;&#8990;
&lt;/ul&gt;</pre></td>
<td class="expect"><pre>&lt;ul&gt;&lt;li&gt; foo&lt;/li&gt;&#8990;
&lt;li&gt;li-hack&lt;/li&gt;&#8990;
&lt;li about="#mwt1" typeof="mw:Transclusion" data-mw='{"target":{"wt":"echo","href":"./Template:Echo"},"params":{"1":{"wt":"&lt;li&gt;templated li-hack"}}}'&gt;templated li-hack&lt;/li&gt;&#8990;
&lt;li&gt; &lt;!--foo--&gt; &lt;/li&gt;&lt;li&gt; li-hack with preceding comments&lt;/li&gt;&lt;/ul&gt;&#8990;
&#8990;
&lt;ul&gt;&#8990;
&lt;li&gt;&lt;/li&gt;&lt;li&gt;not a li-hack&#8990;
&lt;/li&gt;&#8990;
&lt;/ul&gt;</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt; foo&#8990;
&lt;/li&gt;&lt;li&gt; &amp;lt;li&amp;gt;li-hack&#8990;
&lt;/li&gt;&lt;li&gt; &amp;lt;li&amp;gt;templated li-hack&#8990;
&lt;/li&gt;&lt;li&gt;  &amp;lt;li&amp;gt; unsupported li-hack with preceding comments&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;ul&gt;&lt;li&gt;&amp;lt;li&amp;gt;not a li-hack&lt;/li&gt;&lt;/ul&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">360</th>
<td class="status">tidy</td>
<td class="description">Parsoid: Make sure nested lists are serialized on their own line even if HTML contains no newlines<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre># foo&#8990;
## bar&#8990;
* foo&#8990;
** bar&#8990;
: foo&#8990;
:: bar</pre></td>
<td class="expect"><pre>&lt;ol&gt;&lt;li&gt; foo&lt;ol&gt;&lt;li&gt; bar&lt;/li&gt;&lt;/ol&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ul&gt;&lt;li&gt; foo&lt;ul&gt;&lt;li&gt; bar&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;dl&gt;&lt;dd&gt; foo&lt;dl&gt;&lt;dd&gt; bar&lt;/dd&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;/dl&gt;</pre></td>
<td class="output"><pre>&lt;ol&gt;&lt;li&gt; foo&#8990;
&lt;ol&gt;&lt;li&gt; bar&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
&lt;ul&gt;&lt;li&gt; foo&#8990;
&lt;ul&gt;&lt;li&gt; bar&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;dl&gt;&lt;dd&gt; foo&#8990;
&lt;dl&gt;&lt;dd&gt; bar&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">361</th>
<td class="status">fail</td>
<td class="description">Unbalanced closing block tags break a list
(Parsoid-only since php parser generates broken html -- relies on Tidy to fix up)<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>&lt;div&gt;&#8990;
*a&lt;/div&gt;&lt;div&gt;&#8990;
*b&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div&gt;&#8990;
&lt;ul&gt;&lt;li&gt;a&#8990;
&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div&gt;&#8990;
&lt;ul&gt;&lt;li&gt;b&#8990;
&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;</pre></td>
<td class="output"><pre>&lt;div&gt;*a&lt;/div&gt;&lt;div&gt;*b&lt;/div&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">362</th>
<td class="status">fail</td>
<td class="description">Unbalanced closing non-block tags don't break a list
(Parsoid-only since php parser generates broken html -- relies on Tidy to fix up)<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>&lt;span&gt;&#8990;
*a&lt;/span&gt;&lt;span&gt;&#8990;
*b&lt;/span&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;span&gt;&lt;/span&gt;&#8990;
&lt;/p&gt;&#8990;
&lt;ul&gt;&lt;li&gt;a&lt;span&gt;&lt;/span&gt;&#8990;
&lt;/li&gt;&lt;li&gt;b&#8990;
&lt;/li&gt;&lt;/ul&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;span&gt;&#8990;
*a&lt;/span&gt;&lt;span&gt;&#8990;
*b&lt;/span&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">363</th>
<td class="status">fail</td>
<td class="description">Unclosed formatting tags that straddle lists are closed and reopened
(Parsoid-only since php parser generates broken html -- relies on Tidy to fix up)<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre># &lt;s&gt; a&#8990;
# b &lt;/s&gt;</pre></td>
<td class="expect"><pre>&lt;ol&gt;&lt;li&gt; &lt;s&gt; a &lt;/s&gt;&#8990;
&lt;/li&gt;&lt;li&gt; &lt;s&gt; b &lt;/s&gt;&#8990;
&lt;/li&gt;&lt;/ol&gt;</pre></td>
<td class="output"><pre>&lt;ol&gt;&lt;li&gt; &lt;s&gt; a&lt;/s&gt;&#8990;
&lt;/li&gt;&lt;li&gt; b &amp;lt;/s&amp;gt;&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">364</th>
<td class="status">fail</td>
<td class="description">List embedded in a non-block tag
(Ugly Parsoid output -- worth fixing; Disabled for PHP parser since it relies on Tidy)<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>&lt;small&gt;&#8990;
* foo&#8990;
&lt;/small&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;small&gt;&lt;/small&gt;&lt;/p&gt;&#8990;
&lt;small&gt;&#8990;
&lt;ul&gt;&#8990;
&lt;li&gt; foo&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
&lt;/small&gt;&#8990;
&lt;p&gt;&lt;small&gt;&lt;/small&gt;&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;small/&gt;&#8990;
&lt;/p&gt;&lt;ul&gt;&lt;li&gt; foo&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;p&gt;&amp;lt;/small&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">365</th>
<td class="status">pass</td>
<td class="description">Magic Word: {{CURRENTDAY}}</td>
<td class="input"><pre>{{CURRENTDAY}}</pre></td>
<td class="expect"><pre>&lt;p&gt;1&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;1&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">366</th>
<td class="status">pass</td>
<td class="description">Magic Word: {{CURRENTDAY2}}</td>
<td class="input"><pre>{{CURRENTDAY2}}</pre></td>
<td class="expect"><pre>&lt;p&gt;01&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;01&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">367</th>
<td class="status">pass</td>
<td class="description">Magic Word: {{CURRENTDAYNAME}}</td>
<td class="input"><pre>{{CURRENTDAYNAME}}</pre></td>
<td class="expect"><pre>&lt;p&gt;Thursday&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Thursday&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">368</th>
<td class="status">pass</td>
<td class="description">Magic Word: {{CURRENTDOW}}</td>
<td class="input"><pre>{{CURRENTDOW}}</pre></td>
<td class="expect"><pre>&lt;p&gt;4&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;4&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">369</th>
<td class="status">pass</td>
<td class="description">Magic Word: {{CURRENTMONTH}}</td>
<td class="input"><pre>{{CURRENTMONTH}}</pre></td>
<td class="expect"><pre>&lt;p&gt;01&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;01&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">370</th>
<td class="status">pass</td>
<td class="description">Magic Word: {{CURRENTMONTHABBREV}}</td>
<td class="input"><pre>{{CURRENTMONTHABBREV}}</pre></td>
<td class="expect"><pre>&lt;p&gt;Jan&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Jan&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">371</th>
<td class="status">pass</td>
<td class="description">Magic Word: {{CURRENTMONTHNAME}}</td>
<td class="input"><pre>{{CURRENTMONTHNAME}}</pre></td>
<td class="expect"><pre>&lt;p&gt;January&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;January&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">372</th>
<td class="status">pass</td>
<td class="description">Magic Word: {{CURRENTMONTHNAMEGEN}}</td>
<td class="input"><pre>{{CURRENTMONTHNAMEGEN}}</pre></td>
<td class="expect"><pre>&lt;p&gt;January&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;January&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">373</th>
<td class="status">pass</td>
<td class="description">Magic Word: {{CURRENTTIME}}</td>
<td class="input"><pre>{{CURRENTTIME}}</pre></td>
<td class="expect"><pre>&lt;p&gt;00:02&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;00:02&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">374</th>
<td class="status">pass</td>
<td class="description">Magic Word: {{CURRENTWEEK}} (@bug 4594)</td>
<td class="input"><pre>{{CURRENTWEEK}}</pre></td>
<td class="expect"><pre>&lt;p&gt;1&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;1&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">375</th>
<td class="status">pass</td>
<td class="description">Magic Word: {{CURRENTYEAR}}</td>
<td class="input"><pre>{{CURRENTYEAR}}</pre></td>
<td class="expect"><pre>&lt;p&gt;1970&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;1970&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">376</th>
<td class="status">fail</td>
<td class="description">Magic Word: {{FULLPAGENAME}}<ul><li>title: User:&#198;var Arnfj&#246;r&#240; Bjarmason</li></ul>
</td>
<td class="input"><pre>{{FULLPAGENAME}}</pre></td>
<td class="expect"><pre>&lt;p&gt;User:&#198;var Arnfj&#246;r&#240; Bjarmason&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:FULLPAGENAME" title="Template:FULLPAGENAME"&gt;Template:FULLPAGENAME&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">377</th>
<td class="status">fail</td>
<td class="description">Magic Word: {{FULLPAGENAMEE}}<ul><li>title: User:&#198;var Arnfj&#246;r&#240; Bjarmason</li></ul>
</td>
<td class="input"><pre>{{FULLPAGENAMEE}}</pre></td>
<td class="expect"><pre>&lt;p&gt;User:%C3%86var_Arnfj%C3%B6r%C3%B0_Bjarmason&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:FULLPAGENAMEE" title="Template:FULLPAGENAMEE"&gt;Template:FULLPAGENAMEE&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">378</th>
<td class="status">fail</td>
<td class="description">Magic Word: {{NAMESPACE}}<ul><li>title: User:&#198;var Arnfj&#246;r&#240; Bjarmason</li></ul>
</td>
<td class="input"><pre>{{NAMESPACE}}</pre></td>
<td class="expect"><pre>&lt;p&gt;User&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:NAMESPACE" title="Template:NAMESPACE"&gt;Template:NAMESPACE&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">379</th>
<td class="status">fail</td>
<td class="description">Magic Word: {{NAMESPACEE}}<ul><li>title: User:&#198;var Arnfj&#246;r&#240; Bjarmason</li></ul>
</td>
<td class="input"><pre>{{NAMESPACEE}}</pre></td>
<td class="expect"><pre>&lt;p&gt;User&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:NAMESPACEE" title="Template:NAMESPACEE"&gt;Template:NAMESPACEE&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">380</th>
<td class="status">fail</td>
<td class="description">Magic Word: {{NAMESPACENUMBER}}<ul><li>title: User:&#198;var Arnfj&#246;r&#240; Bjarmason</li></ul>
</td>
<td class="input"><pre>{{NAMESPACENUMBER}}</pre></td>
<td class="expect"><pre>&lt;p&gt;2&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:NAMESPACENUMBER" title="Template:NAMESPACENUMBER"&gt;Template:NAMESPACENUMBER&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">381</th>
<td class="status">fail</td>
<td class="description">Magic Word: {{NUMBEROFFILES}}</td>
<td class="input"><pre>{{NUMBEROFFILES}}</pre></td>
<td class="expect"><pre>&lt;p&gt;4&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:NUMBEROFFILES" title="Template:NUMBEROFFILES"&gt;Template:NUMBEROFFILES&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">382</th>
<td class="status">fail</td>
<td class="description">Magic Word: {{PAGENAME}}<ul><li>title: User:&#198;var Arnfj&#246;r&#240; Bjarmason</li></ul>
</td>
<td class="input"><pre>{{PAGENAME}}</pre></td>
<td class="expect"><pre>&lt;p&gt;&#198;var Arnfj&#246;r&#240; Bjarmason&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:PAGENAME" title="Template:PAGENAME"&gt;Template:PAGENAME&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">383</th>
<td class="status">fail</td>
<td class="description">Magic Word: {{PAGENAME}} with metacharacters<ul><li>title: 'foo &amp; bar = baz'</li></ul>
</td>
<td class="input"><pre>''{{PAGENAME}}''</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;i&gt;&amp;#39;foo &amp;#38; bar &amp;#61; baz&amp;#39;&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;i&gt;&lt;a href="/wiki/Template:PAGENAME" title="Template:PAGENAME"&gt;Template:PAGENAME&lt;/a&gt;&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">384</th>
<td class="status">fail</td>
<td class="description">Magic Word: {{PAGENAME}} with metacharacters (bug 26781)<ul><li>title: *RFC 1234 http://example.com/</li></ul>
</td>
<td class="input"><pre>{{PAGENAME}}</pre></td>
<td class="expect"><pre>&lt;p&gt;&amp;#42;RFC&amp;#32;1234 http&amp;#58;//example.com/&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:PAGENAME" title="Template:PAGENAME"&gt;Template:PAGENAME&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">385</th>
<td class="status">fail</td>
<td class="description">Magic Word: {{PAGENAMEE}}<ul><li>title: User:&#198;var Arnfj&#246;r&#240; Bjarmason</li></ul>
</td>
<td class="input"><pre>{{PAGENAMEE}}</pre></td>
<td class="expect"><pre>&lt;p&gt;%C3%86var_Arnfj%C3%B6r%C3%B0_Bjarmason&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:PAGENAMEE" title="Template:PAGENAMEE"&gt;Template:PAGENAMEE&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">386</th>
<td class="status">fail</td>
<td class="description">Magic Word: {{PAGENAMEE}} with metacharacters (bug 26781)<ul><li>title: *RFC 1234 http://example.com/</li></ul>
</td>
<td class="input"><pre>{{PAGENAMEE}}</pre></td>
<td class="expect"><pre>&lt;p&gt;&amp;#42;RFC_1234_http&amp;#58;//example.com/&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:PAGENAMEE" title="Template:PAGENAMEE"&gt;Template:PAGENAMEE&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">387</th>
<td class="status">fail</td>
<td class="description">Magic Word: {{REVISIONID}}</td>
<td class="input"><pre>{{REVISIONID}}</pre></td>
<td class="expect"><pre>&lt;p&gt;1337&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:REVISIONID" title="Template:REVISIONID"&gt;Template:REVISIONID&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">388</th>
<td class="status">fail</td>
<td class="description">Magic Word: {{SCRIPTPATH}}</td>
<td class="input"><pre>{{SCRIPTPATH}}</pre></td>
<td class="expect"><pre>&lt;p&gt;/&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:SCRIPTPATH" title="Template:SCRIPTPATH"&gt;Template:SCRIPTPATH&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">389</th>
<td class="status">fail</td>
<td class="description">Magic Word: {{SERVER}}</td>
<td class="input"><pre>{{SERVER}}</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://example.org"&gt;http://example.org&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:SERVER" title="Template:SERVER"&gt;Template:SERVER&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">390</th>
<td class="status">fail</td>
<td class="description">Magic Word: {{SERVERNAME}}</td>
<td class="input"><pre>{{SERVERNAME}}</pre></td>
<td class="expect"><pre>&lt;p&gt;example.org&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:SERVERNAME" title="Template:SERVERNAME"&gt;Template:SERVERNAME&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">391</th>
<td class="status">fail</td>
<td class="description">Magic Word: {{SITENAME}}</td>
<td class="input"><pre>{{SITENAME}}</pre></td>
<td class="expect"><pre>&lt;p&gt;MediaWiki&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:SITENAME" title="Template:SITENAME"&gt;Template:SITENAME&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">392</th>
<td class="status">fail</td>
<td class="description">Case-sensitive magic words, when cased differently, should just be template transclusions</td>
<td class="input"><pre>{{CurrentMonth}}&#8990;
{{currentday}}&#8990;
{{cURreNTweEK}}&#8990;
{{currentHour}}</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/index.php?title=Template:CurrentMonth&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Template:CurrentMonth (page does not exist)"&gt;Template:CurrentMonth&lt;/a&gt;&#8990;
&lt;a href="/index.php?title=Template:Currentday&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Template:Currentday (page does not exist)"&gt;Template:Currentday&lt;/a&gt;&#8990;
&lt;a href="/index.php?title=Template:CURreNTweEK&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Template:CURreNTweEK (page does not exist)"&gt;Template:CURreNTweEK&lt;/a&gt;&#8990;
&lt;a href="/index.php?title=Template:CurrentHour&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Template:CurrentHour (page does not exist)"&gt;Template:CurrentHour&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:CurrentMonth" title="Template:CurrentMonth"&gt;Template:CurrentMonth&lt;/a&gt;&#8990;
&lt;a href="/wiki/Template:Currentday" title="Template:Currentday"&gt;Template:Currentday&lt;/a&gt;&#8990;
&lt;a href="/wiki/Template:CURreNTweEK" title="Template:CURreNTweEK"&gt;Template:CURreNTweEK&lt;/a&gt;&#8990;
&lt;a href="/wiki/Template:CurrentHour" title="Template:CurrentHour"&gt;Template:CurrentHour&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">393</th>
<td class="status">fail</td>
<td class="description">Case-insensitive magic words should still work with weird casing.</td>
<td class="input"><pre>{{sErVeRNaMe}}&#8990;
{{LCFirst:AOEU}}&#8990;
{{ucFIRST:aoeu}}&#8990;
{{SERver}}</pre></td>
<td class="expect"><pre>&lt;p&gt;example.org&#8990;
aOEU&#8990;
Aoeu&#8990;
&lt;a rel="nofollow" class="external free" href="http://example.org"&gt;http://example.org&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:SErVeRNaMe" title="Template:SErVeRNaMe"&gt;Template:SErVeRNaMe&lt;/a&gt;&#8990;
&lt;a href="/wiki/Template:LCFirst:AOEU" title="Template:LCFirst:AOEU"&gt;Template:LCFirst:AOEU&lt;/a&gt;&#8990;
&lt;a href="/wiki/Template:UcFIRST:aoeu" title="Template:UcFIRST:aoeu"&gt;Template:UcFIRST:aoeu&lt;/a&gt;&#8990;
&lt;a href="/wiki/Template:SERver" title="Template:SERver"&gt;Template:SERver&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">394</th>
<td class="status">fail</td>
<td class="description">Namespace 1 {{ns:1}}</td>
<td class="input"><pre>{{ns:1}}</pre></td>
<td class="expect"><pre>&lt;p&gt;Talk&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:Ns:1" title="Template:Ns:1"&gt;Template:Ns:1&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">395</th>
<td class="status">fail</td>
<td class="description">Namespace 1 {{ns:01}}</td>
<td class="input"><pre>{{ns:01}}</pre></td>
<td class="expect"><pre>&lt;p&gt;Talk&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:Ns:01" title="Template:Ns:01"&gt;Template:Ns:01&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">396</th>
<td class="status">fail</td>
<td class="description">Namespace 0 {{ns:0}} (bug 4783)</td>
<td class="input"><pre>{{ns:0}}</pre></td>
<td class="expect"><pre></pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:Ns:0" title="Template:Ns:0"&gt;Template:Ns:0&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">397</th>
<td class="status">fail</td>
<td class="description">Namespace 0 {{ns:00}} (bug 4783)</td>
<td class="input"><pre>{{ns:00}}</pre></td>
<td class="expect"><pre></pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:Ns:00" title="Template:Ns:00"&gt;Template:Ns:00&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">398</th>
<td class="status">fail</td>
<td class="description">Namespace -1 {{ns:-1}}</td>
<td class="input"><pre>{{ns:-1}}</pre></td>
<td class="expect"><pre>&lt;p&gt;Special&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:Ns:-1" title="Template:Ns:-1"&gt;Template:Ns:-1&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">399</th>
<td class="status">fail</td>
<td class="description">Namespace User {{ns:User}}</td>
<td class="input"><pre>{{ns:User}}</pre></td>
<td class="expect"><pre>&lt;p&gt;User&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:Ns:User" title="Template:Ns:User"&gt;Template:Ns:User&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">400</th>
<td class="status">fail</td>
<td class="description">Namespace User talk {{ns:User_talk}}</td>
<td class="input"><pre>{{ns:User_talk}}</pre></td>
<td class="expect"><pre>&lt;p&gt;User talk&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:Ns:User_talk" title="Template:Ns:User talk"&gt;Template:Ns:User talk&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">401</th>
<td class="status">fail</td>
<td class="description">Namespace User talk {{ns:uSeR tAlK}}</td>
<td class="input"><pre>{{ns:uSeR tAlK}}</pre></td>
<td class="expect"><pre>&lt;p&gt;User talk&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:Ns:uSeR_tAlK" title="Template:Ns:uSeR tAlK"&gt;Template:Ns:uSeR tAlK&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">402</th>
<td class="status">fail</td>
<td class="description">Namespace File {{ns:File}}</td>
<td class="input"><pre>{{ns:File}}</pre></td>
<td class="expect"><pre>&lt;p&gt;File&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:Ns:File" title="Template:Ns:File"&gt;Template:Ns:File&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">403</th>
<td class="status">fail</td>
<td class="description">Namespace File {{ns:Image}}</td>
<td class="input"><pre>{{ns:Image}}</pre></td>
<td class="expect"><pre>&lt;p&gt;File&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:Ns:Image" title="Template:Ns:Image"&gt;Template:Ns:Image&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">404</th>
<td class="status">fail</td>
<td class="description">Namespace (lang=de) Benutzer {{ns:User}}<ul><li>language: de</li></ul>
</td>
<td class="input"><pre>{{ns:User}}</pre></td>
<td class="expect"><pre>&lt;p&gt;Benutzer&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:Ns:User" title="Template:Ns:User"&gt;Template:Ns:User&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">405</th>
<td class="status">fail</td>
<td class="description">Namespace (lang=de) Benutzer Diskussion {{ns:3}}<ul><li>language: de</li></ul>
</td>
<td class="input"><pre>{{ns:3}}</pre></td>
<td class="expect"><pre>&lt;p&gt;Benutzer Diskussion&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:Ns:3" title="Template:Ns:3"&gt;Template:Ns:3&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">406</th>
<td class="status">fail</td>
<td class="description">Urlencode</td>
<td class="input"><pre>{{urlencode:hi world?!}}&#8990;
{{urlencode:hi world?!|WIKI}}&#8990;
{{urlencode:hi world?!|PATH}}&#8990;
{{urlencode:hi world?!|QUERY}}</pre></td>
<td class="expect"><pre>&lt;p&gt;hi+world%3F%21&#8990;
hi_world%3F!&#8990;
hi%20world%3F%21&#8990;
hi+world%3F%21&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:Urlencode:hi_world?!" title="Template:Urlencode:hi world?!"&gt;Template:Urlencode:hi world?!&lt;/a&gt;&#8990;
&lt;a href="/wiki/Template:Urlencode:hi_world?!" title="Template:Urlencode:hi world?!"&gt;Template:Urlencode:hi world?!&lt;/a&gt;&#8990;
&lt;a href="/wiki/Template:Urlencode:hi_world?!" title="Template:Urlencode:hi world?!"&gt;Template:Urlencode:hi world?!&lt;/a&gt;&#8990;
&lt;a href="/wiki/Template:Urlencode:hi_world?!" title="Template:Urlencode:hi world?!"&gt;Template:Urlencode:hi world?!&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">407</th>
<td class="status">fail</td>
<td class="description">Magic links: internal link to RFC (bug 479)</td>
<td class="input"><pre>[[RFC 123]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/index.php?title=RFC_123&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="RFC 123 (page does not exist)"&gt;RFC 123&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/RFC_123" title="RFC 123"&gt;RFC 123&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">408</th>
<td class="status">fail</td>
<td class="description">Magic links: RFC (bug 479)</td>
<td class="input"><pre>RFC 822</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a class="external mw-magiclink-rfc" rel="nofollow" href="//tools.ietf.org/html/rfc822"&gt;RFC 822&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;RFC 822&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">409</th>
<td class="status">fail</td>
<td class="description">Magic links: ISBN (bug 1937)</td>
<td class="input"><pre>ISBN 0-306-40615-2</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/Special:BookSources/0306406152" class="internal mw-magiclink-isbn"&gt;ISBN 0-306-40615-2&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;ISBN 0-306-40615-2&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">410</th>
<td class="status">fail</td>
<td class="description">Magic links: PMID incorrectly converts space to underscore</td>
<td class="input"><pre>PMID 1234</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a class="external mw-magiclink-pmid" rel="nofollow" href="//www.ncbi.nlm.nih.gov/pubmed/1234?dopt=Abstract"&gt;PMID 1234&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;PMID 1234&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">411</th>
<td class="status">fail</td>
<td class="description">Nonexistent template</td>
<td class="input"><pre>{{thistemplatedoesnotexist}}</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/index.php?title=Template:Thistemplatedoesnotexist&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Template:Thistemplatedoesnotexist (page does not exist)"&gt;Template:Thistemplatedoesnotexist&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:Thistemplatedoesnotexist" title="Template:Thistemplatedoesnotexist"&gt;Template:Thistemplatedoesnotexist&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">412</th>
<td class="status">fail</td>
<td class="description">Template with invalid target containing tags</td>
<td class="input"><pre>{{a&lt;b&gt;b&lt;/b&gt;|{{echo|foo}}|{{echo|a}}={{echo|b}}|a = b}}</pre></td>
<td class="expect"><pre>&lt;p&gt;{{a&lt;b&gt;b&lt;/b&gt;|foo|a=b|a = b}}&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/BROKEN" title="BROKEN"&gt;BROKEN&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">413</th>
<td class="status">fail</td>
<td class="description">Template with invalid target containing unclosed tag</td>
<td class="input"><pre>{{a&lt;b&gt;|{{echo|foo}}|{{echo|a}}={{echo|b}}|a = b}}</pre></td>
<td class="expect"><pre>&lt;p&gt;{{a&lt;b&gt;|foo|a=b|a = b}}&lt;/b&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;[[Template:A&lt;b&gt;]]&lt;/b&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">414</th>
<td class="status">pass</td>
<td class="description">Simple template</td>
<td class="input"><pre>{{test}}</pre></td>
<td class="expect"><pre>&lt;p&gt;This is a test template&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;This is a test template&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">415</th>
<td class="status">pass</td>
<td class="description">Template with explicit namespace</td>
<td class="input"><pre>{{Template:test}}</pre></td>
<td class="expect"><pre>&lt;p&gt;This is a test template&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;This is a test template&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">416</th>
<td class="status">pass</td>
<td class="description">Template parameter</td>
<td class="input"><pre>{{paramtest|param=foo}}</pre></td>
<td class="expect"><pre>&lt;p&gt;This is a test template with parameter foo&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;This is a test template with parameter foo&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">417</th>
<td class="status">pass</td>
<td class="description">Template unnamed parameter</td>
<td class="input"><pre>{{paramtestnum|Main Page|the main page}}</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;the main page&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;the main page&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">418</th>
<td class="status">fail</td>
<td class="description">Template with template name as unnamed argument</td>
<td class="input"><pre>{{templateasargtestnum|templatesimple}}</pre></td>
<td class="expect"><pre>&lt;p&gt;(test)&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;{{{&lt;a href="/wiki/Template:1" title="Template:1"&gt;Template:1&lt;/a&gt;}}}&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">419</th>
<td class="status">pass</td>
<td class="description">Template with template name as argument</td>
<td class="input"><pre>{{templateasargtest|templ=simple}}</pre></td>
<td class="expect"><pre>&lt;p&gt;(test)&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;(test)&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">420</th>
<td class="status">fail</td>
<td class="description">Template with template name as argument (2)</td>
<td class="input"><pre>{{templateasargtest2|templ=templatesimple}}</pre></td>
<td class="expect"><pre>&lt;p&gt;(test)&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;{{{&lt;a href="/wiki/Template:Templ" title="Template:Templ"&gt;Template:Templ&lt;/a&gt;}}}&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">421</th>
<td class="status">fail</td>
<td class="description">Template with default value</td>
<td class="input"><pre>{{templateasargtestdefault}}</pre></td>
<td class="expect"><pre>&lt;p&gt;(test)&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;{{{&lt;a href="/wiki/Template:Templ" title="Template:Templ"&gt;Template:Templ&lt;/a&gt;}}}&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">422</th>
<td class="status">fail</td>
<td class="description">Template with default value (value set)</td>
<td class="input"><pre>{{templateasargtestdefault|templ=templa}}</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;b&gt;templ&lt;/b&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;{{{&lt;a href="/wiki/Template:Templ" title="Template:Templ"&gt;Template:Templ&lt;/a&gt;}}}&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">423</th>
<td class="status">fail</td>
<td class="description">Template redirect</td>
<td class="input"><pre>{{templateredirect}}</pre></td>
<td class="expect"><pre>&lt;p&gt;(test)&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;ol&gt;&lt;li&gt;redirect &lt;a href="/wiki/Template:templatesimple" title="Template:templatesimple"&gt;Template:templatesimple&lt;/a&gt;&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
</pre></td>
</tr>
<tr class="pass">
<th class="index">424</th>
<td class="status">pass</td>
<td class="description">Template with argument in separate line</td>
<td class="input"><pre>{{ templateasargtest  |&#8990;
 templ = simple }}</pre></td>
<td class="expect"><pre>&lt;p&gt;(test)&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;(test)&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">425</th>
<td class="status">pass</td>
<td class="description">Template with complex template as argument</td>
<td class="input"><pre>{{paramtest|&#8990;
  param ={{ templateasargtest  |&#8990;
 templ = simple }}}}</pre></td>
<td class="expect"><pre>&lt;p&gt;This is a test template with parameter (test)&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;This is a test template with parameter (test)&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">426</th>
<td class="status">fail</td>
<td class="description">Template with thumb image (with link in description)</td>
<td class="input"><pre>{{paramtest|&#8990;
  param =[[Image:noimage.png|thumb|[[no link|link]] [[no link|caption]]]]}}</pre></td>
<td class="expect"><pre>This is a test template with parameter &lt;div class="thumb tright"&gt;&lt;div class="thumbinner" style="width:182px;"&gt;&lt;a href="/index.php?title=Special:Upload&amp;amp;wpDestFile=Noimage.png" class="new" title="File:Noimage.png"&gt;File:Noimage.png&lt;/a&gt;  &lt;div class="thumbcaption"&gt;&lt;a href="/index.php?title=No_link&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="No link (page does not exist)"&gt;link&lt;/a&gt; &lt;a href="/index.php?title=No_link&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="No link (page does not exist)"&gt;caption&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;This is a test template with parameter &lt;a href="/wiki/Image:noimage.png" title="Image:noimage.png"&gt;thumb|&lt;a href="/wiki/no_link" title="no link"&gt;link&lt;/a&gt; &lt;a href="/wiki/no_link" title="no link"&gt;caption&lt;/a&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">427</th>
<td class="status">fail</td>
<td class="description">Template with complex arguments</td>
<td class="input"><pre>{{complextemplate|&#8990;
  param ={{ templateasargtest  |&#8990;
 templ = simple }}|[[Template:complextemplate|link]]}}</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/Template:Complextemplate" title="Template:Complextemplate"&gt;link&lt;/a&gt; This is a test template with parameter (test)&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:complextemplate" title="Template:complextemplate"&gt;link&lt;/a&gt; This is a test template with parameter (test)&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">428</th>
<td class="status">fail</td>
<td class="description">BUG 553: link with two variables in a piped link</td>
<td class="input"><pre>{|&#8990;
|[[{{{1}}}|{{{2}}}]]&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt;[[{{{1}}}|{{{2}}}]]&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;a href="/wiki/{{{1}}}" title="{{{1}}}"&gt;{{{2}}}&lt;/a&gt;&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">429</th>
<td class="status">fail</td>
<td class="description">Magic variable as template parameter</td>
<td class="input"><pre>{{paramtest|param={{SITENAME}}}}</pre></td>
<td class="expect"><pre>&lt;p&gt;This is a test template with parameter MediaWiki&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;This is a test template with parameter &lt;a href="/wiki/Template:SITENAME" title="Template:SITENAME"&gt;Template:SITENAME&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">430</th>
<td class="status">pass</td>
<td class="description">Template parameter as link source</td>
<td class="input"><pre>{{linktest|param=Main Page}}</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;link&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;link&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">431</th>
<td class="status">pass</td>
<td class="description">Template-generated attribute string (k='v')</td>
<td class="input"><pre>&lt;span {{attr_str|id|v1}}&gt;bar&lt;/span&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;span id="v1"&gt;bar&lt;/span&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;span id="v1"&gt;bar&lt;/span&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">432</th>
<td class="status">pass</td>
<td class="description">Template passing argument to another template</td>
<td class="input"><pre>{{paramtest2|arg='hmm'}}</pre></td>
<td class="expect"><pre>&lt;p&gt;including another template, This is a test template with parameter 'hmm'&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;including another template, This is a test template with parameter 'hmm'&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">433</th>
<td class="status">fail</td>
<td class="description">Template as link source</td>
<td class="input"><pre>[[{{linktest2}}]]&#8990;
&#8990;
[[{{linktest2}}|Main Page]]&#8990;
&#8990;
[[{{linktest2}}]]Page</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt;Page&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main PagePage&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">434</th>
<td class="status">fail</td>
<td class="description">Template infinite loop</td>
<td class="input"><pre>{{loop1}}</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;span class="error"&gt;Template loop detected: &lt;a href="/wiki/Template:Loop1" title="Template:Loop1"&gt;Template:Loop1&lt;/a&gt;&lt;/span&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;span class="error"&gt;Template loop detected: &lt;a href="/wiki/Template:loop1" title="Template:loop1"&gt;Template:loop1&lt;/a&gt;&lt;/span&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">435</th>
<td class="status">fail</td>
<td class="description">Template from main namespace</td>
<td class="input"><pre>{{:Main Page}}</pre></td>
<td class="expect"><pre>&lt;p&gt;blah blah&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">436</th>
<td class="status">tidy</td>
<td class="description">BUG 529: Template with table, not included at beginning of line</td>
<td class="input"><pre>foo {{table}}</pre></td>
<td class="expect"><pre>&lt;p&gt;foo &#8990;
&lt;/p&gt;&#8990;
&lt;table&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt; 1 &lt;/td&gt;&#8990;
&lt;td&gt; 2&#8990;
&lt;/td&gt;&lt;/tr&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt; 3 &lt;/td&gt;&#8990;
&lt;td&gt; 4&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;foo &#8990;
&lt;/p&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;2&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;3&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">437</th>
<td class="status">tidy</td>
<td class="description">BUG 523: Template shouldn't eat newline (or add an extra one before table)</td>
<td class="input"><pre>foo&#8990;
{{table}}</pre></td>
<td class="expect"><pre>&lt;p&gt;foo&#8990;
&lt;/p&gt;&#8990;
&lt;table&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt; 1 &lt;/td&gt;&#8990;
&lt;td&gt; 2&#8990;
&lt;/td&gt;&lt;/tr&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt; 3 &lt;/td&gt;&#8990;
&lt;td&gt; 4&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;foo&#8990;
&lt;/p&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;2&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;3&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">438</th>
<td class="status">pass</td>
<td class="description">BUG 41: Template parameters shown as broken links</td>
<td class="input"><pre>{{{parameter}}}</pre></td>
<td class="expect"><pre>&lt;p&gt;{{{parameter}}}&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;{{{parameter}}}&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">439</th>
<td class="status">fail</td>
<td class="description">Template with targets containing wikilinks</td>
<td class="input"><pre>{{[[foo]]}}&#8990;
&#8990;
{{[[{{echo|foo}}]]}}&#8990;
&#8990;
{{{{echo|[[foo}}]]}}</pre></td>
<td class="expect"><pre>&lt;p&gt;{{&lt;a href="/index.php?title=Foo&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Foo (page does not exist)"&gt;foo&lt;/a&gt;}}&#8990;
&lt;/p&gt;&lt;p&gt;{{&lt;a href="/index.php?title=Foo&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Foo (page does not exist)"&gt;foo&lt;/a&gt;}}&#8990;
&lt;/p&gt;&lt;p&gt;{{[[foo}}]]&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/BROKEN" title="BROKEN"&gt;BROKEN&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a href="/wiki/BROKEN" title="BROKEN"&gt;BROKEN&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;{&lt;a href="/wiki/Template:{echo" title="Template:{echo"&gt;Template:{echo&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="skip">
<th class="index">440</th>
<td class="status">skip</td>
<td class="description">msgnw keyword<ul><li>disabled</li></ul>
</td>
<td class="input"><pre>{{msgnw:MSGNW test}}</pre></td>
<td class="expect"><pre>&lt;p&gt;''None'' of '''this''' should be &#8990;
* interpreted&#8990;
 but rather passed unmodified&#8990;
{{test}}&#8990;
&lt;/p&gt;</pre></td>
<td class="output"> </td>
</tr>
<tr class="fail">
<th class="index">441</th>
<td class="status">fail</td>
<td class="description">int keyword</td>
<td class="input"><pre>{{int:youhavenewmessages|lots of money|not!}}</pre></td>
<td class="expect"><pre>&lt;p&gt;You have lots of money (not!).&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:Int:youhavenewmessages" title="Template:Int:youhavenewmessages"&gt;Template:Int:youhavenewmessages&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">442</th>
<td class="status">pass</td>
<td class="description">&lt;includeonly&gt; and &lt;noinclude&gt; being included</td>
<td class="input"><pre>{{Includes}}</pre></td>
<td class="expect"><pre>&lt;p&gt;Foobar&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Foobar&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">443</th>
<td class="status">pass</td>
<td class="description">&lt;onlyinclude&gt; being included</td>
<td class="input"><pre>{{Includes2}}</pre></td>
<td class="expect"><pre>&lt;p&gt;Foo&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Foo&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">444</th>
<td class="status">pass</td>
<td class="description">&lt;onlyinclude&gt; and &lt;includeonly&gt; being included</td>
<td class="input"><pre>{{Includes3}}</pre></td>
<td class="expect"><pre>&lt;p&gt;Foo&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Foo&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">445</th>
<td class="status">pass</td>
<td class="description">&lt;includeonly&gt; and &lt;noinclude&gt; on a page</td>
<td class="input"><pre>Foo&lt;noinclude&gt;zar&lt;/noinclude&gt;&lt;includeonly&gt;bar&lt;/includeonly&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;Foozar&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Foozar&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">446</th>
<td class="status">pass</td>
<td class="description">Un-closed &lt;noinclude&gt;</td>
<td class="input"><pre>&lt;noinclude&gt;</pre></td>
<td class="expect"><pre></pre></td>
<td class="output"><pre></pre></td>
</tr>
<tr class="pass">
<th class="index">447</th>
<td class="status">pass</td>
<td class="description">&lt;onlyinclude&gt; on a page</td>
<td class="input"><pre>&lt;onlyinclude&gt;Foo&lt;/onlyinclude&gt;bar</pre></td>
<td class="expect"><pre>&lt;p&gt;Foobar&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Foobar&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">448</th>
<td class="status">pass</td>
<td class="description">Un-closed &lt;onlyinclude&gt;</td>
<td class="input"><pre>&lt;onlyinclude&gt;</pre></td>
<td class="expect"><pre></pre></td>
<td class="output"><pre></pre></td>
</tr>
<tr class="fail">
<th class="index">449</th>
<td class="status">fail</td>
<td class="description">Self-closed noinclude, includeonly, onlyinclude tags</td>
<td class="input"><pre>&lt;noinclude /&gt;&#8990;
&lt;includeonly /&gt;&#8990;
&lt;onlyinclude /&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;br /&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre></pre></td>
</tr>
<tr class="fail">
<th class="index">450</th>
<td class="status">fail</td>
<td class="description">Unbalanced includeonly and noinclude tags</td>
<td class="input"><pre>{|&#8990;
|a&lt;/noinclude&gt;&#8990;
|b&lt;/noinclude&gt;&lt;/noinclude&gt;&#8990;
|c&lt;/noinclude&gt;&lt;/includeonly&gt;&#8990;
|d&lt;/includeonly&gt;&lt;/includeonly&gt;&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt;a&#8990;
&lt;/td&gt;&#8990;
&lt;td&gt;b&#8990;
&lt;/td&gt;&#8990;
&lt;td&gt;c&amp;lt;/includeonly&amp;gt;&#8990;
&lt;/td&gt;&#8990;
&lt;td&gt;d&amp;lt;/includeonly&amp;gt;&amp;lt;/includeonly&amp;gt;&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;a&lt;/td&gt;&lt;td&gt;b&lt;/td&gt;&lt;td&gt;c&lt;/td&gt;&lt;td&gt;d&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">451</th>
<td class="status">fail</td>
<td class="description">Bug 6563: Edit link generation for section shown by &lt;includeonly&gt;</td>
<td class="input"><pre>{{includeonly section}}</pre></td>
<td class="expect"><pre>&lt;h2&gt;&lt;span class="mw-headline" id="Includeonly_section"&gt;Includeonly section&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Template:Includeonly_section&amp;amp;action=edit&amp;amp;section=T-1" title="Template:Includeonly section"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="Section_T-1"&gt;Section T-1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Template:Includeonly_section&amp;amp;action=edit&amp;amp;section=T-2" title="Template:Includeonly section"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;h2&gt;&lt;span class="mw-headline" id="Includeonly section"&gt;Includeonly section&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: Includeonly section"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="Section T-1"&gt;Section T-1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: Section T-1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
</tr>
<tr class="skip">
<th class="index">452</th>
<td class="status">skip</td>
<td class="description">Bug 6563: Section extraction for section shown by &lt;includeonly&gt;<ul><li>section: T-2</li></ul>
</td>
<td class="input"><pre>&lt;includeonly&gt;&#8990;
==Includeonly section==&#8990;
&lt;/includeonly&gt;&#8990;
==Section T-2==</pre></td>
<td class="expect"><pre>==Section T-2==</pre></td>
<td class="output"> </td>
</tr>
<tr class="fail">
<th class="index">453</th>
<td class="status">fail</td>
<td class="description">Bug 6563: Edit link generation for section suppressed by &lt;includeonly&gt;</td>
<td class="input"><pre>&lt;includeonly&gt;&#8990;
==Includeonly section==&#8990;
&lt;/includeonly&gt;&#8990;
==Section 1==</pre></td>
<td class="expect"><pre>&lt;h2&gt;&lt;span class="mw-headline" id="Section_1"&gt;Section 1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=1" title="Edit section: Section 1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;h2&gt;&lt;span class="mw-headline" id="Section 1"&gt;Section 1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: Section 1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
</tr>
<tr class="skip">
<th class="index">454</th>
<td class="status">skip</td>
<td class="description">Bug 6563: Section extraction for section suppressed by &lt;includeonly&gt;<ul><li>section: 1</li></ul>
</td>
<td class="input"><pre>&lt;includeonly&gt;&#8990;
==Includeonly section==&#8990;
&lt;/includeonly&gt;&#8990;
==Section 1==</pre></td>
<td class="expect"><pre>==Section 1==</pre></td>
<td class="output"> </td>
</tr>
<tr class="pass">
<th class="index">455</th>
<td class="status">pass</td>
<td class="description">Un-closed &lt;includeonly&gt;</td>
<td class="input"><pre>&lt;includeonly&gt;</pre></td>
<td class="expect"><pre></pre></td>
<td class="output"><pre></pre></td>
</tr>
<tr class="pass">
<th class="index">456</th>
<td class="status">pass</td>
<td class="description">0. includeonly around the entire attribute</td>
<td class="input"><pre>&lt;span &lt;includeonly&gt;id="v1"&lt;/includeonly&gt;&lt;noinclude&gt;id="v2"&lt;/noinclude&gt;&gt;bar&lt;/span&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;span id="v2"&gt;bar&lt;/span&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;span id="v2"&gt;bar&lt;/span&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">457</th>
<td class="status">pass</td>
<td class="description">1. includeonly in html attr key</td>
<td class="input"><pre>&lt;span &lt;noinclude&gt;id&lt;/noinclude&gt;&lt;includeonly&gt;about&lt;/includeonly&gt;="foo"&gt;bar&lt;/span&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;span id="foo"&gt;bar&lt;/span&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;span id="foo"&gt;bar&lt;/span&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">458</th>
<td class="status">pass</td>
<td class="description">2. includeonly in html attr value</td>
<td class="input"><pre>&lt;span id="&lt;noinclude&gt;v1&lt;/noinclude&gt;&lt;includeonly&gt;v2&lt;/includeonly&gt;"&gt;bar&lt;/span&gt;&#8990;
&lt;span id=&lt;noinclude&gt;"v1"&lt;/noinclude&gt;&lt;includeonly&gt;"v2"&lt;/includeonly&gt;&gt;bar&lt;/span&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;span id="v1"&gt;bar&lt;/span&gt;&#8990;
&lt;span id="v1"&gt;bar&lt;/span&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;span id="v1"&gt;bar&lt;/span&gt;&#8990;
&lt;span id="v1"&gt;bar&lt;/span&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">459</th>
<td class="status">pass</td>
<td class="description">3. includeonly in part of an attr value</td>
<td class="input"><pre>&lt;span style="color:&lt;noinclude&gt;red&lt;/noinclude&gt;&lt;includeonly&gt;blue&lt;/includeonly&gt;;"&gt;bar&lt;/span&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;span style="color:red;"&gt;bar&lt;/span&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;span style="color:red;"&gt;bar&lt;/span&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">460</th>
<td class="status">pass</td>
<td class="description">Templates: Template Name/Arg clash: 1. Use of positional param</td>
<td class="input"><pre>{{quote|foo}}</pre></td>
<td class="expect"><pre>&lt;p&gt;foo&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;foo&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">461</th>
<td class="status">pass</td>
<td class="description">Templates: Template Name/Arg clash: 2. Use of named param</td>
<td class="input"><pre>{{quote|quote=foo}}</pre></td>
<td class="expect"><pre>&lt;p&gt;foo&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;foo&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">462</th>
<td class="status">pass</td>
<td class="description">Templates: Template Name/Arg clash: 3. Use of named param with empty input</td>
<td class="input"><pre>{{quote|quote}}</pre></td>
<td class="expect"><pre>&lt;p&gt;quote&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;quote&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">463</th>
<td class="status">pass</td>
<td class="description">Templates: 1. Simple use</td>
<td class="input"><pre>{{echo|Foo}}</pre></td>
<td class="expect"><pre>&lt;p&gt;Foo&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Foo&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">464</th>
<td class="status">tidy</td>
<td class="description">Templates: 2. Inside a block tag</td>
<td class="input"><pre>&lt;div&gt;{{echo|Foo}}&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div&gt;Foo&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div&gt;Foo&lt;/div&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">465</th>
<td class="status">pass</td>
<td class="description">Templates: P-wrapping: 1a. Templates on consecutive lines</td>
<td class="input"><pre>{{echo|Foo}}&#8990;
{{echo|bar}}</pre></td>
<td class="expect"><pre>&lt;p&gt;Foo&#8990;
bar&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Foo&#8990;
bar&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">466</th>
<td class="status">pass</td>
<td class="description">Templates: P-wrapping: 1b. Templates on consecutive lines</td>
<td class="input"><pre>Foo&#8990;
&#8990;
{{echo|bar}}&#8990;
{{echo|baz}}</pre></td>
<td class="expect"><pre>&lt;p&gt;Foo&#8990;
&lt;/p&gt;&lt;p&gt;bar&#8990;
baz&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Foo&#8990;
&lt;/p&gt;&lt;p&gt;bar&#8990;
baz&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">467</th>
<td class="status">fail</td>
<td class="description">Templates: P-wrapping: 1c. Templates on consecutive lines</td>
<td class="input"><pre>{{echo|Foo}}&#8990;
{{echo|bar}} &lt;div&gt;baz&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;Foo&#8990;
&lt;/p&gt;&#8990;
bar &lt;div&gt;baz&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;Foo&#8990;
bar &#8990;
&lt;/p&gt;&lt;div&gt;baz&lt;/div&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">468</th>
<td class="status">fail</td>
<td class="description">Templates: P-wrapping: 1d. Template preceded by comment-only line<ul><li>parsoid: wt2html, wt2wt</li></ul>
</td>
<td class="input"><pre>&lt;!-- foo --&gt;&#8990;
{{echo|Bar}}</pre></td>
<td class="expect"><pre>&lt;!-- foo --&gt;&#8990;
&lt;p typeof="mw:Transclusion"&gt;Bar&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Bar&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">469</th>
<td class="status">pass</td>
<td class="description">Templates: Inline Text: 1. Multiple tmeplate uses</td>
<td class="input"><pre>{{echo|Foo}}bar{{echo|baz}}</pre></td>
<td class="expect"><pre>&lt;p&gt;Foobarbaz&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Foobarbaz&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">470</th>
<td class="status">pass</td>
<td class="description">Templates: Inline Text: 2. Back-to-back template uses</td>
<td class="input"><pre>{{echo|Foo}}{{echo|bar}}</pre></td>
<td class="expect"><pre>&lt;p&gt;Foobar&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Foobar&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">471</th>
<td class="status">tidy</td>
<td class="description">Templates: Block Tags: 1. Multiple template uses</td>
<td class="input"><pre>{{echo|&lt;div&gt;Foo&lt;/div&gt;}}&lt;div&gt;bar&lt;/div&gt;{{echo|&lt;div&gt;baz&lt;/div&gt;}}</pre></td>
<td class="expect"><pre>&lt;div&gt;Foo&lt;/div&gt;&lt;div&gt;bar&lt;/div&gt;&lt;div&gt;baz&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div&gt;Foo&lt;/div&gt;&lt;div&gt;bar&lt;/div&gt;&lt;div&gt;baz&lt;/div&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">472</th>
<td class="status">tidy</td>
<td class="description">Templates: Block Tags: 2. Back-to-back template uses</td>
<td class="input"><pre>{{echo|&lt;div&gt;Foo&lt;/div&gt;}}{{echo|&lt;div&gt;bar&lt;/div&gt;}}</pre></td>
<td class="expect"><pre>&lt;div&gt;Foo&lt;/div&gt;&lt;div&gt;bar&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div&gt;Foo&lt;/div&gt;&lt;div&gt;bar&lt;/div&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">473</th>
<td class="status">fail</td>
<td class="description">Templates: Links: 1. Simple example</td>
<td class="input"><pre>{{echo|[[Foo|bar]]}}</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/index.php?title=Foo&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Foo (page does not exist)"&gt;bar&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Foo" title="Foo"&gt;bar&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">474</th>
<td class="status">fail</td>
<td class="description">Templates: Links: 2. Generation of link href</td>
<td class="input"><pre>[[{{echo|Foo}}|bar]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/index.php?title=Foo&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Foo (page does not exist)"&gt;bar&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Foo" title="Foo"&gt;bar&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">475</th>
<td class="status">fail</td>
<td class="description">Templates: Links: 3. Generation of part of a link href</td>
<td class="input"><pre>[[Fo{{echo|o}}|bar]]&#8990;
&#8990;
[[Foo{{echo|bar}}]]&#8990;
&#8990;
[[Foo{{echo|bar}}baz]]&#8990;
&#8990;
[[Foo{{echo|bar}}|bar]]&#8990;
&#8990;
[[:Foo{{echo|bar}}]]&#8990;
&#8990;
[[:Foo{{echo|bar}}|bar]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/index.php?title=Foo&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Foo (page does not exist)"&gt;bar&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a href="/index.php?title=Foobar&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Foobar (page does not exist)"&gt;Foobar&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a href="/index.php?title=Foobarbaz&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Foobarbaz (page does not exist)"&gt;Foobarbaz&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a href="/index.php?title=Foobar&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Foobar (page does not exist)"&gt;bar&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a href="/index.php?title=Foobar&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Foobar (page does not exist)"&gt;Foobar&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a href="/index.php?title=Foobar&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Foobar (page does not exist)"&gt;bar&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Foo" title="Foo"&gt;bar&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a href="/wiki/Foobar" title="Foobar"&gt;Foobar&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a href="/wiki/Foobarbaz" title="Foobarbaz"&gt;Foobarbaz&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a href="/wiki/Foobar" title="Foobar"&gt;bar&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a href="/wiki/:Foobar" title=":Foobar"&gt;:Foobar&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a href="/wiki/:Foobar" title=":Foobar"&gt;bar&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">476</th>
<td class="status">fail</td>
<td class="description">Templates: Links: 4. Multiple templates generating link href</td>
<td class="input"><pre>[[{{echo|F}}{{echo|o}}ob{{echo|ar}}]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/index.php?title=Foobar&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Foobar (page does not exist)"&gt;Foobar&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Foobar" title="Foobar"&gt;Foobar&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">477</th>
<td class="status">fail</td>
<td class="description">Templates: Links: 5. Generation of link text</td>
<td class="input"><pre>[[Foo|{{echo|bar}}]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/index.php?title=Foo&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Foo (page does not exist)"&gt;bar&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Foo" title="Foo"&gt;bar&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">478</th>
<td class="status">fail</td>
<td class="description">Templates: Links: 5. Nested templates (only outermost template should be marked)</td>
<td class="input"><pre>{{echo|[[{{echo|Foo}}|bar]]}}</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/index.php?title=Foo&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Foo (page does not exist)"&gt;bar&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Foo" title="Foo"&gt;bar&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">479</th>
<td class="status">tidy</td>
<td class="description">Templates: HTML Tag: 1. Generation of HTML attr. key</td>
<td class="input"><pre>&lt;div {{echo|style}}="color:red;"&gt;foo&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div style="color:red;"&gt;foo&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div style="color:red;"&gt;foo&lt;/div&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">480</th>
<td class="status">tidy</td>
<td class="description">Templates: HTML Tag: 2. Generation of HTML attr. value</td>
<td class="input"><pre>&lt;div style={{echo|'color:red;'}}&gt;foo&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div style="color:red;"&gt;foo&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div style="color:red;"&gt;foo&lt;/div&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">481</th>
<td class="status">tidy</td>
<td class="description">Templates: HTML Tag: 3. Generation of HTML attr key and value</td>
<td class="input"><pre>&lt;div {{echo|style}}={{echo|'color:red;'}}&gt;foo&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div style="color:red;"&gt;foo&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div style="color:red;"&gt;foo&lt;/div&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">482</th>
<td class="status">tidy</td>
<td class="description">Templates: HTML Tag: 4. Generation of starting piece of HTML attr value</td>
<td class="input"><pre>&lt;div title="{{echo|This is a long title}} with just one piece templated"&gt;foo&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div title="This is a long title with just one piece templated"&gt;foo&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div title="This is a long title with just one piece templated"&gt;foo&lt;/div&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">483</th>
<td class="status">tidy</td>
<td class="description">Templates: HTML Tag: 5. Generation of middle piece of HTML attr value</td>
<td class="input"><pre>&lt;div title="This is a long title with just {{echo|one piece}} templated"&gt;foo&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div title="This is a long title with just one piece templated"&gt;foo&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div title="This is a long title with just one piece templated"&gt;foo&lt;/div&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">484</th>
<td class="status">tidy</td>
<td class="description">Templates: HTML Tag: 6. Generation of end piece of HTML attr value</td>
<td class="input"><pre>&lt;div title="This is a long title with just one piece {{echo|templated}}"&gt;foo&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div title="This is a long title with just one piece templated"&gt;foo&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div title="This is a long title with just one piece templated"&gt;foo&lt;/div&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">485</th>
<td class="status">tidy</td>
<td class="description">Templates: HTML Tag: 7. Generation of partial attribute key string</td>
<td class="input"><pre>&lt;div st{{echo|yle}}="color:red;"&gt;foo&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div style="color:red;"&gt;foo&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div style="color:red;"&gt;foo&lt;/div&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">486</th>
<td class="status">tidy</td>
<td class="description">Templates: HTML Tables: 1. Generating start of a HTML table</td>
<td class="input"><pre>{{echo|&lt;table&gt;&lt;tr&gt;&lt;td&gt;foo&lt;/td&gt;}}&lt;/tr&gt;&lt;/table&gt;</pre></td>
<td class="expect"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">487</th>
<td class="status">tidy</td>
<td class="description">Templates: HTML Tables: 2a. Generating middle of a HTML table</td>
<td class="input"><pre>&lt;table&gt;&lt;tr&gt;{{echo|&lt;td&gt;foo&lt;/td&gt;}}&lt;/tr&gt;&lt;/table&gt;</pre></td>
<td class="expect"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">488</th>
<td class="status">tidy</td>
<td class="description">Templates: HTML Tables: 2b. Generating middle of a HTML table</td>
<td class="input"><pre>&lt;table&gt;{{echo|&lt;tr&gt;&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;}}&lt;/table&gt;</pre></td>
<td class="expect"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">489</th>
<td class="status">tidy</td>
<td class="description">Templates: HTML Tables: 3. Generating end of a HTML table</td>
<td class="input"><pre>&lt;table&gt;&lt;tr&gt;{{echo|&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;}}</pre></td>
<td class="expect"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">490</th>
<td class="status">tidy</td>
<td class="description">Templates: HTML Tables: 4a. Generating a single tag of a HTML table</td>
<td class="input"><pre>{{echo|&lt;table&gt;}}&lt;tr&gt;&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
<td class="expect"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">491</th>
<td class="status">tidy</td>
<td class="description">Templates: HTML Tables: 4b. Generating a single tag of a HTML table</td>
<td class="input"><pre>&lt;table&gt;{{echo|&lt;tr&gt;}}&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
<td class="expect"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">492</th>
<td class="status">tidy</td>
<td class="description">Templates: HTML Tables: 4c. Generating a single tag of a HTML table</td>
<td class="input"><pre>&lt;table&gt;&lt;tr&gt;{{echo|&lt;td&gt;}}foo&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
<td class="expect"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">493</th>
<td class="status">tidy</td>
<td class="description">Templates: HTML Tables: 4d. Generating a single tag of a HTML table</td>
<td class="input"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;foo{{echo|&lt;/td&gt;}}&lt;/tr&gt;&lt;/table&gt;</pre></td>
<td class="expect"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">494</th>
<td class="status">tidy</td>
<td class="description">Templates: HTML Tables: 4e. Generating a single tag of a HTML table</td>
<td class="input"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;foo&lt;/td&gt;{{echo|&lt;/tr&gt;}}&lt;/table&gt;</pre></td>
<td class="expect"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">495</th>
<td class="status">tidy</td>
<td class="description">Templates: HTML Tables: 4f. Generating a single tag of a HTML table</td>
<td class="input"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;{{echo|&lt;/table&gt;}}</pre></td>
<td class="expect"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">496</th>
<td class="status">fail</td>
<td class="description">Templates: HTML Tables: 5. Proper fostering of categories from inside<ul><li>parsoid: wt2html, wt2wt</li></ul>
</td>
<td class="input"><pre>&lt;table&gt;[[Category:foo1]]&lt;tr&gt;&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
&lt;!--Two categories (Bug 50330)--&gt;&#8990;
&lt;table&gt;[[Category:bar1]][[Category:bar2]]&lt;tr&gt;&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
<td class="expect"><pre>&lt;link rel="mw:WikiLink/Category" href="./Category:Foo1"&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&#8990;
&lt;!--Two categories (Bug 50330)--&gt;&#8990;
&lt;link rel="mw:WikiLink/Category" href="./Category:Bar1"&gt;&lt;link rel="mw:WikiLink/Category" href="./Category:Bar2"&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;</pre></td>
<td class="output"><pre>&lt;table/&gt;&lt;p&gt;&lt;a href="/wiki/Category:foo1" title="Category:foo1"&gt;Category:foo1&lt;/a&gt;&amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;foo&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&amp;lt;/table&amp;gt;&#8990;
&lt;/p&gt;&lt;table/&gt;&lt;p&gt;&lt;a href="/wiki/Category:bar1" title="Category:bar1"&gt;Category:bar1&lt;/a&gt;&lt;a href="/wiki/Category:bar2" title="Category:bar2"&gt;Category:bar2&lt;/a&gt;&amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;foo&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&amp;lt;/table&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">497</th>
<td class="status">fail</td>
<td class="description">Templates: Wiki Tables: 1a. Fostering of entire template content</td>
<td class="input"><pre>{|&#8990;
{{echo|a}}&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
a&#8990;
&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;{|&#8990;
a&#8990;
|}&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">498</th>
<td class="status">fail</td>
<td class="description">Templates: Wiki Tables: 1b. Fostering of entire template content</td>
<td class="input"><pre>{|&#8990;
{{echo|&lt;div&gt;}}&#8990;
foo&#8990;
{{echo|&lt;/div&gt;}}&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;div&gt;&#8990;
&lt;p&gt;foo&#8990;
&lt;/p&gt;&#8990;
&lt;/div&gt;&#8990;
&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;{|&#8990;
&lt;/p&gt;&lt;div&gt;foo&lt;/div&gt;&lt;p&gt;|}&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">499</th>
<td class="status">fail</td>
<td class="description">Templates: Wiki Tables: 2. Fostering of partial template content</td>
<td class="input"><pre>{|&#8990;
{{echo|a&#8990;
&lt;div&gt;b&lt;/div&gt;}}&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
a&#8990;
&lt;div&gt;b&lt;/div&gt;&#8990;
&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;{|&#8990;
a&#8990;
&lt;/p&gt;&lt;div&gt;b&lt;/div&gt;&lt;p&gt;|}&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">500</th>
<td class="status">tidy</td>
<td class="description">Templates: Wiki Tables: 3. td-content via multiple templates</td>
<td class="input"><pre>{|&#8990;
{{echo|{{pipe}}a}}{{echo|b}}&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt;ab&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;ab&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">501</th>
<td class="status">fail</td>
<td class="description">Templates: Wiki Tables: 4. Templated tags, no content</td>
<td class="input"><pre>{{tbl-start}}&#8990;
{{tbl-end}}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table/&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">502</th>
<td class="status">tidy</td>
<td class="description">Templates: Wiki Tables: 5. Templated tags, regular td-tags</td>
<td class="input"><pre>{{tbl-start}}&#8990;
|foo&#8990;
{{tbl-end}}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt;foo&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">503</th>
<td class="status">tidy</td>
<td class="description">Templates: Wiki Tables: 6. Templated tags, templated td-tags</td>
<td class="input"><pre>{{tbl-start}}&#8990;
{{!}}foo&#8990;
{{tbl-end}}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt;foo&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">504</th>
<td class="status">fail</td>
<td class="description">Templates: Lists: Multi-line list-items via templates</td>
<td class="input"><pre>*{{echo|a {{nonexistent|&#8990;
unused}}}}&#8990;
*{{echo|b {{nonexistent|&#8990;
unused}}}}</pre></td>
<td class="expect"><pre>&lt;ul&gt;&lt;li&gt;a &lt;a href="/index.php?title=Template:Nonexistent&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Template:Nonexistent (page does not exist)"&gt;Template:Nonexistent&lt;/a&gt;&#8990;
&lt;/li&gt;&lt;li&gt;b &lt;a href="/index.php?title=Template:Nonexistent&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Template:Nonexistent (page does not exist)"&gt;Template:Nonexistent&lt;/a&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt;a &lt;a href="/wiki/Template:Nonexistent" title="Template:Nonexistent"&gt;Template:Nonexistent&lt;/a&gt;&#8990;
&lt;/li&gt;&lt;li&gt;b &lt;a href="/wiki/Template:Nonexistent" title="Template:Nonexistent"&gt;Template:Nonexistent&lt;/a&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
</tr>
<tr class="pass">
<th class="index">505</th>
<td class="status">pass</td>
<td class="description">Templates: Ugly nesting: 1. Quotes opened/closed across templates (echo)</td>
<td class="input"><pre>{{echo|''a}}{{echo|b''c''d}}{{echo|''e}}</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;i&gt;ab&lt;/i&gt;c&lt;i&gt;d&lt;/i&gt;e&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;i&gt;ab&lt;/i&gt;c&lt;i&gt;d&lt;/i&gt;e&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">506</th>
<td class="status">fail</td>
<td class="description">Templates: Ugly nesting: 2. Quotes opened/closed across templates (echo_with_span)
(PHP parser generates misnested html)<ul><li>parsoid: wt2html, wt2wt</li></ul>
</td>
<td class="input"><pre>{{echo_with_span|''a}}{{echo_with_span|b''c''d}}{{echo_with_span|''e}}</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;span typeof="mw:Transclusion"&gt;&lt;i&gt;a&lt;/i&gt;&lt;/span&gt;&lt;i typeof="mw:Transclusion"&gt;&lt;span&gt;b&lt;/span&gt;&lt;/i&gt;&lt;span&gt;c&lt;/span&gt;&lt;i&gt;d&lt;/i&gt;&lt;span&gt;e&lt;/span&gt;&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;span&gt;''a&lt;/span&gt;&lt;span&gt;b&lt;i&gt;c&lt;/i&gt;d&lt;/span&gt;&lt;span&gt;''e&lt;/span&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">507</th>
<td class="status">fail</td>
<td class="description">Templates: Ugly nesting: 3. Quotes opened/closed across templates (echo_with_div)
(PHP parser generates misnested html)<ul><li>parsoid: wt2html, wt2wt</li></ul>
</td>
<td class="input"><pre>{{echo_with_div|''a}}{{echo_with_div|b''c''d}}{{echo_with_div|''e}}</pre></td>
<td class="expect"><pre>&lt;div typeof="mw:Transclusion"&gt;&lt;i&gt;a&lt;/i&gt;&lt;/div&gt;&#8990;
&lt;div typeof="mw:Transclusion"&gt;&lt;i&gt;b&lt;/i&gt;c&lt;i&gt;d&lt;/i&gt;&lt;/div&gt;&#8990;
&lt;div typeof="mw:Transclusion"&gt;e&lt;/div&gt;</pre></td>
<td class="output"><pre>&lt;div&gt;''a&lt;/div&gt;&lt;div&gt;b&lt;i&gt;c&lt;/i&gt;d&#8990;
&lt;/div&gt;&lt;div&gt;''e&lt;/div&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">508</th>
<td class="status">fail</td>
<td class="description">Templates: Ugly nesting: 4. Divs opened/closed across templates</td>
<td class="input"><pre>a&lt;div&gt;b{{echo|c&lt;/div&gt;d}}e</pre></td>
<td class="expect"><pre>a&lt;div&gt;bc&lt;/div&gt;de&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;a&#8990;
&lt;/p&gt;&lt;div&gt;bc&lt;/div&gt;&lt;p&gt;de&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">509</th>
<td class="status">fail</td>
<td class="description">Templates: Ugly templates: 1. Navbox template parses badly leading to table misnesting
(Parsoid-centric)<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>{|&#8990;
|{{echo|foo&lt;/table&gt;}}&#8990;
|bar&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table typeof="mw:Transclusion"&gt;&#8990;
&lt;tbody&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;span&gt;bar&lt;/span&gt;</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;foo&amp;lt;/table&amp;gt;&lt;/td&gt;&lt;td&gt;bar&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">510</th>
<td class="status">fail</td>
<td class="description">Templates: Ugly templates: 2. Navbox template parses badly leading to table misnesting
(Parsoid-centric)<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>&lt;table&gt;&#8990;
  &lt;tr&gt;&#8990;
    &lt;td&gt;&#8990;
    &lt;table&gt;&#8990;
      &lt;tr&gt;&#8990;
        &lt;td&gt;1. {{echo|foo &lt;/table&gt;}}&lt;/td&gt;&#8990;
        &lt;td&gt; bar &lt;/td&gt;&#8990;
        &lt;td&gt;2. {{echo|baz &lt;/table&gt;}}&lt;/td&gt;&#8990;
      &lt;/tr&gt;&#8990;
      &lt;tr&gt;&#8990;
        &lt;td&gt;abc&lt;/td&gt;&#8990;
      &lt;/tr&gt;&#8990;
    &lt;/table&gt;&#8990;
    &lt;/td&gt;&#8990;
  &lt;/tr&gt;&#8990;
  &lt;tr&gt;&#8990;
    &lt;td&gt;xyz&lt;/td&gt;&#8990;
  &lt;/tr&gt;&#8990;
&lt;/table&gt;</pre></td>
<td class="expect"><pre>&lt;table  about="#mwt1" typeof="mw:Transclusion"&gt;&#8990;
  &lt;tbody&gt;&lt;tr &gt;&#8990;
    &lt;td &gt;&#8990;
    &lt;table &gt;&#8990;
      &lt;tbody&gt;&lt;tr &gt;&#8990;
        &lt;td &gt;1. foo &lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/td&gt;&#8990;
        &lt;td &gt; bar &lt;/td&gt;&#8990;
        &lt;td &gt;2. baz &lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;span about="#mwt1"&gt;&#8990;
      &lt;/span&gt;&lt;span about="#mwt1"&gt;&#8990;
      &#8990;
        abc&lt;/span&gt;&lt;span about="#mwt1"&gt;&#8990;
      &lt;/span&gt;&lt;span about="#mwt1"&gt;&#8990;
    &lt;/span&gt;&lt;span about="#mwt1"&gt;&#8990;
    &lt;/span&gt;&lt;span about="#mwt1"&gt;&#8990;
  &lt;/span&gt;&lt;span about="#mwt1"&gt;&#8990;
  &#8990;
    xyz&lt;/span&gt;&lt;span about="#mwt1"&gt;&#8990;
  &lt;/span&gt;&lt;span about="#mwt1"&gt;&#8990;
&lt;/span&gt;</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;1. foo &amp;lt;/table&amp;gt;&lt;/td&gt;&lt;td&gt; bar&lt;/td&gt;&lt;td&gt;2. baz &amp;lt;/table&amp;gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;abc&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;pre&gt;   &amp;lt;/td&amp;gt;&#8990;
 &amp;lt;/tr&amp;gt;&#8990;
 &amp;lt;tr&amp;gt;&#8990;
   &amp;lt;td&amp;gt;xyz&amp;lt;/td&amp;gt;&#8990;
 &amp;lt;/tr&amp;gt;&#8990;
&lt;/pre&gt;&lt;p&gt;&amp;lt;/table&amp;gt;&#8990;
&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">511</th>
<td class="status">pass</td>
<td class="description">Templates: Ugly templates: 3. newline-only template parameter</td>
<td class="input"><pre>foo {{echo|&#8990;
}}</pre></td>
<td class="expect"><pre>&lt;p&gt;foo &#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;foo &#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">512</th>
<td class="status">fail</td>
<td class="description">Templates: Ugly templates: 4. newline-only template parameter inconsistency</td>
<td class="input"><pre>{{echo|&#8990;
}}</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;br /&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre></pre></td>
</tr>
<tr class="pass">
<th class="index">513</th>
<td class="status">pass</td>
<td class="description">Parser Functions: 1. Simple example</td>
<td class="input"><pre>{{uc:foo}}</pre></td>
<td class="expect"><pre>&lt;p&gt;FOO&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;FOO&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">514</th>
<td class="status">pass</td>
<td class="description">Parser Functions: 2. Nested use (only outermost should be marked up)</td>
<td class="input"><pre>{{uc:{{lc:FOO}}}}</pre></td>
<td class="expect"><pre>&lt;p&gt;FOO&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;FOO&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="skip">
<th class="index">515</th>
<td class="status">skip</td>
<td class="description">pre-save transform: subst:<ul><li>pst</li></ul>
</td>
<td class="input"><pre>{{subst:test}}</pre></td>
<td class="expect"><pre>This is a test template</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">516</th>
<td class="status">skip</td>
<td class="description">pre-save transform: normal template<ul><li>pst</li></ul>
</td>
<td class="input"><pre>{{test}}</pre></td>
<td class="expect"><pre>{{test}}</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">517</th>
<td class="status">skip</td>
<td class="description">pre-save transform: nonexistent template<ul><li>pst</li></ul>
</td>
<td class="input"><pre>{{thistemplatedoesnotexist}}</pre></td>
<td class="expect"><pre>{{thistemplatedoesnotexist}}</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">518</th>
<td class="status">skip</td>
<td class="description">pre-save transform: subst magic variables<ul><li>pst</li></ul>
</td>
<td class="input"><pre>{{subst:SITENAME}}</pre></td>
<td class="expect"><pre>MediaWiki</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">519</th>
<td class="status">skip</td>
<td class="description">pre-save transform: subst: templates with parameters<ul><li>pst</li></ul>
</td>
<td class="input"><pre>{{subst:paramtest|param="something else"}}</pre></td>
<td class="expect"><pre>This is a test template with parameter "something else"</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">520</th>
<td class="status">skip</td>
<td class="description">pre-save transform: nowiki in subst (bug 1188)<ul><li>pst</li></ul>
</td>
<td class="input"><pre>{{subst:nowikitest}}</pre></td>
<td class="expect"><pre>&lt;nowiki&gt;'''not wiki'''&lt;/nowiki&gt;</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">521</th>
<td class="status">skip</td>
<td class="description">pre-save transform: comment in subst (bug 1936)<ul><li>pst</li></ul>
</td>
<td class="input"><pre>{{subst:commenttest}}</pre></td>
<td class="expect"><pre>This template has &lt;!-- a comment --&gt; in it.</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">522</th>
<td class="status">skip</td>
<td class="description">pre-save transform: unclosed tag<ul>
<li>noxml</li>
<li>pst</li>
</ul>
</td>
<td class="input"><pre>&lt;nowiki&gt;'''not wiki'''</pre></td>
<td class="expect"><pre>&lt;nowiki&gt;'''not wiki'''</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">523</th>
<td class="status">skip</td>
<td class="description">pre-save transform: mixed tag case<ul>
<li>noxml</li>
<li>pst</li>
</ul>
</td>
<td class="input"><pre>&lt;NOwiki&gt;'''not wiki'''&lt;/noWIKI&gt;</pre></td>
<td class="expect"><pre>&lt;NOwiki&gt;'''not wiki'''&lt;/noWIKI&gt;</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">524</th>
<td class="status">skip</td>
<td class="description">pre-save transform: unclosed comment in &lt;nowiki&gt;<ul>
<li>noxml</li>
<li>pst</li>
</ul>
</td>
<td class="input"><pre>wiki&lt;nowiki&gt;nowiki&lt;!--nowiki&lt;/nowiki&gt;wiki</pre></td>
<td class="expect"><pre>wiki&lt;nowiki&gt;nowiki&lt;!--nowiki&lt;/nowiki&gt;wiki</pre></td>
<td class="output"> </td>
</tr>
<tr class="pass">
<th class="index">525</th>
<td class="status">pass</td>
<td class="description">(confirming safety of fix for subst bug 1936)</td>
<td class="input"><pre>{{Template:dangerous}}</pre></td>
<td class="expect"><pre>&lt;p&gt;@&lt;span&gt;Oh no&lt;/span&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;@&lt;span&gt;Oh no&lt;/span&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="skip">
<th class="index">526</th>
<td class="status">skip</td>
<td class="description">pre-save transform: comment containing gallery (bug 5024)<ul><li>pst</li></ul>
</td>
<td class="input"><pre>&lt;!-- &lt;gallery&gt;data&lt;/gallery&gt; --&gt;</pre></td>
<td class="expect"><pre>&lt;!-- &lt;gallery&gt;data&lt;/gallery&gt; --&gt;</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">527</th>
<td class="status">skip</td>
<td class="description">pre-save transform: comment containing extension<ul><li>pst</li></ul>
</td>
<td class="input"><pre>&lt;!-- &lt;tag&gt;data&lt;/tag&gt; --&gt;</pre></td>
<td class="expect"><pre>&lt;!-- &lt;tag&gt;data&lt;/tag&gt; --&gt;</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">528</th>
<td class="status">skip</td>
<td class="description">pre-save transform: comment containing nowiki<ul><li>pst</li></ul>
</td>
<td class="input"><pre>&lt;!-- &lt;nowiki&gt;data&lt;/nowiki&gt; --&gt;</pre></td>
<td class="expect"><pre>&lt;!-- &lt;nowiki&gt;data&lt;/nowiki&gt; --&gt;</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">529</th>
<td class="status">skip</td>
<td class="description">pre-save transform: &lt;noinclude&gt; in subst (bug 3298)<ul><li>pst</li></ul>
</td>
<td class="input"><pre>{{subst:Includes}}</pre></td>
<td class="expect"><pre>Foobar</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">530</th>
<td class="status">skip</td>
<td class="description">pre-save transform: &lt;onlyinclude&gt; in subst (bug 3298)<ul><li>pst</li></ul>
</td>
<td class="input"><pre>{{subst:Includes2}}</pre></td>
<td class="expect"><pre>Foo</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">531</th>
<td class="status">skip</td>
<td class="description">bug 22297: safesubst: works during PST<ul><li>pst</li></ul>
</td>
<td class="input"><pre>{{subst:SafeSubstTest}}{{safesubst:SubstTest}}</pre></td>
<td class="expect"><pre>FoobarFoobar</pre></td>
<td class="output"> </td>
</tr>
<tr class="fail">
<th class="index">532</th>
<td class="status">fail</td>
<td class="description">bug 22297: safesubst: works during normal parse</td>
<td class="input"><pre>{{SafeSubstTest}}</pre></td>
<td class="expect"><pre>&lt;p&gt;Foobar&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:Safesubst:Includes" title="Template:Safesubst:Includes"&gt;Template:Safesubst:Includes&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">533</th>
<td class="status">fail</td>
<td class="description">subst: does not work during normal parse</td>
<td class="input"><pre>{{SubstTest}}</pre></td>
<td class="expect"><pre>&lt;p&gt;{{subst:Includes}}&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:Subst:Includes" title="Template:Subst:Includes"&gt;Template:Subst:Includes&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="skip">
<th class="index">534</th>
<td class="status">skip</td>
<td class="description">pre-save transform: context links ("pipe trick")<ul><li>pst</li></ul>
</td>
<td class="input"><pre>[[Article (context)|]]&#8990;
[[Bar:Article|]]&#8990;
[[:Bar:Article|]]&#8990;
[[Bar:Article (context)|]]&#8990;
[[:Bar:Article (context)|]]&#8990;
[[|Article]]&#8990;
[[|Article (context)]]&#8990;
[[Bar:X (Y) Z|]]&#8990;
[[:Bar:X (Y) Z|]]</pre></td>
<td class="expect"><pre>[[Article (context)|Article]]&#8990;
[[Bar:Article|Article]]&#8990;
[[:Bar:Article|Article]]&#8990;
[[Bar:Article (context)|Article]]&#8990;
[[:Bar:Article (context)|Article]]&#8990;
[[Article]]&#8990;
[[Article (context)]]&#8990;
[[Bar:X (Y) Z|X (Y) Z]]&#8990;
[[:Bar:X (Y) Z|X (Y) Z]]</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">535</th>
<td class="status">skip</td>
<td class="description">pre-save transform: context links ("pipe trick") with interwiki prefix<ul><li>pst</li></ul>
</td>
<td class="input"><pre>[[interwiki:Article|]]&#8990;
[[:interwiki:Article|]]&#8990;
[[interwiki:Bar:Article|]]&#8990;
[[:interwiki:Bar:Article|]]</pre></td>
<td class="expect"><pre>[[interwiki:Article|Article]]&#8990;
[[:interwiki:Article|Article]]&#8990;
[[interwiki:Bar:Article|Bar:Article]]&#8990;
[[:interwiki:Bar:Article|Bar:Article]]</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">536</th>
<td class="status">skip</td>
<td class="description">pre-save transform: context links ("pipe trick") with parens in title<ul>
<li>pst</li>
<li>title: Somearticle (context)</li>
</ul>
</td>
<td class="input"><pre>[[|Article]]</pre></td>
<td class="expect"><pre>[[Article (context)|Article]]</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">537</th>
<td class="status">skip</td>
<td class="description">pre-save transform: context links ("pipe trick") with comma in title<ul>
<li>pst</li>
<li>title: Someplace, Somewhere</li>
</ul>
</td>
<td class="input"><pre>[[|Otherplace]]&#8990;
[[Otherplace, Elsewhere|]]&#8990;
[[Otherplace, Elsewhere, Anywhere|]]</pre></td>
<td class="expect"><pre>[[Otherplace, Somewhere|Otherplace]]&#8990;
[[Otherplace, Elsewhere|Otherplace]]&#8990;
[[Otherplace, Elsewhere, Anywhere|Otherplace]]</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">538</th>
<td class="status">skip</td>
<td class="description">pre-save transform: context links ("pipe trick") with parens and comma<ul>
<li>pst</li>
<li>title: Someplace (IGNORED), Somewhere</li>
</ul>
</td>
<td class="input"><pre>[[|Otherplace]]&#8990;
[[Otherplace (place), Elsewhere|]]</pre></td>
<td class="expect"><pre>[[Otherplace, Somewhere|Otherplace]]&#8990;
[[Otherplace (place), Elsewhere|Otherplace]]</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">539</th>
<td class="status">skip</td>
<td class="description">pre-save transform: context links ("pipe trick") with comma and parens<ul>
<li>pst</li>
<li>title: Who, me? (context)</li>
</ul>
</td>
<td class="input"><pre>[[|Yes, you.]]&#8990;
[[Me, Myself, and I (1937 song)|]]</pre></td>
<td class="expect"><pre>[[Yes, you. (context)|Yes, you.]]&#8990;
[[Me, Myself, and I (1937 song)|Me, Myself, and I]]</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">540</th>
<td class="status">skip</td>
<td class="description">pre-save transform: context links ("pipe trick") with namespace<ul>
<li>pst</li>
<li>title: Ns:Somearticle</li>
</ul>
</td>
<td class="input"><pre>[[|Article]]</pre></td>
<td class="expect"><pre>[[Ns:Article|Article]]</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">541</th>
<td class="status">skip</td>
<td class="description">pre-save transform: context links ("pipe trick") with namespace and parens<ul>
<li>pst</li>
<li>title: Ns:Somearticle (context)</li>
</ul>
</td>
<td class="input"><pre>[[|Article]]</pre></td>
<td class="expect"><pre>[[Ns:Article (context)|Article]]</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">542</th>
<td class="status">skip</td>
<td class="description">pre-save transform: context links ("pipe trick") with namespace and comma<ul>
<li>pst</li>
<li>title: Ns:Somearticle, Context, Whatever</li>
</ul>
</td>
<td class="input"><pre>[[|Article]]</pre></td>
<td class="expect"><pre>[[Ns:Article, Context, Whatever|Article]]</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">543</th>
<td class="status">skip</td>
<td class="description">pre-save transform: context links ("pipe trick") with namespace, comma and parens<ul>
<li>pst</li>
<li>title: Ns:Somearticle, Context (context)</li>
</ul>
</td>
<td class="input"><pre>[[|Article]]</pre></td>
<td class="expect"><pre>[[Ns:Article (context)|Article]]</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">544</th>
<td class="status">skip</td>
<td class="description">pre-save transform: context links ("pipe trick") with namespace, parens and comma<ul>
<li>pst</li>
<li>title: Ns:Somearticle (IGNORED), Context</li>
</ul>
</td>
<td class="input"><pre>[[|Article]]</pre></td>
<td class="expect"><pre>[[Ns:Article, Context|Article]]</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">545</th>
<td class="status">skip</td>
<td class="description">pre-save transform: context links ("pipe trick") with full-width parens and no space (Japanese and Chinese style, bug 30149)<ul><li>pst</li></ul>
</td>
<td class="input"><pre>[[Article&#65288;context&#65289;|]]&#8990;
[[Bar:Article&#65288;context&#65289;|]]&#8990;
[[:Bar:Article&#65288;context&#65289;|]]&#8990;
[[|Article&#65288;context&#65289;]]&#8990;
[[Bar:X&#65288;Y&#65289;Z|]]&#8990;
[[:Bar:X&#65288;Y&#65289;Z|]]</pre></td>
<td class="expect"><pre>[[Article&#65288;context&#65289;|Article]]&#8990;
[[Bar:Article&#65288;context&#65289;|Article]]&#8990;
[[:Bar:Article&#65288;context&#65289;|Article]]&#8990;
[[Article&#65288;context&#65289;]]&#8990;
[[Bar:X&#65288;Y&#65289;Z|X&#65288;Y&#65289;Z]]&#8990;
[[:Bar:X&#65288;Y&#65289;Z|X&#65288;Y&#65289;Z]]</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">546</th>
<td class="status">skip</td>
<td class="description">pre-save transform: context links ("pipe trick") with full-width parens and space (Japanese and Chinese style, bug 30149)<ul><li>pst</li></ul>
</td>
<td class="input"><pre>[[Article &#65288;context&#65289;|]]&#8990;
[[Bar:Article &#65288;context&#65289;|]]&#8990;
[[:Bar:Article &#65288;context&#65289;|]]&#8990;
[[|Article &#65288;context&#65289;]]&#8990;
[[Bar:X &#65288;Y&#65289; Z|]]&#8990;
[[:Bar:X &#65288;Y&#65289; Z|]]</pre></td>
<td class="expect"><pre>[[Article &#65288;context&#65289;|Article]]&#8990;
[[Bar:Article &#65288;context&#65289;|Article]]&#8990;
[[:Bar:Article &#65288;context&#65289;|Article]]&#8990;
[[Article &#65288;context&#65289;]]&#8990;
[[Bar:X &#65288;Y&#65289; Z|X &#65288;Y&#65289; Z]]&#8990;
[[:Bar:X &#65288;Y&#65289; Z|X &#65288;Y&#65289; Z]]</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">547</th>
<td class="status">skip</td>
<td class="description">pre-save transform: context links ("pipe trick") with parens and no space (Korean style, bug 30149)<ul><li>pst</li></ul>
</td>
<td class="input"><pre>[[Article(context)|]]&#8990;
[[Bar:Article(context)|]]&#8990;
[[:Bar:Article(context)|]]&#8990;
[[|Article(context)]]&#8990;
[[Bar:X(Y)Z|]]&#8990;
[[:Bar:X(Y)Z|]]</pre></td>
<td class="expect"><pre>[[Article(context)|Article]]&#8990;
[[Bar:Article(context)|Article]]&#8990;
[[:Bar:Article(context)|Article]]&#8990;
[[Article(context)]]&#8990;
[[Bar:X(Y)Z|X(Y)Z]]&#8990;
[[:Bar:X(Y)Z|X(Y)Z]]</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">548</th>
<td class="status">skip</td>
<td class="description">pre-save transform: context links ("pipe trick") with commas (bug 21660)<ul><li>pst</li></ul>
</td>
<td class="input"><pre>[[Article (context), context|]]&#8990;
[[Article (context)&#65292;context|]]&#8990;
[[Bar:Article (context), context|]]&#8990;
[[Bar:Article (context)&#65292;context|]]&#8990;
[[:Bar:Article (context), context|]]&#8990;
[[:Bar:Article (context)&#65292;context|]]</pre></td>
<td class="expect"><pre>[[Article (context), context|Article]]&#8990;
[[Article (context)&#65292;context|Article]]&#8990;
[[Bar:Article (context), context|Article]]&#8990;
[[Bar:Article (context)&#65292;context|Article]]&#8990;
[[:Bar:Article (context), context|Article]]&#8990;
[[:Bar:Article (context)&#65292;context|Article]]</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">549</th>
<td class="status">skip</td>
<td class="description">pre-save transform: trim trailing empty lines<ul><li>pst</li></ul>
</td>
<td class="input"><pre>Empty lines are trimmed&#8990;
&#8990;
&#8990;
&#8990;
</pre></td>
<td class="expect"><pre>Empty lines are trimmed</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">550</th>
<td class="status">skip</td>
<td class="description">pre-save transform: Signature expansion<ul><li>pst</li></ul>
</td>
<td class="input"><pre>* ~~~&#8990;
* &lt;noinclude&gt;~~~&lt;/noinclude&gt;&#8990;
* &lt;includeonly&gt;~~~&lt;/includeonly&gt;&#8990;
* &lt;onlyinclude&gt;~~~&lt;/onlyinclude&gt;</pre></td>
<td class="expect"><pre>* [[Special:Contributions/127.0.0.1|127.0.0.1]]&#8990;
* &lt;noinclude&gt;[[Special:Contributions/127.0.0.1|127.0.0.1]]&lt;/noinclude&gt;&#8990;
* &lt;includeonly&gt;[[Special:Contributions/127.0.0.1|127.0.0.1]]&lt;/includeonly&gt;&#8990;
* &lt;onlyinclude&gt;[[Special:Contributions/127.0.0.1|127.0.0.1]]&lt;/onlyinclude&gt;</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">551</th>
<td class="status">skip</td>
<td class="description">pre-save transform: Signature expansion in nowiki tags (bug 93)<ul>
<li>disabled</li>
<li>pst</li>
</ul>
</td>
<td class="input"><pre>Shall not expand:&#8990;
&#8990;
&lt;nowiki&gt;~~~~&lt;/nowiki&gt;&#8990;
&#8990;
&lt;includeonly&gt;&lt;nowiki&gt;~~~~&lt;/nowiki&gt;&lt;/includeonly&gt;&#8990;
&#8990;
&lt;noinclude&gt;&lt;nowiki&gt;~~~~&lt;/nowiki&gt;&lt;/noinclude&gt;&#8990;
&#8990;
&lt;onlyinclude&gt;&lt;nowiki&gt;~~~~&lt;/nowiki&gt;&lt;/onlyinclude&gt;&#8990;
&#8990;
{{subst:Foo}} shall be converted to FOO&#8990;
&#8990;
As well as inside noinclude/onlyinclude&#8990;
&lt;noinclude&gt;{{subst:Foo}}&lt;/noinclude&gt;&#8990;
&lt;onlyinclude&gt;{{subst:Foo}}&lt;/onlyinclude&gt;&#8990;
&#8990;
But not inside includeonly&#8990;
&lt;includeonly&gt;{{subst:Foo}}&lt;/includeonly&gt;</pre></td>
<td class="expect"><pre>Shall not expand:&#8990;
&#8990;
&lt;nowiki&gt;~~~~&lt;/nowiki&gt;&#8990;
&#8990;
&lt;includeonly&gt;&lt;nowiki&gt;~~~~&lt;/nowiki&gt;&lt;/includeonly&gt;&#8990;
&#8990;
&lt;noinclude&gt;&lt;nowiki&gt;~~~~&lt;/nowiki&gt;&lt;/noinclude&gt;&#8990;
&#8990;
&lt;onlyinclude&gt;&lt;nowiki&gt;~~~~&lt;/nowiki&gt;&lt;/onlyinclude&gt;&#8990;
&#8990;
FOO shall be converted to FOO&#8990;
&#8990;
As well as inside noinclude/onlyinclude&#8990;
&lt;noinclude&gt;FOO&lt;/noinclude&gt;&#8990;
&lt;onlyinclude&gt;FOO&lt;/onlyinclude&gt;&#8990;
&#8990;
But not inside includeonly&#8990;
&lt;includeonly&gt;{{subst:Foo}}&lt;/includeonly&gt;</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">552</th>
<td class="status">skip</td>
<td class="description">message transform: magic variables<ul><li>msg</li></ul>
</td>
<td class="input"><pre>{{SITENAME}}</pre></td>
<td class="expect"><pre>MediaWiki</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">553</th>
<td class="status">skip</td>
<td class="description">message transform: should not transform wiki markup<ul><li>msg</li></ul>
</td>
<td class="input"><pre>''test''</pre></td>
<td class="expect"><pre>''test''</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">554</th>
<td class="status">skip</td>
<td class="description">message transform: &lt;noinclude&gt; in transcluded template (bug 4926)<ul><li>msg</li></ul>
</td>
<td class="input"><pre>{{Includes}}</pre></td>
<td class="expect"><pre>Foobar</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">555</th>
<td class="status">skip</td>
<td class="description">message transform: &lt;onlyinclude&gt; in transcluded template (bug 4926)<ul><li>msg</li></ul>
</td>
<td class="input"><pre>{{Includes2}}</pre></td>
<td class="expect"><pre>Foo</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">556</th>
<td class="status">skip</td>
<td class="description">{{#special:}} page name, known<ul><li>msg</li></ul>
</td>
<td class="input"><pre>{{#special:Recentchanges}}</pre></td>
<td class="expect"><pre>Special:RecentChanges</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">557</th>
<td class="status">skip</td>
<td class="description">{{#special:}} page name with subpage, known<ul><li>msg</li></ul>
</td>
<td class="input"><pre>{{#special:Recentchanges/param}}</pre></td>
<td class="expect"><pre>Special:RecentChanges/param</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">558</th>
<td class="status">skip</td>
<td class="description">{{#special:}} page name, unknown<ul><li>msg</li></ul>
</td>
<td class="input"><pre>{{#special:foobar nonexistent}}</pre></td>
<td class="expect"><pre>Special:Foobar nonexistent</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">559</th>
<td class="status">skip</td>
<td class="description">{{#speciale:}} page name, known<ul><li>msg</li></ul>
</td>
<td class="input"><pre>{{#speciale:Recentchanges}}</pre></td>
<td class="expect"><pre>Special:RecentChanges</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">560</th>
<td class="status">skip</td>
<td class="description">{{#speciale:}} page name with subpage, known<ul><li>msg</li></ul>
</td>
<td class="input"><pre>{{#speciale:Recentchanges/param}}</pre></td>
<td class="expect"><pre>Special:RecentChanges/param</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">561</th>
<td class="status">skip</td>
<td class="description">{{#speciale:}} page name, unknown<ul><li>msg</li></ul>
</td>
<td class="input"><pre>{{#speciale:foobar nonexistent}}</pre></td>
<td class="expect"><pre>Special:Foobar_nonexistent</pre></td>
<td class="output"> </td>
</tr>
<tr class="fail">
<th class="index">562</th>
<td class="status">fail</td>
<td class="description">Simple image</td>
<td class="input"><pre>[[Image:foobar.jpg]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image"&gt;&lt;img alt="Foobar.jpg" src="http://example.com/images/3/3a/Foobar.jpg" width="1941" height="220" /&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:foobar.jpg" title="Image:foobar.jpg"&gt;Image:foobar.jpg&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">563</th>
<td class="status">fail</td>
<td class="description">Right-aligned image</td>
<td class="input"><pre>[[Image:foobar.jpg|right]]</pre></td>
<td class="expect"><pre>&lt;div class="floatright"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image"&gt;&lt;img alt="Foobar.jpg" src="http://example.com/images/3/3a/Foobar.jpg" width="1941" height="220" /&gt;&lt;/a&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:foobar.jpg" title="Image:foobar.jpg"&gt;right&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">564</th>
<td class="status">fail</td>
<td class="description">Simple image (using File: namespace, now canonical)</td>
<td class="input"><pre>[[File:foobar.jpg]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image"&gt;&lt;img alt="Foobar.jpg" src="http://example.com/images/3/3a/Foobar.jpg" width="1941" height="220" /&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/File:foobar.jpg" title="File:foobar.jpg"&gt;File:foobar.jpg&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">565</th>
<td class="status">fail</td>
<td class="description">Image with caption</td>
<td class="input"><pre>[[Image:foobar.jpg|right|Caption text]]</pre></td>
<td class="expect"><pre>&lt;div class="floatright"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image" title="Caption text"&gt;&lt;img alt="Caption text" src="http://example.com/images/3/3a/Foobar.jpg" width="1941" height="220" /&gt;&lt;/a&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:foobar.jpg" title="Image:foobar.jpg"&gt;right|Caption text&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">566</th>
<td class="status">fail</td>
<td class="description">Image with empty attribute</td>
<td class="input"><pre>[[Image:foobar.jpg|right||Caption text]]</pre></td>
<td class="expect"><pre>&lt;div class="floatright"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image" title="Caption text"&gt;&lt;img alt="Caption text" src="http://example.com/images/3/3a/Foobar.jpg" width="1941" height="220" /&gt;&lt;/a&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:foobar.jpg" title="Image:foobar.jpg"&gt;right||Caption text&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">567</th>
<td class="status">fail</td>
<td class="description">Image with link tails</td>
<td class="input"><pre>123[[Image:foobar.jpg]]456&#8990;
123[[Image:foobar.jpg|right]]456&#8990;
123[[Image:foobar.jpg|thumb]]456</pre></td>
<td class="expect"><pre>&lt;p&gt;123&lt;a href="/wiki/File:Foobar.jpg" class="image"&gt;&lt;img alt="Foobar.jpg" src="http://example.com/images/3/3a/Foobar.jpg" width="1941" height="220" /&gt;&lt;/a&gt;456&#8990;
&lt;/p&gt;&#8990;
123&lt;div class="floatright"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image"&gt;&lt;img alt="Foobar.jpg" src="http://example.com/images/3/3a/Foobar.jpg" width="1941" height="220" /&gt;&lt;/a&gt;&lt;/div&gt;456&#8990;
123&lt;div class="thumb tright"&gt;&lt;div class="thumbinner" style="width:182px;"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image"&gt;&lt;img alt="Foobar.jpg" src="http://example.com/images/thumb/3/3a/Foobar.jpg/180px-Foobar.jpg" width="180" height="20" class="thumbimage" srcset="http://example.com/images/thumb/3/3a/Foobar.jpg/270px-Foobar.jpg 1.5x, http://example.com/images/thumb/3/3a/Foobar.jpg/360px-Foobar.jpg 2x" /&gt;&lt;/a&gt;  &lt;div class="thumbcaption"&gt;&lt;div class="magnify"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="internal" title="Enlarge"&gt;&lt;img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;456&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;123&lt;a href="/wiki/Image:foobar.jpg" title="Image:foobar.jpg"&gt;Image:foobar.jpg&lt;/a&gt;456&#8990;
123&lt;a href="/wiki/Image:foobar.jpg" title="Image:foobar.jpg"&gt;right&lt;/a&gt;456&#8990;
123&lt;a href="/wiki/Image:foobar.jpg" title="Image:foobar.jpg"&gt;thumb&lt;/a&gt;456&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">568</th>
<td class="status">fail</td>
<td class="description">Image with multiple captions -- only last one is accepted</td>
<td class="input"><pre>[[Image:foobar.jpg|right|Caption1 - ignored|[[Caption2]] - ignored|Caption3 - accepted]]</pre></td>
<td class="expect"><pre>&lt;div class="floatright"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image" title="Caption3 - accepted"&gt;&lt;img alt="Caption3 - accepted" src="http://example.com/images/3/3a/Foobar.jpg" width="1941" height="220" /&gt;&lt;/a&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:foobar.jpg" title="Image:foobar.jpg"&gt;right|Caption1 - ignored|&lt;a href="/wiki/Caption2" title="Caption2"&gt;Caption2&lt;/a&gt; - ignored|Caption3 - accepted&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">569</th>
<td class="status">fail</td>
<td class="description">Image with width attribute at different positions</td>
<td class="input"><pre>[[Image:foobar.jpg|200px|right|Caption]]&#8990;
[[Image:foobar.jpg|right|200px|Caption]]&#8990;
[[Image:foobar.jpg|right|Caption|200px]]</pre></td>
<td class="expect"><pre>&lt;div class="floatright"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image" title="Caption"&gt;&lt;img alt="Caption" src="http://example.com/images/thumb/3/3a/Foobar.jpg/200px-Foobar.jpg" width="200" height="23" srcset="http://example.com/images/thumb/3/3a/Foobar.jpg/300px-Foobar.jpg 1.5x, http://example.com/images/thumb/3/3a/Foobar.jpg/400px-Foobar.jpg 2x" /&gt;&lt;/a&gt;&lt;/div&gt;&#8990;
&lt;div class="floatright"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image" title="Caption"&gt;&lt;img alt="Caption" src="http://example.com/images/thumb/3/3a/Foobar.jpg/200px-Foobar.jpg" width="200" height="23" srcset="http://example.com/images/thumb/3/3a/Foobar.jpg/300px-Foobar.jpg 1.5x, http://example.com/images/thumb/3/3a/Foobar.jpg/400px-Foobar.jpg 2x" /&gt;&lt;/a&gt;&lt;/div&gt;&#8990;
&lt;div class="floatright"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image" title="Caption"&gt;&lt;img alt="Caption" src="http://example.com/images/thumb/3/3a/Foobar.jpg/200px-Foobar.jpg" width="200" height="23" srcset="http://example.com/images/thumb/3/3a/Foobar.jpg/300px-Foobar.jpg 1.5x, http://example.com/images/thumb/3/3a/Foobar.jpg/400px-Foobar.jpg 2x" /&gt;&lt;/a&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:foobar.jpg" title="Image:foobar.jpg"&gt;200px|right|Caption&lt;/a&gt;&#8990;
&lt;a href="/wiki/Image:foobar.jpg" title="Image:foobar.jpg"&gt;right|200px|Caption&lt;/a&gt;&#8990;
&lt;a href="/wiki/Image:foobar.jpg" title="Image:foobar.jpg"&gt;right|Caption|200px&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">570</th>
<td class="status">fail</td>
<td class="description">Image with link parameter, wiki target</td>
<td class="input"><pre>[[Image:foobar.jpg|link=Target page]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/Target_page" title="Target page"&gt;&lt;img alt="Foobar.jpg" src="http://example.com/images/3/3a/Foobar.jpg" width="1941" height="220" /&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:foobar.jpg" title="Image:foobar.jpg"&gt;link=Target page&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">571</th>
<td class="status">fail</td>
<td class="description">Image with link parameter, URL target</td>
<td class="input"><pre>[[Image:foobar.jpg|link=http://example.com/]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="http://example.com/" rel="nofollow"&gt;&lt;img alt="Foobar.jpg" src="http://example.com/images/3/3a/Foobar.jpg" width="1941" height="220" /&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:foobar.jpg" title="Image:foobar.jpg"&gt;link=&lt;a rel="nofollow" class="external free" href="http://example.com/"&gt;http://example.com/&lt;/a&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">572</th>
<td class="status">fail</td>
<td class="description">Image with link parameter, wgExternalLinkTarget</td>
<td class="input"><pre>[[Image:foobar.jpg|link=http://example.com/]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="http://example.com/" target="foobar" rel="nofollow"&gt;&lt;img alt="Foobar.jpg" src="http://example.com/images/3/3a/Foobar.jpg" width="1941" height="220" /&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:foobar.jpg" title="Image:foobar.jpg"&gt;link=&lt;a rel="nofollow" class="external free" href="http://example.com/"&gt;http://example.com/&lt;/a&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">573</th>
<td class="status">fail</td>
<td class="description">Image with link parameter, wgNoFollowLinks set to false</td>
<td class="input"><pre>[[Image:foobar.jpg|link=http://example.com/]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="http://example.com/"&gt;&lt;img alt="Foobar.jpg" src="http://example.com/images/3/3a/Foobar.jpg" width="1941" height="220" /&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:foobar.jpg" title="Image:foobar.jpg"&gt;link=&lt;a rel="nofollow" class="external free" href="http://example.com/"&gt;http://example.com/&lt;/a&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">574</th>
<td class="status">fail</td>
<td class="description">Image with link parameter, wgNoFollowDomainExceptions</td>
<td class="input"><pre>[[Image:foobar.jpg|link=http://example.com/]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="http://example.com/"&gt;&lt;img alt="Foobar.jpg" src="http://example.com/images/3/3a/Foobar.jpg" width="1941" height="220" /&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:foobar.jpg" title="Image:foobar.jpg"&gt;link=&lt;a rel="nofollow" class="external free" href="http://example.com/"&gt;http://example.com/&lt;/a&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">575</th>
<td class="status">fail</td>
<td class="description">Image with link parameter, wgExternalLinkTarget, unnamed parameter</td>
<td class="input"><pre>[[Image:foobar.jpg|link=http://example.com/|Title]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="http://example.com/" title="Title" target="foobar" rel="nofollow"&gt;&lt;img alt="Title" src="http://example.com/images/3/3a/Foobar.jpg" width="1941" height="220" /&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:foobar.jpg" title="Image:foobar.jpg"&gt;link=&lt;a rel="nofollow" class="external free" href="http://example.com/|Title"&gt;http://example.com/|Title&lt;/a&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">576</th>
<td class="status">fail</td>
<td class="description">Image with empty link parameter</td>
<td class="input"><pre>[[Image:foobar.jpg|link=]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;img alt="Foobar.jpg" src="http://example.com/images/3/3a/Foobar.jpg" width="1941" height="220" /&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:foobar.jpg" title="Image:foobar.jpg"&gt;link=&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">577</th>
<td class="status">fail</td>
<td class="description">Image with link parameter (wiki target) and unnamed parameter</td>
<td class="input"><pre>[[Image:foobar.jpg|link=Target page|Title]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/Target_page" title="Title"&gt;&lt;img alt="Title" src="http://example.com/images/3/3a/Foobar.jpg" width="1941" height="220" /&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:foobar.jpg" title="Image:foobar.jpg"&gt;link=Target page|Title&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">578</th>
<td class="status">fail</td>
<td class="description">Image with link parameter (URL target) and unnamed parameter</td>
<td class="input"><pre>[[Image:foobar.jpg|link=http://example.com/|Title]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="http://example.com/" title="Title" rel="nofollow"&gt;&lt;img alt="Title" src="http://example.com/images/3/3a/Foobar.jpg" width="1941" height="220" /&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:foobar.jpg" title="Image:foobar.jpg"&gt;link=&lt;a rel="nofollow" class="external free" href="http://example.com/|Title"&gt;http://example.com/|Title&lt;/a&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">579</th>
<td class="status">fail</td>
<td class="description">Thumbnail image with link parameter<ul><li>php</li></ul>
</td>
<td class="input"><pre>[[Image:foobar.jpg|thumb|link=http://example.com/|Title]]</pre></td>
<td class="expect"><pre>&lt;div class="thumb tright"&gt;&lt;div class="thumbinner" style="width:182px;"&gt;&lt;a href="http://example.com/"&gt;&lt;img alt="" src="http://example.com/images/thumb/3/3a/Foobar.jpg/180px-Foobar.jpg" width="180" height="20" class="thumbimage" srcset="http://example.com/images/thumb/3/3a/Foobar.jpg/270px-Foobar.jpg 1.5x, http://example.com/images/thumb/3/3a/Foobar.jpg/360px-Foobar.jpg 2x" /&gt;&lt;/a&gt;  &lt;div class="thumbcaption"&gt;&lt;div class="magnify"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="internal" title="Enlarge"&gt;&lt;img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /&gt;&lt;/a&gt;&lt;/div&gt;Title&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:foobar.jpg" title="Image:foobar.jpg"&gt;thumb|link=&lt;a rel="nofollow" class="external free" href="http://example.com/|Title"&gt;http://example.com/|Title&lt;/a&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">580</th>
<td class="status">fail</td>
<td class="description">Manually-specified thumbnail image<ul><li>php</li></ul>
</td>
<td class="input"><pre>[[Image:Foobar.jpg|thumb=Thumb.png|Title]]</pre></td>
<td class="expect"><pre>&lt;div class="thumb tright"&gt;&lt;div class="thumbinner" style="width:137px;"&gt;&lt;a href="/wiki/File:Foobar.jpg"&gt;&lt;img alt="" src="http://example.com/images/e/ea/Thumb.png" width="135" height="135" class="thumbimage" /&gt;&lt;/a&gt;  &lt;div class="thumbcaption"&gt;&lt;div class="magnify"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="internal" title="Enlarge"&gt;&lt;img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /&gt;&lt;/a&gt;&lt;/div&gt;Title&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:Foobar.jpg" title="Image:Foobar.jpg"&gt;thumb=Thumb.png|Title&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">581</th>
<td class="status">fail</td>
<td class="description">Manually-specified thumbnail image with explicit link to wiki page<ul><li>php</li></ul>
</td>
<td class="input"><pre>[[Image:Foobar.jpg|thumb=Thumb.png|link=Main Page|Title]]</pre></td>
<td class="expect"><pre>&lt;div class="thumb tright"&gt;&lt;div class="thumbinner" style="width:137px;"&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;&lt;img alt="" src="http://example.com/images/e/ea/Thumb.png" width="135" height="135" class="thumbimage" /&gt;&lt;/a&gt;  &lt;div class="thumbcaption"&gt;&lt;div class="magnify"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="internal" title="Enlarge"&gt;&lt;img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /&gt;&lt;/a&gt;&lt;/div&gt;Title&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:Foobar.jpg" title="Image:Foobar.jpg"&gt;thumb=Thumb.png|link=Main Page|Title&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">582</th>
<td class="status">fail</td>
<td class="description">Manually-specified thumbnail image with explicit link to url<ul><li>php</li></ul>
</td>
<td class="input"><pre>[[Image:Foobar.jpg|thumb=Thumb.png|link=http://example.com|Title]]</pre></td>
<td class="expect"><pre>&lt;div class="thumb tright"&gt;&lt;div class="thumbinner" style="width:137px;"&gt;&lt;a href="http://example.com"&gt;&lt;img alt="" src="http://example.com/images/e/ea/Thumb.png" width="135" height="135" class="thumbimage" /&gt;&lt;/a&gt;  &lt;div class="thumbcaption"&gt;&lt;div class="magnify"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="internal" title="Enlarge"&gt;&lt;img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /&gt;&lt;/a&gt;&lt;/div&gt;Title&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:Foobar.jpg" title="Image:Foobar.jpg"&gt;thumb=Thumb.png|link=&lt;a rel="nofollow" class="external free" href="http://example.com|Title"&gt;http://example.com|Title&lt;/a&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">583</th>
<td class="status">fail</td>
<td class="description">Manually-specified thumbnail image with explicit no link<ul><li>php</li></ul>
</td>
<td class="input"><pre>[[Image:Foobar.jpg|thumb=Thumb.png|link=|Title]]</pre></td>
<td class="expect"><pre>&lt;div class="thumb tright"&gt;&lt;div class="thumbinner" style="width:137px;"&gt;&lt;img alt="" src="http://example.com/images/e/ea/Thumb.png" width="135" height="135" class="thumbimage" /&gt;  &lt;div class="thumbcaption"&gt;&lt;div class="magnify"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="internal" title="Enlarge"&gt;&lt;img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /&gt;&lt;/a&gt;&lt;/div&gt;Title&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:Foobar.jpg" title="Image:Foobar.jpg"&gt;thumb=Thumb.png|link=|Title&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">584</th>
<td class="status">fail</td>
<td class="description">Manually-specified thumbnail image with explicit link and alt text<ul><li>php</li></ul>
</td>
<td class="input"><pre>[[Image:Foobar.jpg|thumb=Thumb.png|link=Main Page|alt=alttext|Title]]</pre></td>
<td class="expect"><pre>&lt;div class="thumb tright"&gt;&lt;div class="thumbinner" style="width:137px;"&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;&lt;img alt="alttext" src="http://example.com/images/e/ea/Thumb.png" width="135" height="135" class="thumbimage" /&gt;&lt;/a&gt;  &lt;div class="thumbcaption"&gt;&lt;div class="magnify"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="internal" title="Enlarge"&gt;&lt;img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /&gt;&lt;/a&gt;&lt;/div&gt;Title&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:Foobar.jpg" title="Image:Foobar.jpg"&gt;thumb=Thumb.png|link=Main Page|alt=alttext|Title&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">585</th>
<td class="status">fail</td>
<td class="description">Image with frame and link</td>
<td class="input"><pre>[[Image:Foobar.jpg|frame|left|This is a test image [[Main Page]]]]</pre></td>
<td class="expect"><pre>&lt;div class="thumb tleft"&gt;&lt;div class="thumbinner" style="width:1943px;"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image"&gt;&lt;img alt="" src="http://example.com/images/3/3a/Foobar.jpg" width="1941" height="220" class="thumbimage" /&gt;&lt;/a&gt;  &lt;div class="thumbcaption"&gt;This is a test image &lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:Foobar.jpg" title="Image:Foobar.jpg"&gt;frame|left|This is a test image &lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">586</th>
<td class="status">fail</td>
<td class="description">Image with frame and link and explicit alt</td>
<td class="input"><pre>[[Image:Foobar.jpg|frame|left|This is a test image [[Main Page]]|alt=Altitude]]</pre></td>
<td class="expect"><pre>&lt;div class="thumb tleft"&gt;&lt;div class="thumbinner" style="width:1943px;"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image"&gt;&lt;img alt="Altitude" src="http://example.com/images/3/3a/Foobar.jpg" width="1941" height="220" class="thumbimage" /&gt;&lt;/a&gt;  &lt;div class="thumbcaption"&gt;This is a test image &lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:Foobar.jpg" title="Image:Foobar.jpg"&gt;frame|left|This is a test image &lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt;|alt=Altitude&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">587</th>
<td class="status">fail</td>
<td class="description">Image with wiki markup in implicit alt</td>
<td class="input"><pre>[[Image:Foobar.jpg|testing '''bold''' in alt]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image" title="testing bold in alt"&gt;&lt;img alt="testing bold in alt" src="http://example.com/images/3/3a/Foobar.jpg" width="1941" height="220" /&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:Foobar.jpg" title="Image:Foobar.jpg"&gt;testing &lt;b&gt;bold&lt;/b&gt; in alt&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">588</th>
<td class="status">fail</td>
<td class="description">Image with wiki markup in explicit alt</td>
<td class="input"><pre>[[Image:Foobar.jpg|alt=testing '''bold''' in alt]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image"&gt;&lt;img alt="testing bold in alt" src="http://example.com/images/3/3a/Foobar.jpg" width="1941" height="220" /&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:Foobar.jpg" title="Image:Foobar.jpg"&gt;alt=testing &lt;b&gt;bold&lt;/b&gt; in alt&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">589</th>
<td class="status">fail</td>
<td class="description">Link to image page- image page normally doesn't exists, hence edit link
Add test with existing image page
#&lt;p&gt;&lt;a href="/wiki/File:Test" title="Image:Test"&gt;Image:test&lt;/a&gt;</td>
<td class="input"><pre>[[:Image:test]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/index.php?title=File:Test&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="File:Test (page does not exist)"&gt;Image:test&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/:Image:test" title=":Image:test"&gt;:Image:test&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">590</th>
<td class="status">fail</td>
<td class="description">bug 18784  Link to non-existent image page with caption should use caption as link text</td>
<td class="input"><pre>[[:Image:test|caption]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/index.php?title=File:Test&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="File:Test (page does not exist)"&gt;caption&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/:Image:test" title=":Image:test"&gt;caption&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">591</th>
<td class="status">fail</td>
<td class="description">Frameless image caption with a free URL</td>
<td class="input"><pre>[[Image:foobar.jpg|http://example.com]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image" title="http://example.com"&gt;&lt;img alt="http://example.com" src="http://example.com/images/3/3a/Foobar.jpg" width="1941" height="220" /&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:foobar.jpg" title="Image:foobar.jpg"&gt;&lt;a rel="nofollow" class="external free" href="http://example.com"&gt;http://example.com&lt;/a&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">592</th>
<td class="status">fail</td>
<td class="description">Thumbnail image caption with a free URL</td>
<td class="input"><pre>[[Image:foobar.jpg|thumb|http://example.com]]</pre></td>
<td class="expect"><pre>&lt;div class="thumb tright"&gt;&lt;div class="thumbinner" style="width:182px;"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image"&gt;&lt;img alt="" src="http://example.com/images/thumb/3/3a/Foobar.jpg/180px-Foobar.jpg" width="180" height="20" class="thumbimage" srcset="http://example.com/images/thumb/3/3a/Foobar.jpg/270px-Foobar.jpg 1.5x, http://example.com/images/thumb/3/3a/Foobar.jpg/360px-Foobar.jpg 2x" /&gt;&lt;/a&gt;  &lt;div class="thumbcaption"&gt;&lt;div class="magnify"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="internal" title="Enlarge"&gt;&lt;img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;a rel="nofollow" class="external free" href="http://example.com"&gt;http://example.com&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:foobar.jpg" title="Image:foobar.jpg"&gt;thumb|&lt;a rel="nofollow" class="external free" href="http://example.com"&gt;http://example.com&lt;/a&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">593</th>
<td class="status">fail</td>
<td class="description">Thumbnail image caption with a free URL and explicit alt</td>
<td class="input"><pre>[[Image:foobar.jpg|thumb|http://example.com|alt=Alteration]]</pre></td>
<td class="expect"><pre>&lt;div class="thumb tright"&gt;&lt;div class="thumbinner" style="width:182px;"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image"&gt;&lt;img alt="Alteration" src="http://example.com/images/thumb/3/3a/Foobar.jpg/180px-Foobar.jpg" width="180" height="20" class="thumbimage" srcset="http://example.com/images/thumb/3/3a/Foobar.jpg/270px-Foobar.jpg 1.5x, http://example.com/images/thumb/3/3a/Foobar.jpg/360px-Foobar.jpg 2x" /&gt;&lt;/a&gt;  &lt;div class="thumbcaption"&gt;&lt;div class="magnify"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="internal" title="Enlarge"&gt;&lt;img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;a rel="nofollow" class="external free" href="http://example.com"&gt;http://example.com&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:foobar.jpg" title="Image:foobar.jpg"&gt;thumb|&lt;a rel="nofollow" class="external free" href="http://example.com|alt=Alteration"&gt;http://example.com|alt=Alteration&lt;/a&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">594</th>
<td class="status">fail</td>
<td class="description">SVG thumbnails with no language set</td>
<td class="input"><pre>[[File:Foobar.svg|thumb|width=200]]</pre></td>
<td class="expect"><pre>&lt;div class="thumb tright"&gt;&lt;div class="thumbinner" style="width:182px;"&gt;&lt;a href="/wiki/File:Foobar.svg" class="image"&gt;&lt;img alt="" src="http://example.com/images/thumb/f/ff/Foobar.svg/180px-Foobar.svg.png" width="180" height="180" class="thumbimage" srcset="http://example.com/images/thumb/f/ff/Foobar.svg/270px-Foobar.svg.png 1.5x, http://example.com/images/thumb/f/ff/Foobar.svg/360px-Foobar.svg.png 2x" /&gt;&lt;/a&gt;  &lt;div class="thumbcaption"&gt;&lt;div class="magnify"&gt;&lt;a href="/wiki/File:Foobar.svg" class="internal" title="Enlarge"&gt;&lt;img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /&gt;&lt;/a&gt;&lt;/div&gt;width=200&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/File:Foobar.svg" title="File:Foobar.svg"&gt;thumb|width=200&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">595</th>
<td class="status">fail</td>
<td class="description">SVG thumbnails with language de</td>
<td class="input"><pre>[[File:Foobar.svg|thumb|width=200|lang=de]]</pre></td>
<td class="expect"><pre>&lt;div class="thumb tright"&gt;&lt;div class="thumbinner" style="width:182px;"&gt;&lt;a href="/index.php?title=File:Foobar.svg&amp;amp;lang=de" class="image"&gt;&lt;img alt="" src="http://example.com/images/thumb/f/ff/Foobar.svg/langde-180px-Foobar.svg.png" width="180" height="180" class="thumbimage" srcset="http://example.com/images/thumb/f/ff/Foobar.svg/langde-270px-Foobar.svg.png 1.5x, http://example.com/images/thumb/f/ff/Foobar.svg/langde-360px-Foobar.svg.png 2x" /&gt;&lt;/a&gt;  &lt;div class="thumbcaption"&gt;&lt;div class="magnify"&gt;&lt;a href="/wiki/File:Foobar.svg" class="internal" title="Enlarge"&gt;&lt;img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /&gt;&lt;/a&gt;&lt;/div&gt;width=200&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/File:Foobar.svg" title="File:Foobar.svg"&gt;thumb|width=200|lang=de&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">596</th>
<td class="status">fail</td>
<td class="description">SVG thumbnails with invalid language code</td>
<td class="input"><pre>[[File:Foobar.svg|thumb|width=200|lang=invalid.language.code]]</pre></td>
<td class="expect"><pre>&lt;div class="thumb tright"&gt;&lt;div class="thumbinner" style="width:182px;"&gt;&lt;a href="/wiki/File:Foobar.svg" class="image"&gt;&lt;img alt="" src="http://example.com/images/thumb/f/ff/Foobar.svg/180px-Foobar.svg.png" width="180" height="180" class="thumbimage" srcset="http://example.com/images/thumb/f/ff/Foobar.svg/270px-Foobar.svg.png 1.5x, http://example.com/images/thumb/f/ff/Foobar.svg/360px-Foobar.svg.png 2x" /&gt;&lt;/a&gt;  &lt;div class="thumbcaption"&gt;&lt;div class="magnify"&gt;&lt;a href="/wiki/File:Foobar.svg" class="internal" title="Enlarge"&gt;&lt;img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /&gt;&lt;/a&gt;&lt;/div&gt;lang=invalid.language.code&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/File:Foobar.svg" title="File:Foobar.svg"&gt;thumb|width=200|lang=invalid.language.code&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">597</th>
<td class="status">fail</td>
<td class="description">BUG 1887: A ISBN with a thumbnail</td>
<td class="input"><pre>[[Image:foobar.jpg|thumb|ISBN 1235467890]]</pre></td>
<td class="expect"><pre>&lt;div class="thumb tright"&gt;&lt;div class="thumbinner" style="width:182px;"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image"&gt;&lt;img alt="" src="http://example.com/images/thumb/3/3a/Foobar.jpg/180px-Foobar.jpg" width="180" height="20" class="thumbimage" srcset="http://example.com/images/thumb/3/3a/Foobar.jpg/270px-Foobar.jpg 1.5x, http://example.com/images/thumb/3/3a/Foobar.jpg/360px-Foobar.jpg 2x" /&gt;&lt;/a&gt;  &lt;div class="thumbcaption"&gt;&lt;div class="magnify"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="internal" title="Enlarge"&gt;&lt;img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;a href="/wiki/Special:BookSources/1235467890" class="internal mw-magiclink-isbn"&gt;ISBN 1235467890&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:foobar.jpg" title="Image:foobar.jpg"&gt;thumb|ISBN 1235467890&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">598</th>
<td class="status">fail</td>
<td class="description">BUG 1887: A RFC with a thumbnail</td>
<td class="input"><pre>[[Image:foobar.jpg|thumb|This is RFC 12354]]</pre></td>
<td class="expect"><pre>&lt;div class="thumb tright"&gt;&lt;div class="thumbinner" style="width:182px;"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image"&gt;&lt;img alt="" src="http://example.com/images/thumb/3/3a/Foobar.jpg/180px-Foobar.jpg" width="180" height="20" class="thumbimage" srcset="http://example.com/images/thumb/3/3a/Foobar.jpg/270px-Foobar.jpg 1.5x, http://example.com/images/thumb/3/3a/Foobar.jpg/360px-Foobar.jpg 2x" /&gt;&lt;/a&gt;  &lt;div class="thumbcaption"&gt;&lt;div class="magnify"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="internal" title="Enlarge"&gt;&lt;img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /&gt;&lt;/a&gt;&lt;/div&gt;This is &lt;a class="external mw-magiclink-rfc" rel="nofollow" href="//tools.ietf.org/html/rfc12354"&gt;RFC 12354&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:foobar.jpg" title="Image:foobar.jpg"&gt;thumb|This is RFC 12354&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">599</th>
<td class="status">fail</td>
<td class="description">BUG 1887: A mailto link with a thumbnail</td>
<td class="input"><pre>[[Image:foobar.jpg|thumb|Please mailto:nobody@example.com]]</pre></td>
<td class="expect"><pre>&lt;div class="thumb tright"&gt;&lt;div class="thumbinner" style="width:182px;"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image"&gt;&lt;img alt="" src="http://example.com/images/thumb/3/3a/Foobar.jpg/180px-Foobar.jpg" width="180" height="20" class="thumbimage" srcset="http://example.com/images/thumb/3/3a/Foobar.jpg/270px-Foobar.jpg 1.5x, http://example.com/images/thumb/3/3a/Foobar.jpg/360px-Foobar.jpg 2x" /&gt;&lt;/a&gt;  &lt;div class="thumbcaption"&gt;&lt;div class="magnify"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="internal" title="Enlarge"&gt;&lt;img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /&gt;&lt;/a&gt;&lt;/div&gt;Please &lt;a rel="nofollow" class="external free" href="mailto:nobody@example.com"&gt;mailto:nobody@example.com&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:foobar.jpg" title="Image:foobar.jpg"&gt;thumb|Please &lt;a rel="nofollow" class="external free" href="mailto:nobody@example.com"&gt;mailto:nobody@example.com&lt;/a&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">600</th>
<td class="status">fail</td>
<td class="description">BUG 648: Frameless image caption with a link</td>
<td class="input"><pre>[[Image:foobar.jpg|text with a [[link]] in it]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image" title="text with a link in it"&gt;&lt;img alt="text with a link in it" src="http://example.com/images/3/3a/Foobar.jpg" width="1941" height="220" /&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:foobar.jpg" title="Image:foobar.jpg"&gt;text with a &lt;a href="/wiki/link" title="link"&gt;link&lt;/a&gt; in it&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">601</th>
<td class="status">fail</td>
<td class="description">BUG 648: Frameless image caption with a link (suffix)</td>
<td class="input"><pre>[[Image:foobar.jpg|text with a [[link]]foo in it]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image" title="text with a linkfoo in it"&gt;&lt;img alt="text with a linkfoo in it" src="http://example.com/images/3/3a/Foobar.jpg" width="1941" height="220" /&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:foobar.jpg" title="Image:foobar.jpg"&gt;text with a &lt;a href="/wiki/link" title="link"&gt;linkfoo&lt;/a&gt; in it&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">602</th>
<td class="status">fail</td>
<td class="description">BUG 648: Frameless image caption with an interwiki link</td>
<td class="input"><pre>[[Image:foobar.jpg|text with a [[MeatBall:Link]] in it]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image" title="text with a MeatBall:Link in it"&gt;&lt;img alt="text with a MeatBall:Link in it" src="http://example.com/images/3/3a/Foobar.jpg" width="1941" height="220" /&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:foobar.jpg" title="Image:foobar.jpg"&gt;text with a &lt;a href="/wiki/MeatBall:Link" title="MeatBall:Link"&gt;MeatBall:Link&lt;/a&gt; in it&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">603</th>
<td class="status">fail</td>
<td class="description">BUG 648: Frameless image caption with a piped interwiki link</td>
<td class="input"><pre>[[Image:foobar.jpg|text with a [[MeatBall:Link|link]] in it]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image" title="text with a link in it"&gt;&lt;img alt="text with a link in it" src="http://example.com/images/3/3a/Foobar.jpg" width="1941" height="220" /&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:foobar.jpg" title="Image:foobar.jpg"&gt;text with a &lt;a href="/wiki/MeatBall:Link" title="MeatBall:Link"&gt;link&lt;/a&gt; in it&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">604</th>
<td class="status">fail</td>
<td class="description">Escape HTML special chars in image alt text</td>
<td class="input"><pre>[[Image:foobar.jpg|&amp; &lt; &gt; "]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image" title="&amp;amp; &amp;lt; &amp;gt; &amp;quot;"&gt;&lt;img alt="&amp;amp; &amp;lt; &amp;gt; &amp;quot;" src="http://example.com/images/3/3a/Foobar.jpg" width="1941" height="220" /&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:foobar.jpg" title="Image:foobar.jpg"&gt;&amp;amp; &amp;lt; &amp;gt; "&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">605</th>
<td class="status">fail</td>
<td class="description">BUG 499: Alt text should have &amp;#1234;, not &amp;amp;1234;</td>
<td class="input"><pre>[[Image:foobar.jpg|&amp;#9792;]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image" title="&#9792;"&gt;&lt;img alt="&#9792;" src="http://example.com/images/3/3a/Foobar.jpg" width="1941" height="220" /&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:foobar.jpg" title="Image:foobar.jpg"&gt;&amp;#9792;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">606</th>
<td class="status">pass</td>
<td class="description">Broken image caption with link</td>
<td class="input"><pre>[[Image:Foobar.jpg|thumb|This is a broken caption. But [[Main Page|this]] is just an ordinary link.</pre></td>
<td class="expect"><pre>&lt;p&gt;[[Image:Foobar.jpg|thumb|This is a broken caption. But &lt;a href="/wiki/Main_Page" title="Main Page"&gt;this&lt;/a&gt; is just an ordinary link.&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;[[Image:Foobar.jpg|thumb|This is a broken caption. But &lt;a href="/wiki/Main_Page" title="Main Page"&gt;this&lt;/a&gt; is just an ordinary link.&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">607</th>
<td class="status">fail</td>
<td class="description">Image caption containing another image</td>
<td class="input"><pre>[[Image:Foobar.jpg|thumb|This is a caption with another [[Image:icon.png|image]] inside it!]]</pre></td>
<td class="expect"><pre>&lt;div class="thumb tright"&gt;&lt;div class="thumbinner" style="width:182px;"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image"&gt;&lt;img alt="" src="http://example.com/images/thumb/3/3a/Foobar.jpg/180px-Foobar.jpg" width="180" height="20" class="thumbimage" srcset="http://example.com/images/thumb/3/3a/Foobar.jpg/270px-Foobar.jpg 1.5x, http://example.com/images/thumb/3/3a/Foobar.jpg/360px-Foobar.jpg 2x" /&gt;&lt;/a&gt;  &lt;div class="thumbcaption"&gt;&lt;div class="magnify"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="internal" title="Enlarge"&gt;&lt;img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /&gt;&lt;/a&gt;&lt;/div&gt;This is a caption with another &lt;a href="/index.php?title=Special:Upload&amp;amp;wpDestFile=Icon.png" class="new" title="File:Icon.png"&gt;image&lt;/a&gt; inside it!&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:Foobar.jpg" title="Image:Foobar.jpg"&gt;thumb|This is a caption with another &lt;a href="/wiki/Image:icon.png" title="Image:icon.png"&gt;image&lt;/a&gt; inside it!&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">608</th>
<td class="status">fail</td>
<td class="description">Image caption containing a newline</td>
<td class="input"><pre>[[Image:Foobar.jpg|This&#8990;
*is some text]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image" title="This *is some text"&gt;&lt;img alt="This *is some text" src="http://example.com/images/3/3a/Foobar.jpg" width="1941" height="220" /&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:Foobar.jpg" title="Image:Foobar.jpg"&gt;This&#8990;
*is some text&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">609</th>
<td class="status">fail</td>
<td class="description">Parsoid: Image caption containing leading space
(The leading space should not trigger nowiki escaping in wt2wt mode)</td>
<td class="input"><pre>[[Image:Foobar.jpg|thumb| bar]]</pre></td>
<td class="expect"><pre>&lt;div class="thumb tright"&gt;&lt;div class="thumbinner" style="width:182px;"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image"&gt;&lt;img alt="" src="http://example.com/images/thumb/3/3a/Foobar.jpg/180px-Foobar.jpg" width="180" height="20" class="thumbimage" srcset="http://example.com/images/thumb/3/3a/Foobar.jpg/270px-Foobar.jpg 1.5x, http://example.com/images/thumb/3/3a/Foobar.jpg/360px-Foobar.jpg 2x" /&gt;&lt;/a&gt;  &lt;div class="thumbcaption"&gt;&lt;div class="magnify"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="internal" title="Enlarge"&gt;&lt;img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /&gt;&lt;/a&gt;&lt;/div&gt;bar&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:Foobar.jpg" title="Image:Foobar.jpg"&gt;thumb| bar&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">610</th>
<td class="status">fail</td>
<td class="description">Bug 3090: External links other than http: in image captions</td>
<td class="input"><pre>[[Image:Foobar.jpg|thumb|200px|This caption has [irc://example.net irc] and [https://example.com Secure] ext links in it.]]</pre></td>
<td class="expect"><pre>&lt;div class="thumb tright"&gt;&lt;div class="thumbinner" style="width:202px;"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image"&gt;&lt;img alt="" src="http://example.com/images/thumb/3/3a/Foobar.jpg/200px-Foobar.jpg" width="200" height="23" class="thumbimage" srcset="http://example.com/images/thumb/3/3a/Foobar.jpg/300px-Foobar.jpg 1.5x, http://example.com/images/thumb/3/3a/Foobar.jpg/400px-Foobar.jpg 2x" /&gt;&lt;/a&gt;  &lt;div class="thumbcaption"&gt;&lt;div class="magnify"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="internal" title="Enlarge"&gt;&lt;img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /&gt;&lt;/a&gt;&lt;/div&gt;This caption has &lt;a rel="nofollow" class="external text" href="irc://example.net"&gt;irc&lt;/a&gt; and &lt;a rel="nofollow" class="external text" href="https://example.com"&gt;Secure&lt;/a&gt; ext links in it.&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:Foobar.jpg" title="Image:Foobar.jpg"&gt;thumb|200px|This caption has &lt;a rel="nofollow" class="external text" href="irc://example.net"&gt;irc&lt;/a&gt; and &lt;a rel="nofollow" class="external text" href="https://example.com"&gt;Secure&lt;/a&gt; ext links in it.&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">611</th>
<td class="status">fail</td>
<td class="description">Custom class</td>
<td class="input"><pre>[[Image:foobar.jpg|a|class=b]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image" title="a"&gt;&lt;img alt="a" src="http://example.com/images/3/3a/Foobar.jpg" width="1941" height="220" class="b" /&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:foobar.jpg" title="Image:foobar.jpg"&gt;a|class=b&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">612</th>
<td class="status">fail</td>
<td class="description">Localized image handling (1).<ul><li>language: es</li></ul>
</td>
<td class="input"><pre>[[Archivo:Foobar.jpg|izquierda|enlace=foo|caption]]</pre></td>
<td class="expect"><pre>&lt;div class="floatleft"&gt;&lt;a href="/wiki/Foo" title="caption"&gt;&lt;img alt="caption" src="http://example.com/images/3/3a/Foobar.jpg" width="1941" height="220" /&gt;&lt;/a&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Archivo:Foobar.jpg" title="Archivo:Foobar.jpg"&gt;izquierda|enlace=foo|caption&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">613</th>
<td class="status">fail</td>
<td class="description">Localized image handling (2).<ul><li>language: es</li></ul>
</td>
<td class="input"><pre>[[Archivo:Foobar.jpg|miniatura|izquierda|enlace=foo|caption]]</pre></td>
<td class="expect"><pre>&lt;div class="thumb tleft"&gt;&lt;div class="thumbinner" style="width:182px;"&gt;&lt;a href="/wiki/Foo" title="Foo"&gt;&lt;img alt="" src="http://example.com/images/thumb/3/3a/Foobar.jpg/180px-Foobar.jpg" width="180" height="20" class="thumbimage" srcset="http://example.com/images/thumb/3/3a/Foobar.jpg/270px-Foobar.jpg 1.5x, http://example.com/images/thumb/3/3a/Foobar.jpg/360px-Foobar.jpg 2x" /&gt;&lt;/a&gt;  &lt;div class="thumbcaption"&gt;&lt;div class="magnify"&gt;&lt;a href="/wiki/Archivo:Foobar.jpg" class="internal" title="Aumentar"&gt;&lt;img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /&gt;&lt;/a&gt;&lt;/div&gt;caption&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Archivo:Foobar.jpg" title="Archivo:Foobar.jpg"&gt;miniatura|izquierda|enlace=foo|caption&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">614</th>
<td class="status">fail</td>
<td class="description">"border", "frameless" and "class" attributes on an image.</td>
<td class="input"><pre>[[File:Foobar.jpg|frameless|border|class=extra|caption]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image" title="caption"&gt;&lt;img alt="caption" src="http://example.com/images/thumb/3/3a/Foobar.jpg/180px-Foobar.jpg" width="180" height="20" class="extra thumbborder" srcset="http://example.com/images/thumb/3/3a/Foobar.jpg/270px-Foobar.jpg 1.5x, http://example.com/images/thumb/3/3a/Foobar.jpg/360px-Foobar.jpg 2x" /&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/File:Foobar.jpg" title="File:Foobar.jpg"&gt;frameless|border|class=extra|caption&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">615</th>
<td class="status">fail</td>
<td class="description">Redirected image</td>
<td class="input"><pre>[[Image:Barfoo.jpg]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/File:Barfoo.jpg" title="File:Barfoo.jpg"&gt;File:Barfoo.jpg&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:Barfoo.jpg" title="Image:Barfoo.jpg"&gt;Image:Barfoo.jpg&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">616</th>
<td class="status">fail</td>
<td class="description">Missing image with uploads disabled<ul><li>wgenableuploads: 0</li></ul>
</td>
<td class="input"><pre>[[Image:Foobaz.jpg]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/File:Foobaz.jpg" title="File:Foobaz.jpg"&gt;File:Foobaz.jpg&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:Foobaz.jpg" title="Image:Foobaz.jpg"&gt;Image:Foobaz.jpg&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">617</th>
<td class="status">fail</td>
<td class="description">Parsoid-specific image handling - simple image<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>[[Image:Foobar.jpg]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&#8990;
&lt;span class="mw-default-size" typeof="mw:Image"&gt;&#8990;
&lt;a href="File:Foobar.jpg"&gt;&#8990;
&lt;img resource="./File:Foobar.jpg" src="//upload.wikimedia.org/wikipedia/commons/3/3a/Foobar.jpg" height="220" width="1941"&gt;&#8990;
&lt;/a&gt;&#8990;
&lt;/span&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:Foobar.jpg" title="Image:Foobar.jpg"&gt;Image:Foobar.jpg&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">618</th>
<td class="status">fail</td>
<td class="description">Parsoid-specific image handling - simple image without link<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>[[Image:Foobar.jpg|link=]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&#8990;
&lt;span class="mw-default-size" typeof="mw:Image"&gt;&#8990;
&lt;span&gt;&#8990;
&lt;img resource="./File:Foobar.jpg" src="//upload.wikimedia.org/wikipedia/commons/3/3a/Foobar.jpg" height="220" width="1941"&gt;&#8990;
&lt;/span&gt;&#8990;
&lt;/span&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:Foobar.jpg" title="Image:Foobar.jpg"&gt;link=&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">619</th>
<td class="status">fail</td>
<td class="description">Parsoid-specific image handling - simple image with specific link<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>[[Image:Foobar.jpg|link=Main Page]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&#8990;
&lt;span class="mw-default-size" typeof="mw:Image"&gt;&#8990;
&lt;a href="Main_Page"&gt;&#8990;
&lt;img resource="./File:Foobar.jpg" src="//upload.wikimedia.org/wikipedia/commons/3/3a/Foobar.jpg" height="220" width="1941"&gt;&#8990;
&lt;/a&gt;&#8990;
&lt;/span&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:Foobar.jpg" title="Image:Foobar.jpg"&gt;link=Main Page&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">620</th>
<td class="status">fail</td>
<td class="description">Parsoid-specific image handling - simple image with size and middle alignment<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>[[Image:Foobar.jpg|50px|middle]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&#8990;
&lt;span class="mw-valign-middle" typeof="mw:Image"&gt;&#8990;
&lt;a href="File:Foobar.jpg"&gt;&#8990;
&lt;img resource="./File:Foobar.jpg" src="//upload.wikimedia.org/wikipedia/commons/3/3a/Foobar.jpg/50px-Foobar.jpg" height="6" width="50"&gt;&#8990;
&lt;/a&gt;&#8990;
&lt;/span&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:Foobar.jpg" title="Image:Foobar.jpg"&gt;50px|middle&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">621</th>
<td class="status">fail</td>
<td class="description">Parsoid-specific image handling - simple image with both sizes, a baseline alignment, and a caption<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>[[Image:Foobar.jpg|500x10px|baseline|caption]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&#8990;
&lt;span class="mw-valign-baseline" typeof="mw:Image" data-mw="{&amp;quot;caption&amp;quot;:&amp;quot;caption&amp;quot;}"&gt;&#8990;
&lt;a href="File:Foobar.jpg"&gt;&#8990;
&lt;img resource="./File:Foobar.jpg" src="//upload.wikimedia.org/wikipedia/commons/3/3a/Foobar.jpg/89px-Foobar.jpg" height="10" width="89"&gt;&#8990;
&lt;/a&gt;&#8990;
&lt;/span&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:Foobar.jpg" title="Image:Foobar.jpg"&gt;500x10px|baseline|caption&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">622</th>
<td class="status">fail</td>
<td class="description">Parsoid-specific image handling - simple image with border and size spec<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>[[Image:Foobar.jpg|50px|border|caption]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&#8990;
&lt;span class="mw-image-border" typeof="mw:Image" data-mw="{&amp;quot;caption&amp;quot;:&amp;quot;caption&amp;quot;}"&gt;&#8990;
&lt;a href="File:Foobar.jpg"&gt;&#8990;
&lt;img resource="./File:Foobar.jpg" src="//upload.wikimedia.org/wikipedia/commons/3/3a/Foobar.jpg/50px-Foobar.jpg" height="6" width="50"&gt;&#8990;
&lt;/a&gt;&#8990;
&lt;/span&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:Foobar.jpg" title="Image:Foobar.jpg"&gt;50px|border|caption&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">623</th>
<td class="status">fail</td>
<td class="description">Parsoid-specific image handling - thumbnail with halign, valign, and caption<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>[[Image:Foobar.jpg|thumb|left|baseline|caption content]]</pre></td>
<td class="expect"><pre>&lt;figure class="mw-default-size mw-halign-left mw-valign-baseline" typeof="mw:Image/Thumb"&gt;&#8990;
&lt;a href="File:Foobar.jpg"&gt;&#8990;
&lt;img resource="./File:Foobar.jpg" src="//upload.wikimedia.org/wikipedia/commons/3/3a/Foobar.jpg/180px-Foobar.jpg" height="21" width="180" /&gt;&#8990;
&lt;/a&gt;&#8990;
&lt;figcaption&gt;caption content&lt;/figcaption&gt;&#8990;
&lt;/figure&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:Foobar.jpg" title="Image:Foobar.jpg"&gt;thumb|left|baseline|caption content&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">624</th>
<td class="status">fail</td>
<td class="description">Parsoid-specific image handling - thumbnail with specific size, halign, valign, and caption<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>[[Image:Foobar.jpg|thumb|50x50px|right|middle|caption]]</pre></td>
<td class="expect"><pre>&lt;figure class="mw-halign-right mw-valign-middle" typeof="mw:Image/Thumb"&gt;&#8990;
&lt;a href="File:Foobar.jpg"&gt;&#8990;
&lt;img resource="./File:Foobar.jpg" src="//upload.wikimedia.org/wikipedia/commons/3/3a/Foobar.jpg/50px-Foobar.jpg" height="6" width="50" /&gt;&#8990;
&lt;/a&gt;&#8990;
&lt;figcaption&gt;caption&lt;/figcaption&gt;&#8990;
&lt;/figure&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:Foobar.jpg" title="Image:Foobar.jpg"&gt;thumb|50x50px|right|middle|caption&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">625</th>
<td class="status">fail</td>
<td class="description">Parsoid-specific image handling - framed image with specific size and caption<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>[[Image:Foobar.jpg|500x50px|frame|caption]]</pre></td>
<td class="expect"><pre>&lt;figure typeof="mw:Image/Frame"&gt;&#8990;
&lt;a href="File:Foobar.jpg"&gt;&#8990;
&lt;img resource="./File:Foobar.jpg" src="//upload.wikimedia.org/wikipedia/commons/3/3a/Foobar.jpg/442px-Foobar.jpg" height="50" width="442" /&gt;&#8990;
&lt;/a&gt;&#8990;
&lt;figcaption&gt;caption&lt;/figcaption&gt;&#8990;
&lt;/figure&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:Foobar.jpg" title="Image:Foobar.jpg"&gt;500x50px|frame|caption&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">626</th>
<td class="status">fail</td>
<td class="description">Parsoid-specific image handling - framed image with specific size, halign, valign, and caption<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>[[Image:Foobar.jpg|500x50px|frame|left|baseline|caption]]</pre></td>
<td class="expect"><pre>&lt;figure class="mw-halign-left mw-valign-baseline" typeof="mw:Image/Frame"&gt;&#8990;
&lt;a href="File:Foobar.jpg"&gt;&#8990;
&lt;img resource="./File:Foobar.jpg" src="//upload.wikimedia.org/wikipedia/commons/3/3a/Foobar.jpg/442px-Foobar.jpg" height="50" width="442" /&gt;&#8990;
&lt;/a&gt;&#8990;
&lt;figcaption&gt;caption&lt;/figcaption&gt;&#8990;
&lt;/figure&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:Foobar.jpg" title="Image:Foobar.jpg"&gt;500x50px|frame|left|baseline|caption&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">627</th>
<td class="status">fail</td>
<td class="description">Parsoid-specific image handling - frameless image with specific size, border, and caption<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>[[Image:Foobar.jpg|frameless|500x50px|border|caption]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&#8990;
&lt;span class="mw-image-border" typeof="mw:Image/Frameless" data-mw="{&amp;quot;caption&amp;quot;:&amp;quot;caption&amp;quot;}"&gt;&#8990;
&lt;a href="File:Foobar.jpg"&gt;&#8990;
&lt;img resource="./File:Foobar.jpg" src="//upload.wikimedia.org/wikipedia/commons/3/3a/Foobar.jpg/442px-Foobar.jpg" height="50" width="442" /&gt;&#8990;
&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:Foobar.jpg" title="Image:Foobar.jpg"&gt;frameless|500x50px|border|caption&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="skip">
<th class="index">628</th>
<td class="status">skip</td>
<td class="description">Subpage link<ul>
<li>subpage</li>
<li>title: Subpage test</li>
</ul>
</td>
<td class="input"><pre>[[/subpage]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/Subpage_test/subpage" title="Subpage test/subpage"&gt;/subpage&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">629</th>
<td class="status">skip</td>
<td class="description">Subpage noslash link<ul>
<li>subpage</li>
<li>title: Subpage test</li>
</ul>
</td>
<td class="input"><pre>[[/subpage/]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/Subpage_test/subpage" title="Subpage test/subpage"&gt;subpage&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">630</th>
<td class="status">skip</td>
<td class="description">Relative subpage noslash link<ul>
<li>parsoid: wt2wt, wt2html, html2html</li>
<li>subpage</li>
<li>title: Subpage test/1/2/3/4</li>
</ul>
</td>
<td class="input"><pre>[[../../subpage/]]&#8990;
&#8990;
[[../../subpage]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="mw:WikiLink" href="Subpage_test/1/2/subpage/"&gt;subpage&lt;/a&gt;&lt;/p&gt;&#8990;
&lt;p&gt;&lt;a rel="mw:WikiLink" href="Subpage_test/1/2/subpage"&gt;Subpage_test/1/2/subpage&lt;/a&gt;&lt;/p&gt;</pre></td>
<td class="output"> </td>
</tr>
<tr class="fail">
<th class="index">631</th>
<td class="status">fail</td>
<td class="description">Parsoid: dot-slash prefixed wikilinks<ul><li>parsoid: wt2wt, wt2html, html2html</li></ul>
</td>
<td class="input"><pre>[[./foo]]&#8990;
&#8990;
[[././bar]]&#8990;
&#8990;
[[././baz/]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="mw:WikiLink" href="./Foo"&gt;foo&lt;/a&gt;&lt;/p&gt;&#8990;
&lt;p&gt;&lt;a rel="mw:WikiLink" href="./Bar"&gt;bar&lt;/a&gt;&lt;/p&gt;&#8990;
&lt;p&gt;&lt;a rel="mw:WikiLink" href="./Baz/"&gt;baz/&lt;/a&gt;&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/./foo" title="./foo"&gt;./foo&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a href="/wiki/././bar" title="././bar"&gt;././bar&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a href="/wiki/././baz/" title="././baz/"&gt;././baz/&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">632</th>
<td class="status">fail</td>
<td class="description">Disabled subpages</td>
<td class="input"><pre>[[/subpage]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/index.php?title=/subpage&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="/subpage (page does not exist)"&gt;/subpage&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki//subpage" title="/subpage"&gt;/subpage&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="skip">
<th class="index">633</th>
<td class="status">skip</td>
<td class="description">BUG 561: {{/Subpage}}<ul>
<li>subpage</li>
<li>title: Page</li>
</ul>
</td>
<td class="input"><pre>{{/Subpage}}</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/index.php?title=Page/Subpage&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Page/Subpage (page does not exist)"&gt;Page/Subpage&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"> </td>
</tr>
<tr class="fail">
<th class="index">634</th>
<td class="status">fail</td>
<td class="description">Link to category</td>
<td class="input"><pre>[[:Category:MediaWiki User's Guide]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/Category:MediaWiki_User%27s_Guide" title="Category:MediaWiki User's Guide"&gt;Category:MediaWiki User's Guide&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/:Category:MediaWiki_User's_Guide" title=":Category:MediaWiki User's Guide"&gt;:Category:MediaWiki User's Guide&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">635</th>
<td class="status">fail</td>
<td class="description">Simple category<ul><li>cat</li></ul>
</td>
<td class="input"><pre>[[Category:MediaWiki User's Guide]]</pre></td>
<td class="expect"><pre>&lt;a href="/wiki/Category:MediaWiki_User%27s_Guide" title="Category:MediaWiki User's Guide"&gt;MediaWiki User's Guide&lt;/a&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Category:MediaWiki_User's_Guide" title="Category:MediaWiki User's Guide"&gt;Category:MediaWiki User's Guide&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">636</th>
<td class="status">fail</td>
<td class="description">PAGESINCATEGORY invalid title fatal (r33546 fix)</td>
<td class="input"><pre>{{PAGESINCATEGORY:&lt;bogus&gt;}}</pre></td>
<td class="expect"><pre>&lt;p&gt;0&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:PAGESINCATEGORY:&amp;lt;bogus&amp;gt;" title="Template:PAGESINCATEGORY:&amp;lt;bogus&amp;gt;"&gt;Template:PAGESINCATEGORY:&amp;lt;bogus&amp;gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">637</th>
<td class="status">fail</td>
<td class="description">Category with different sort key<ul><li>cat</li></ul>
</td>
<td class="input"><pre>[[Category:MediaWiki User's Guide|Foo]]</pre></td>
<td class="expect"><pre>&lt;a href="/wiki/Category:MediaWiki_User%27s_Guide" title="Category:MediaWiki User's Guide"&gt;MediaWiki User's Guide&lt;/a&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Category:MediaWiki_User's_Guide" title="Category:MediaWiki User's Guide"&gt;Foo&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">638</th>
<td class="status">fail</td>
<td class="description">Category with identical sort key<ul><li>cat</li></ul>
</td>
<td class="input"><pre>[[Category:MediaWiki User's Guide|MediaWiki User's Guide]]</pre></td>
<td class="expect"><pre>&lt;a href="/wiki/Category:MediaWiki_User%27s_Guide" title="Category:MediaWiki User's Guide"&gt;MediaWiki User's Guide&lt;/a&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Category:MediaWiki_User's_Guide" title="Category:MediaWiki User's Guide"&gt;MediaWiki User's Guide&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="skip">
<th class="index">639</th>
<td class="status">skip</td>
<td class="description">Category with empty sort key<ul>
<li>pst</li>
<li>cat</li>
</ul>
</td>
<td class="input"><pre>[[Category:MediaWiki User's Guide|]]</pre></td>
<td class="expect"><pre>[[Category:MediaWiki User's Guide|MediaWiki User's Guide]]</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">640</th>
<td class="status">skip</td>
<td class="description">Category with empty sort key and parentheses<ul>
<li>pst</li>
<li>cat</li>
</ul>
</td>
<td class="input"><pre>[[Category:Foo (bar)|]]</pre></td>
<td class="expect"><pre>[[Category:Foo (bar)|Foo]]</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">641</th>
<td class="status">skip</td>
<td class="description">Category with link tail<ul>
<li>pst</li>
<li>cat</li>
</ul>
</td>
<td class="input"><pre>123[[Category:Foo]]456</pre></td>
<td class="expect"><pre>123[[Category:Foo]]456</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">642</th>
<td class="status">skip</td>
<td class="description">Category with template<ul>
<li>pst</li>
<li>cat</li>
</ul>
</td>
<td class="input"><pre>[[Category:{{echo|Foo}}]]</pre></td>
<td class="expect"><pre>[[Category:{{echo|Foo}}]]</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">643</th>
<td class="status">skip</td>
<td class="description">Category with template in sort key<ul>
<li>pst</li>
<li>cat</li>
</ul>
</td>
<td class="input"><pre>[[Category:Foo|{{echo|Bar}}]]</pre></td>
<td class="expect"><pre>[[Category:Foo|{{echo|Bar}}]]</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">644</th>
<td class="status">skip</td>
<td class="description">Category with template in sort key and title<ul>
<li>pst</li>
<li>cat</li>
</ul>
</td>
<td class="input"><pre>[[Category:{{echo|Foo}}|{{echo|Bar}}]]</pre></td>
<td class="expect"><pre>[[Category:{{echo|Foo}}|{{echo|Bar}}]]</pre></td>
<td class="output"> </td>
</tr>
<tr class="fail">
<th class="index">645</th>
<td class="status">fail</td>
<td class="description">Category / paragraph interactions</td>
<td class="input"><pre>Foo [[Category:Baz]] Bar&#8990;
&#8990;
Foo [[Category:Baz]]&#8990;
Bar&#8990;
&#8990;
Foo&#8990;
[[Category:Baz]]&#8990;
Bar&#8990;
&#8990;
Foo&#8990;
[[Category:Baz]] Bar&#8990;
&#8990;
Foo&#8990;
[[Category:Baz]]&#8990;
 [[Category:Baz]]&#8990;
[[Category:Baz]]&#8990;
Bar&#8990;
&#8990;
[[Category:Baz]]&#8990;
 [[Category:Baz]]&#8990;
[[Category:Baz]]&#8990;
&#8990;
[[Category:Baz]]&#8990;
 {{echo|[[Category:Baz]]}}&#8990;
[[Category:Baz]]</pre></td>
<td class="expect"><pre>&lt;p&gt;Foo Bar&#8990;
&lt;/p&gt;&lt;p&gt;Foo&#8990;
Bar&#8990;
&lt;/p&gt;&lt;p&gt;Foo&#8990;
Bar&#8990;
&lt;/p&gt;&lt;p&gt;Foo Bar&#8990;
&lt;/p&gt;&lt;p&gt;Foo&#8990;
Bar&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Foo &lt;a href="/wiki/Category:Baz" title="Category:Baz"&gt;Category:Baz&lt;/a&gt; Bar&#8990;
&lt;/p&gt;&lt;p&gt;Foo &lt;a href="/wiki/Category:Baz" title="Category:Baz"&gt;Category:Baz&lt;/a&gt;&#8990;
Bar&#8990;
&lt;/p&gt;&lt;p&gt;Foo&#8990;
&lt;a href="/wiki/Category:Baz" title="Category:Baz"&gt;Category:Baz&lt;/a&gt;&#8990;
Bar&#8990;
&lt;/p&gt;&lt;p&gt;Foo&#8990;
&lt;a href="/wiki/Category:Baz" title="Category:Baz"&gt;Category:Baz&lt;/a&gt; Bar&#8990;
&lt;/p&gt;&lt;p&gt;Foo&#8990;
&lt;a href="/wiki/Category:Baz" title="Category:Baz"&gt;Category:Baz&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;pre&gt;&lt;a href="/wiki/Category:Baz" title="Category:Baz"&gt;Category:Baz&lt;/a&gt;&#8990;
&lt;/pre&gt;&lt;p&gt;&lt;a href="/wiki/Category:Baz" title="Category:Baz"&gt;Category:Baz&lt;/a&gt;&#8990;
Bar&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a href="/wiki/Category:Baz" title="Category:Baz"&gt;Category:Baz&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;pre&gt;&lt;a href="/wiki/Category:Baz" title="Category:Baz"&gt;Category:Baz&lt;/a&gt;&#8990;
&lt;/pre&gt;&lt;p&gt;&lt;a href="/wiki/Category:Baz" title="Category:Baz"&gt;Category:Baz&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a href="/wiki/Category:Baz" title="Category:Baz"&gt;Category:Baz&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;pre&gt;&lt;a href="/wiki/Category:Baz" title="Category:Baz"&gt;Category:Baz&lt;/a&gt;&#8990;
&lt;/pre&gt;&lt;p&gt;&lt;a href="/wiki/Category:Baz" title="Category:Baz"&gt;Category:Baz&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">646</th>
<td class="status">fail</td>
<td class="description">Parsoid: Serialize link to category page with colon escape<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>&#8990;
[[:Category:Foo]]&#8990;
[[:Category:Foo|Bar]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&#8990;
&lt;a rel="mw:WikiLink" href="Category:Foo"&gt;Category:Foo&lt;/a&gt;&#8990;
&lt;a rel="mw:WikiLink" href="Category:Foo"&gt;Bar&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/:Category:Foo" title=":Category:Foo"&gt;:Category:Foo&lt;/a&gt;&#8990;
&lt;a href="/wiki/:Category:Foo" title=":Category:Foo"&gt;Bar&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">647</th>
<td class="status">fail</td>
<td class="description">Parsoid: Link prefix/suffixes aren't applied to category links<ul>
<li>language: is</li>
<li>parsoid: wt2html, wt2wt, html2html</li>
</ul>
</td>
<td class="input"><pre>x[[Category:Foo]]y</pre></td>
<td class="expect"><pre>&lt;p&gt;x&lt;link rel="mw:WikiLink/Category" href="Category:Foo"&gt;y&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;x&lt;a href="/wiki/Category:Foo" title="Category:Foo"&gt;Category:Fooy&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">648</th>
<td class="status">fail</td>
<td class="description">Parsoid: Serialize link to file page with colon escape<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>&#8990;
[[:File:Foo.png]]&#8990;
[[:File:Foo.png|Bar]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&#8990;
&lt;a rel="mw:WikiLink" href="File:Foo.png"&gt;File:Foo.png&lt;/a&gt;&#8990;
&lt;a rel="mw:WikiLink" href="File:Foo.png"&gt;Bar&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/:File:Foo.png" title=":File:Foo.png"&gt;:File:Foo.png&lt;/a&gt;&#8990;
&lt;a href="/wiki/:File:Foo.png" title=":File:Foo.png"&gt;Bar&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">649</th>
<td class="status">fail</td>
<td class="description">Parsoid: Serialize a genuine category link without colon escape<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>[[Category:Foo]]&#8990;
[[Category:Foo|Bar]]</pre></td>
<td class="expect"><pre>&lt;link rel="mw:WikiLink/Category" href="Category:Foo"&gt;&#8990;
&lt;link rel="mw:WikiLink/Category" href="Category:Foo#Bar"&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Category:Foo" title="Category:Foo"&gt;Category:Foo&lt;/a&gt;&#8990;
&lt;a href="/wiki/Category:Foo" title="Category:Foo"&gt;Bar&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">650</th>
<td class="status">fail</td>
<td class="description">Inter-language links<ul><li>ill</li></ul>
</td>
<td class="input"><pre>[[es:Alimento]]&#8990;
[[fr:Nourriture]]&#8990;
[[zh:&amp;#39135;&amp;#21697;]]</pre></td>
<td class="expect"><pre>es:Alimento fr:Nourriture zh:&#39135;&#21697;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/es:Alimento" title="es:Alimento"&gt;es:Alimento&lt;/a&gt;&#8990;
&lt;a href="/wiki/fr:Nourriture" title="fr:Nourriture"&gt;fr:Nourriture&lt;/a&gt;&#8990;
&lt;a href="/wiki/zh:&amp;#39135;&amp;#21697;" title="zh:&amp;#39135;&amp;#21697;"&gt;zh:&amp;#39135;&amp;#21697;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">651</th>
<td class="status">fail</td>
<td class="description">Duplicate interlanguage links (bug 24502)<ul><li>ill</li></ul>
</td>
<td class="input"><pre>[[es:1]]&#8990;
[[es:2]]&#8990;
[[fr:1]]&#8990;
[[fr:2]]</pre></td>
<td class="expect"><pre>es:1 fr:1</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/es:1" title="es:1"&gt;es:1&lt;/a&gt;&#8990;
&lt;a href="/wiki/es:2" title="es:2"&gt;es:2&lt;/a&gt;&#8990;
&lt;a href="/wiki/fr:1" title="fr:1"&gt;fr:1&lt;/a&gt;&#8990;
&lt;a href="/wiki/fr:2" title="fr:2"&gt;fr:2&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">652</th>
<td class="status">fail</td>
<td class="description">Basic section headings</td>
<td class="input"><pre>== Headline 1 ==&#8990;
Some text&#8990;
&#8990;
==Headline 2==&#8990;
More&#8990;
===Smaller headline===&#8990;
Blah blah</pre></td>
<td class="expect"><pre>&lt;h2&gt;&lt;span class="mw-headline" id="Headline_1"&gt;Headline 1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=1" title="Edit section: Headline 1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;p&gt;Some text&#8990;
&lt;/p&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="Headline_2"&gt;Headline 2&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=2" title="Edit section: Headline 2"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;p&gt;More&#8990;
&lt;/p&gt;&#8990;
&lt;h3&gt;&lt;span class="mw-headline" id="Smaller_headline"&gt;Smaller headline&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=3" title="Edit section: Smaller headline"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;&#8990;
&lt;p&gt;Blah blah&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;h2&gt;&lt;span class="mw-headline" id="Headline 1"&gt;Headline 1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: Headline 1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;p&gt;Some text&#8990;
&lt;/p&gt;&lt;h2&gt;&lt;span class="mw-headline" id="Headline 2"&gt;Headline 2&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: Headline 2"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;p&gt;More&#8990;
&lt;/p&gt;&lt;h3&gt;&lt;span class="mw-headline" id="Smaller headline"&gt;Smaller headline&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: Smaller headline"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;&#8990;
&lt;p&gt;Blah blah&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">653</th>
<td class="status">fail</td>
<td class="description">Section headings with TOC</td>
<td class="input"><pre>== Headline 1 ==&#8990;
=== Subheadline 1 ===&#8990;
===== Skipping a level =====&#8990;
====== Skipping a level ======&#8990;
&#8990;
== Headline 2 ==&#8990;
Some text&#8990;
===Another headline===</pre></td>
<td class="expect"><pre>&lt;div id="toc" class="toc"&gt;&lt;div id="toctitle"&gt;&lt;h2&gt;Contents&lt;/h2&gt;&lt;/div&gt;&#8990;
&lt;ul&gt;&#8990;
&lt;li class="toclevel-1 tocsection-1"&gt;&lt;a href="#Headline_1"&gt;&lt;span class="tocnumber"&gt;1&lt;/span&gt; &lt;span class="toctext"&gt;Headline 1&lt;/span&gt;&lt;/a&gt;&#8990;
&lt;ul&gt;&#8990;
&lt;li class="toclevel-2 tocsection-2"&gt;&lt;a href="#Subheadline_1"&gt;&lt;span class="tocnumber"&gt;1.1&lt;/span&gt; &lt;span class="toctext"&gt;Subheadline 1&lt;/span&gt;&lt;/a&gt;&#8990;
&lt;ul&gt;&#8990;
&lt;li class="toclevel-3 tocsection-3"&gt;&lt;a href="#Skipping_a_level"&gt;&lt;span class="tocnumber"&gt;1.1.1&lt;/span&gt; &lt;span class="toctext"&gt;Skipping a level&lt;/span&gt;&lt;/a&gt;&#8990;
&lt;ul&gt;&#8990;
&lt;li class="toclevel-4 tocsection-4"&gt;&lt;a href="#Skipping_a_level_2"&gt;&lt;span class="tocnumber"&gt;1.1.1.1&lt;/span&gt; &lt;span class="toctext"&gt;Skipping a level&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
&lt;/li&gt;&#8990;
&lt;li class="toclevel-1 tocsection-5"&gt;&lt;a href="#Headline_2"&gt;&lt;span class="tocnumber"&gt;2&lt;/span&gt; &lt;span class="toctext"&gt;Headline 2&lt;/span&gt;&lt;/a&gt;&#8990;
&lt;ul&gt;&#8990;
&lt;li class="toclevel-2 tocsection-6"&gt;&lt;a href="#Another_headline"&gt;&lt;span class="tocnumber"&gt;2.1&lt;/span&gt; &lt;span class="toctext"&gt;Another headline&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
&lt;/div&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="Headline_1"&gt;Headline 1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=1" title="Edit section: Headline 1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h3&gt;&lt;span class="mw-headline" id="Subheadline_1"&gt;Subheadline 1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=2" title="Edit section: Subheadline 1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;&#8990;
&lt;h5&gt;&lt;span class="mw-headline" id="Skipping_a_level"&gt;Skipping a level&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=3" title="Edit section: Skipping a level"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h5&gt;&#8990;
&lt;h6&gt;&lt;span class="mw-headline" id="Skipping_a_level_2"&gt;Skipping a level&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=4" title="Edit section: Skipping a level"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h6&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="Headline_2"&gt;Headline 2&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=5" title="Edit section: Headline 2"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;p&gt;Some text&#8990;
&lt;/p&gt;&#8990;
&lt;h3&gt;&lt;span class="mw-headline" id="Another_headline"&gt;Another headline&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=6" title="Edit section: Another headline"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;h2&gt;&lt;span class="mw-headline" id="Headline 1"&gt;Headline 1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: Headline 1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h3&gt;&lt;span class="mw-headline" id="Subheadline 1"&gt;Subheadline 1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: Subheadline 1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;&#8990;
&lt;h5&gt;&lt;span class="mw-headline" id="Skipping a level"&gt;Skipping a level&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: Skipping a level"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h5&gt;&#8990;
&lt;h6&gt;&lt;span class="mw-headline" id="Skipping a level_2"&gt;Skipping a level&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: Skipping a level"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h6&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="Headline 2"&gt;Headline 2&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: Headline 2"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;p&gt;Some text&#8990;
&lt;/p&gt;&lt;h3&gt;&lt;span class="mw-headline" id="Another headline"&gt;Another headline&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: Another headline"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">654</th>
<td class="status">fail</td>
<td class="description">Handling of sections up to level 6 and beyond</td>
<td class="input"><pre>= Level 1 Heading=&#8990;
== Level 2 Heading==&#8990;
=== Level 3 Heading===&#8990;
==== Level 4 Heading====&#8990;
===== Level 5 Heading=====&#8990;
====== Level 6 Heading======&#8990;
======= Level 7 Heading=======&#8990;
======== Level 8 Heading========&#8990;
========= Level 9 Heading=========&#8990;
========== Level 10 Heading==========</pre></td>
<td class="expect"><pre>&lt;div id="toc" class="toc"&gt;&lt;div id="toctitle"&gt;&lt;h2&gt;Contents&lt;/h2&gt;&lt;/div&gt;&#8990;
&lt;ul&gt;&#8990;
&lt;li class="toclevel-1 tocsection-1"&gt;&lt;a href="#Level_1_Heading"&gt;&lt;span class="tocnumber"&gt;1&lt;/span&gt; &lt;span class="toctext"&gt;Level 1 Heading&lt;/span&gt;&lt;/a&gt;&#8990;
&lt;ul&gt;&#8990;
&lt;li class="toclevel-2 tocsection-2"&gt;&lt;a href="#Level_2_Heading"&gt;&lt;span class="tocnumber"&gt;1.1&lt;/span&gt; &lt;span class="toctext"&gt;Level 2 Heading&lt;/span&gt;&lt;/a&gt;&#8990;
&lt;ul&gt;&#8990;
&lt;li class="toclevel-3 tocsection-3"&gt;&lt;a href="#Level_3_Heading"&gt;&lt;span class="tocnumber"&gt;1.1.1&lt;/span&gt; &lt;span class="toctext"&gt;Level 3 Heading&lt;/span&gt;&lt;/a&gt;&#8990;
&lt;ul&gt;&#8990;
&lt;li class="toclevel-4 tocsection-4"&gt;&lt;a href="#Level_4_Heading"&gt;&lt;span class="tocnumber"&gt;1.1.1.1&lt;/span&gt; &lt;span class="toctext"&gt;Level 4 Heading&lt;/span&gt;&lt;/a&gt;&#8990;
&lt;ul&gt;&#8990;
&lt;li class="toclevel-5 tocsection-5"&gt;&lt;a href="#Level_5_Heading"&gt;&lt;span class="tocnumber"&gt;1.1.1.1.1&lt;/span&gt; &lt;span class="toctext"&gt;Level 5 Heading&lt;/span&gt;&lt;/a&gt;&#8990;
&lt;ul&gt;&#8990;
&lt;li class="toclevel-6 tocsection-6"&gt;&lt;a href="#Level_6_Heading"&gt;&lt;span class="tocnumber"&gt;1.1.1.1.1.1&lt;/span&gt; &lt;span class="toctext"&gt;Level 6 Heading&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;li class="toclevel-6 tocsection-7"&gt;&lt;a href="#.3D_Level_7_Heading.3D"&gt;&lt;span class="tocnumber"&gt;1.1.1.1.1.2&lt;/span&gt; &lt;span class="toctext"&gt;= Level 7 Heading=&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;li class="toclevel-6 tocsection-8"&gt;&lt;a href="#.3D.3D_Level_8_Heading.3D.3D"&gt;&lt;span class="tocnumber"&gt;1.1.1.1.1.3&lt;/span&gt; &lt;span class="toctext"&gt;== Level 8 Heading==&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;li class="toclevel-6 tocsection-9"&gt;&lt;a href="#.3D.3D.3D_Level_9_Heading.3D.3D.3D"&gt;&lt;span class="tocnumber"&gt;1.1.1.1.1.4&lt;/span&gt; &lt;span class="toctext"&gt;=== Level 9 Heading===&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;li class="toclevel-6 tocsection-10"&gt;&lt;a href="#.3D.3D.3D.3D_Level_10_Heading.3D.3D.3D.3D"&gt;&lt;span class="tocnumber"&gt;1.1.1.1.1.5&lt;/span&gt; &lt;span class="toctext"&gt;==== Level 10 Heading====&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
&lt;/div&gt;&#8990;
&lt;h1&gt;&lt;span class="mw-headline" id="Level_1_Heading"&gt;Level 1 Heading&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=1" title="Edit section: Level 1 Heading"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="Level_2_Heading"&gt;Level 2 Heading&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=2" title="Edit section: Level 2 Heading"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h3&gt;&lt;span class="mw-headline" id="Level_3_Heading"&gt;Level 3 Heading&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=3" title="Edit section: Level 3 Heading"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;&#8990;
&lt;h4&gt;&lt;span class="mw-headline" id="Level_4_Heading"&gt;Level 4 Heading&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=4" title="Edit section: Level 4 Heading"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h4&gt;&#8990;
&lt;h5&gt;&lt;span class="mw-headline" id="Level_5_Heading"&gt;Level 5 Heading&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=5" title="Edit section: Level 5 Heading"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h5&gt;&#8990;
&lt;h6&gt;&lt;span class="mw-headline" id="Level_6_Heading"&gt;Level 6 Heading&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=6" title="Edit section: Level 6 Heading"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h6&gt;&#8990;
&lt;h6&gt;&lt;span class="mw-headline" id=".3D_Level_7_Heading.3D"&gt;= Level 7 Heading=&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=7" title="Edit section: = Level 7 Heading="&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h6&gt;&#8990;
&lt;h6&gt;&lt;span class="mw-headline" id=".3D.3D_Level_8_Heading.3D.3D"&gt;== Level 8 Heading==&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=8" title="Edit section: == Level 8 Heading=="&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h6&gt;&#8990;
&lt;h6&gt;&lt;span class="mw-headline" id=".3D.3D.3D_Level_9_Heading.3D.3D.3D"&gt;=== Level 9 Heading===&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=9" title="Edit section: === Level 9 Heading==="&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h6&gt;&#8990;
&lt;h6&gt;&lt;span class="mw-headline" id=".3D.3D.3D.3D_Level_10_Heading.3D.3D.3D.3D"&gt;==== Level 10 Heading====&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=10" title="Edit section: ==== Level 10 Heading===="&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h6&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;h1&gt;&lt;span class="mw-headline" id="Level 1 Heading"&gt;Level 1 Heading&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: Level 1 Heading"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="Level 2 Heading"&gt;Level 2 Heading&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: Level 2 Heading"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h3&gt;&lt;span class="mw-headline" id="Level 3 Heading"&gt;Level 3 Heading&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: Level 3 Heading"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;&#8990;
&lt;h4&gt;&lt;span class="mw-headline" id="Level 4 Heading"&gt;Level 4 Heading&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: Level 4 Heading"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h4&gt;&#8990;
&lt;h5&gt;&lt;span class="mw-headline" id="Level 5 Heading"&gt;Level 5 Heading&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: Level 5 Heading"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h5&gt;&#8990;
&lt;h6&gt;&lt;span class="mw-headline" id="Level 6 Heading"&gt;Level 6 Heading&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: Level 6 Heading"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h6&gt;&#8990;
&lt;h6&gt;&lt;span class="mw-headline" id="= Level 7 Heading="&gt;= Level 7 Heading=&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: = Level 7 Heading="&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h6&gt;&#8990;
&lt;h6&gt;&lt;span class="mw-headline" id="== Level 8 Heading=="&gt;== Level 8 Heading==&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: == Level 8 Heading=="&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h6&gt;&#8990;
&lt;h6&gt;&lt;span class="mw-headline" id="=== Level 9 Heading==="&gt;=== Level 9 Heading===&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: === Level 9 Heading==="&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h6&gt;&#8990;
&lt;h6&gt;&lt;span class="mw-headline" id="==== Level 10 Heading===="&gt;==== Level 10 Heading====&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: ==== Level 10 Heading===="&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h6&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">655</th>
<td class="status">fail</td>
<td class="description">TOC regression (bug 9764)</td>
<td class="input"><pre>== title 1 ==&#8990;
=== title 1.1 ===&#8990;
==== title 1.1.1 ====&#8990;
=== title 1.2 ===&#8990;
== title 2 ==&#8990;
=== title 2.1 ===</pre></td>
<td class="expect"><pre>&lt;div id="toc" class="toc"&gt;&lt;div id="toctitle"&gt;&lt;h2&gt;Contents&lt;/h2&gt;&lt;/div&gt;&#8990;
&lt;ul&gt;&#8990;
&lt;li class="toclevel-1 tocsection-1"&gt;&lt;a href="#title_1"&gt;&lt;span class="tocnumber"&gt;1&lt;/span&gt; &lt;span class="toctext"&gt;title 1&lt;/span&gt;&lt;/a&gt;&#8990;
&lt;ul&gt;&#8990;
&lt;li class="toclevel-2 tocsection-2"&gt;&lt;a href="#title_1.1"&gt;&lt;span class="tocnumber"&gt;1.1&lt;/span&gt; &lt;span class="toctext"&gt;title 1.1&lt;/span&gt;&lt;/a&gt;&#8990;
&lt;ul&gt;&#8990;
&lt;li class="toclevel-3 tocsection-3"&gt;&lt;a href="#title_1.1.1"&gt;&lt;span class="tocnumber"&gt;1.1.1&lt;/span&gt; &lt;span class="toctext"&gt;title 1.1.1&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
&lt;/li&gt;&#8990;
&lt;li class="toclevel-2 tocsection-4"&gt;&lt;a href="#title_1.2"&gt;&lt;span class="tocnumber"&gt;1.2&lt;/span&gt; &lt;span class="toctext"&gt;title 1.2&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
&lt;/li&gt;&#8990;
&lt;li class="toclevel-1 tocsection-5"&gt;&lt;a href="#title_2"&gt;&lt;span class="tocnumber"&gt;2&lt;/span&gt; &lt;span class="toctext"&gt;title 2&lt;/span&gt;&lt;/a&gt;&#8990;
&lt;ul&gt;&#8990;
&lt;li class="toclevel-2 tocsection-6"&gt;&lt;a href="#title_2.1"&gt;&lt;span class="tocnumber"&gt;2.1&lt;/span&gt; &lt;span class="toctext"&gt;title 2.1&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
&lt;/div&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="title_1"&gt;title 1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=1" title="Edit section: title 1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h3&gt;&lt;span class="mw-headline" id="title_1.1"&gt;title 1.1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=2" title="Edit section: title 1.1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;&#8990;
&lt;h4&gt;&lt;span class="mw-headline" id="title_1.1.1"&gt;title 1.1.1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=3" title="Edit section: title 1.1.1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h4&gt;&#8990;
&lt;h3&gt;&lt;span class="mw-headline" id="title_1.2"&gt;title 1.2&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=4" title="Edit section: title 1.2"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="title_2"&gt;title 2&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=5" title="Edit section: title 2"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h3&gt;&lt;span class="mw-headline" id="title_2.1"&gt;title 2.1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=6" title="Edit section: title 2.1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;h2&gt;&lt;span class="mw-headline" id="title 1"&gt;title 1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: title 1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h3&gt;&lt;span class="mw-headline" id="title 1.1"&gt;title 1.1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: title 1.1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;&#8990;
&lt;h4&gt;&lt;span class="mw-headline" id="title 1.1.1"&gt;title 1.1.1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: title 1.1.1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h4&gt;&#8990;
&lt;h3&gt;&lt;span class="mw-headline" id="title 1.2"&gt;title 1.2&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: title 1.2"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="title 2"&gt;title 2&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: title 2"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h3&gt;&lt;span class="mw-headline" id="title 2.1"&gt;title 2.1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: title 2.1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">656</th>
<td class="status">fail</td>
<td class="description">TOC with wgMaxTocLevel=3 (bug 6204)<ul><li>wgmaxtoclevel: 3</li></ul>
</td>
<td class="input"><pre>== title 1 ==&#8990;
=== title 1.1 ===&#8990;
==== title 1.1.1 ====&#8990;
=== title 1.2 ===&#8990;
== title 2 ==&#8990;
=== title 2.1 ===</pre></td>
<td class="expect"><pre>&lt;div id="toc" class="toc"&gt;&lt;div id="toctitle"&gt;&lt;h2&gt;Contents&lt;/h2&gt;&lt;/div&gt;&#8990;
&lt;ul&gt;&#8990;
&lt;li class="toclevel-1 tocsection-1"&gt;&lt;a href="#title_1"&gt;&lt;span class="tocnumber"&gt;1&lt;/span&gt; &lt;span class="toctext"&gt;title 1&lt;/span&gt;&lt;/a&gt;&#8990;
&lt;ul&gt;&#8990;
&lt;li class="toclevel-2 tocsection-2"&gt;&lt;a href="#title_1.1"&gt;&lt;span class="tocnumber"&gt;1.1&lt;/span&gt; &lt;span class="toctext"&gt;title 1.1&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;li class="toclevel-2 tocsection-4"&gt;&lt;a href="#title_1.2"&gt;&lt;span class="tocnumber"&gt;1.2&lt;/span&gt; &lt;span class="toctext"&gt;title 1.2&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
&lt;/li&gt;&#8990;
&lt;li class="toclevel-1 tocsection-5"&gt;&lt;a href="#title_2"&gt;&lt;span class="tocnumber"&gt;2&lt;/span&gt; &lt;span class="toctext"&gt;title 2&lt;/span&gt;&lt;/a&gt;&#8990;
&lt;ul&gt;&#8990;
&lt;li class="toclevel-2 tocsection-6"&gt;&lt;a href="#title_2.1"&gt;&lt;span class="tocnumber"&gt;2.1&lt;/span&gt; &lt;span class="toctext"&gt;title 2.1&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
&lt;/div&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="title_1"&gt;title 1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=1" title="Edit section: title 1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h3&gt;&lt;span class="mw-headline" id="title_1.1"&gt;title 1.1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=2" title="Edit section: title 1.1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;&#8990;
&lt;h4&gt;&lt;span class="mw-headline" id="title_1.1.1"&gt;title 1.1.1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=3" title="Edit section: title 1.1.1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h4&gt;&#8990;
&lt;h3&gt;&lt;span class="mw-headline" id="title_1.2"&gt;title 1.2&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=4" title="Edit section: title 1.2"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="title_2"&gt;title 2&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=5" title="Edit section: title 2"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h3&gt;&lt;span class="mw-headline" id="title_2.1"&gt;title 2.1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=6" title="Edit section: title 2.1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;h2&gt;&lt;span class="mw-headline" id="title 1"&gt;title 1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: title 1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h3&gt;&lt;span class="mw-headline" id="title 1.1"&gt;title 1.1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: title 1.1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;&#8990;
&lt;h4&gt;&lt;span class="mw-headline" id="title 1.1.1"&gt;title 1.1.1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: title 1.1.1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h4&gt;&#8990;
&lt;h3&gt;&lt;span class="mw-headline" id="title 1.2"&gt;title 1.2&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: title 1.2"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="title 2"&gt;title 2&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: title 2"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h3&gt;&lt;span class="mw-headline" id="title 2.1"&gt;title 2.1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: title 2.1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">657</th>
<td class="status">fail</td>
<td class="description">TOC with wgMaxTocLevel=3 and two level four headings (bug 6204)<ul><li>wgmaxtoclevel: 3</li></ul>
</td>
<td class="input"><pre>==Section 1==&#8990;
===Section 1.1===&#8990;
====Section 1.1.1====&#8990;
====Section 1.1.1.1====&#8990;
==Section 2==</pre></td>
<td class="expect"><pre>&lt;div id="toc" class="toc"&gt;&lt;div id="toctitle"&gt;&lt;h2&gt;Contents&lt;/h2&gt;&lt;/div&gt;&#8990;
&lt;ul&gt;&#8990;
&lt;li class="toclevel-1 tocsection-1"&gt;&lt;a href="#Section_1"&gt;&lt;span class="tocnumber"&gt;1&lt;/span&gt; &lt;span class="toctext"&gt;Section 1&lt;/span&gt;&lt;/a&gt;&#8990;
&lt;ul&gt;&#8990;
&lt;li class="toclevel-2 tocsection-2"&gt;&lt;a href="#Section_1.1"&gt;&lt;span class="tocnumber"&gt;1.1&lt;/span&gt; &lt;span class="toctext"&gt;Section 1.1&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
&lt;/li&gt;&#8990;
&lt;li class="toclevel-1 tocsection-5"&gt;&lt;a href="#Section_2"&gt;&lt;span class="tocnumber"&gt;2&lt;/span&gt; &lt;span class="toctext"&gt;Section 2&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
&lt;/div&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="Section_1"&gt;Section 1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=1" title="Edit section: Section 1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h3&gt;&lt;span class="mw-headline" id="Section_1.1"&gt;Section 1.1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=2" title="Edit section: Section 1.1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;&#8990;
&lt;h4&gt;&lt;span class="mw-headline" id="Section_1.1.1"&gt;Section 1.1.1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=3" title="Edit section: Section 1.1.1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h4&gt;&#8990;
&lt;h4&gt;&lt;span class="mw-headline" id="Section_1.1.1.1"&gt;Section 1.1.1.1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=4" title="Edit section: Section 1.1.1.1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h4&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="Section_2"&gt;Section 2&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=5" title="Edit section: Section 2"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;h2&gt;&lt;span class="mw-headline" id="Section 1"&gt;Section 1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: Section 1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h3&gt;&lt;span class="mw-headline" id="Section 1.1"&gt;Section 1.1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: Section 1.1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;&#8990;
&lt;h4&gt;&lt;span class="mw-headline" id="Section 1.1.1"&gt;Section 1.1.1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: Section 1.1.1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h4&gt;&#8990;
&lt;h4&gt;&lt;span class="mw-headline" id="Section 1.1.1.1"&gt;Section 1.1.1.1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: Section 1.1.1.1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h4&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="Section 2"&gt;Section 2&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: Section 2"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">658</th>
<td class="status">fail</td>
<td class="description">Resolving duplicate section names</td>
<td class="input"><pre>== Foo bar ==&#8990;
== Foo bar ==</pre></td>
<td class="expect"><pre>&lt;h2&gt;&lt;span class="mw-headline" id="Foo_bar"&gt;Foo bar&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=1" title="Edit section: Foo bar"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="Foo_bar_2"&gt;Foo bar&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=2" title="Edit section: Foo bar"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;h2&gt;&lt;span class="mw-headline" id="Foo bar"&gt;Foo bar&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: Foo bar"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="Foo bar_2"&gt;Foo bar&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: Foo bar"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">659</th>
<td class="status">fail</td>
<td class="description">Resolving duplicate section names with differing case (bug 10721)</td>
<td class="input"><pre>== Foo bar ==&#8990;
== Foo Bar ==</pre></td>
<td class="expect"><pre>&lt;h2&gt;&lt;span class="mw-headline" id="Foo_bar"&gt;Foo bar&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=1" title="Edit section: Foo bar"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="Foo_Bar_2"&gt;Foo Bar&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=2" title="Edit section: Foo Bar"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;h2&gt;&lt;span class="mw-headline" id="Foo bar"&gt;Foo bar&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: Foo bar"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="Foo Bar"&gt;Foo Bar&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: Foo Bar"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">660</th>
<td class="status">fail</td>
<td class="description">Template with sections, __NOTOC__</td>
<td class="input"><pre>__NOTOC__&#8990;
==Section 0==&#8990;
{{sections}}&#8990;
==Section 4==</pre></td>
<td class="expect"><pre>&lt;h2&gt;&lt;span class="mw-headline" id="Section_0"&gt;Section 0&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=1" title="Edit section: Section 0"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h3&gt;&lt;span class="mw-headline" id="Section_1"&gt;Section 1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Template:Sections&amp;amp;action=edit&amp;amp;section=T-1" title="Template:Sections"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="Section_2"&gt;Section 2&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Template:Sections&amp;amp;action=edit&amp;amp;section=T-2" title="Template:Sections"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="Section_4"&gt;Section 4&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=2" title="Edit section: Section 4"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;h2&gt;&lt;span class="mw-headline" id="Section 0"&gt;Section 0&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: Section 0"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h3&gt;&lt;span class="mw-headline" id="Section 1"&gt;Section 1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: Section 1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="Section 2"&gt;Section 2&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: Section 2"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="Section 4"&gt;Section 4&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: Section 4"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">661</th>
<td class="status">fail</td>
<td class="description">__NOEDITSECTION__ keyword</td>
<td class="input"><pre>__NOEDITSECTION__&#8990;
==Section 1==&#8990;
==Section 2==</pre></td>
<td class="expect"><pre>&lt;h2&gt;&lt;span class="mw-headline" id="Section_1"&gt;Section 1&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="Section_2"&gt;Section 2&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;__NOEDITSECTION__&#8990;
&lt;/p&gt;&lt;h2&gt;&lt;span class="mw-headline" id="Section 1"&gt;Section 1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: Section 1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="Section 2"&gt;Section 2&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: Section 2"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">662</th>
<td class="status">fail</td>
<td class="description">Link inside a section heading</td>
<td class="input"><pre>==Section with a [[Main Page|link]] in it==</pre></td>
<td class="expect"><pre>&lt;h2&gt;&lt;span class="mw-headline" id="Section_with_a_link_in_it"&gt;Section with a &lt;a href="/wiki/Main_Page" title="Main Page"&gt;link&lt;/a&gt; in it&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=1" title="Edit section: Section with a link in it"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;h2&gt;&lt;span class="mw-headline" id="Section with a [[Main Page|link]] in it"&gt;Section with a [[Main Page|link]] in it&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: Section with a [[Main Page|link]] in it"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">663</th>
<td class="status">fail</td>
<td class="description">TOC regression (bug 12077)</td>
<td class="input"><pre>__TOC__&#8990;
== title 1 ==&#8990;
=== title 1.1 ===&#8990;
== title 2 ==</pre></td>
<td class="expect"><pre>&lt;div id="toc" class="toc"&gt;&lt;div id="toctitle"&gt;&lt;h2&gt;Contents&lt;/h2&gt;&lt;/div&gt;&#8990;
&lt;ul&gt;&#8990;
&lt;li class="toclevel-1 tocsection-1"&gt;&lt;a href="#title_1"&gt;&lt;span class="tocnumber"&gt;1&lt;/span&gt; &lt;span class="toctext"&gt;title 1&lt;/span&gt;&lt;/a&gt;&#8990;
&lt;ul&gt;&#8990;
&lt;li class="toclevel-2 tocsection-2"&gt;&lt;a href="#title_1.1"&gt;&lt;span class="tocnumber"&gt;1.1&lt;/span&gt; &lt;span class="toctext"&gt;title 1.1&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
&lt;/li&gt;&#8990;
&lt;li class="toclevel-1 tocsection-3"&gt;&lt;a href="#title_2"&gt;&lt;span class="tocnumber"&gt;2&lt;/span&gt; &lt;span class="toctext"&gt;title 2&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
&lt;/div&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="title_1"&gt;title 1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=1" title="Edit section: title 1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h3&gt;&lt;span class="mw-headline" id="title_1.1"&gt;title 1.1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=2" title="Edit section: title 1.1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="title_2"&gt;title 2&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=3" title="Edit section: title 2"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;h2&gt;&lt;span class="mw-headline" id="title 1"&gt;title 1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: title 1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h3&gt;&lt;span class="mw-headline" id="title 1.1"&gt;title 1.1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: title 1.1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="title 2"&gt;title 2&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: title 2"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">664</th>
<td class="status">fail</td>
<td class="description">BUG 1219 URL next to image (good)</td>
<td class="input"><pre>http://example.com [[Image:foobar.jpg]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://example.com"&gt;http://example.com&lt;/a&gt; &lt;a href="/wiki/File:Foobar.jpg" class="image"&gt;&lt;img alt="Foobar.jpg" src="http://example.com/images/3/3a/Foobar.jpg" width="1941" height="220" /&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://example.com"&gt;http://example.com&lt;/a&gt; &lt;a href="/wiki/Image:foobar.jpg" title="Image:foobar.jpg"&gt;Image:foobar.jpg&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">665</th>
<td class="status">fail</td>
<td class="description">Short headings with trailing space should match behavior of Parser::doHeadings (bug 19910)</td>
<td class="input"><pre>=== &#8990;
The line above must have a trailing space!&#8990;
=== &lt;!--&#8990;
--&gt; &lt;!-- --&gt;&#8990;
But just in case it doesn't...</pre></td>
<td class="expect"><pre>&lt;h1&gt;&lt;span class="mw-headline" id=".3D"&gt;=&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=1" title="Edit section: ="&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt;&#8990;
&lt;p&gt;The line above must have a trailing space!&#8990;
&lt;/p&gt;&#8990;
&lt;h1&gt;&lt;span class="mw-headline" id=".3D_2"&gt;=&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=2" title="Edit section: ="&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt;&#8990;
&lt;p&gt;But just in case it doesn't...&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;h1&gt;&lt;span class="mw-headline" id="="&gt;=&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: ="&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt;&#8990;
&lt;p&gt;The line above must have a trailing space!&#8990;
&lt;/p&gt;&lt;h1&gt;&lt;span class="mw-headline" id="=_2"&gt;=&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: ="&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt;&#8990;
&lt;p&gt;But just in case it doesn't...&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">666</th>
<td class="status">fail</td>
<td class="description">Header with special characters (bug 25462)</td>
<td class="input"><pre>The tooltips shall not show entities to the user (ie. be double escaped)&#8990;
&#8990;
== text &gt; text ==&#8990;
section 1&#8990;
&#8990;
== text &lt; text ==&#8990;
section 2&#8990;
&#8990;
== text &amp; text ==&#8990;
section 3&#8990;
&#8990;
== text ' text ==&#8990;
section 4&#8990;
&#8990;
== text " text ==&#8990;
section 5</pre></td>
<td class="expect"><pre>&lt;p&gt;The tooltips shall not show entities to the user (ie. be double escaped)&#8990;
&lt;/p&gt;&#8990;
&lt;div id="toc" class="toc"&gt;&lt;div id="toctitle"&gt;&lt;h2&gt;Contents&lt;/h2&gt;&lt;/div&gt;&#8990;
&lt;ul&gt;&#8990;
&lt;li class="toclevel-1 tocsection-1"&gt;&lt;a href="#text_.3E_text"&gt;&lt;span class="tocnumber"&gt;1&lt;/span&gt; &lt;span class="toctext"&gt;text &amp;gt; text&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;li class="toclevel-1 tocsection-2"&gt;&lt;a href="#text_.3C_text"&gt;&lt;span class="tocnumber"&gt;2&lt;/span&gt; &lt;span class="toctext"&gt;text &amp;lt; text&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;li class="toclevel-1 tocsection-3"&gt;&lt;a href="#text_.26_text"&gt;&lt;span class="tocnumber"&gt;3&lt;/span&gt; &lt;span class="toctext"&gt;text &amp;amp; text&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;li class="toclevel-1 tocsection-4"&gt;&lt;a href="#text_.27_text"&gt;&lt;span class="tocnumber"&gt;4&lt;/span&gt; &lt;span class="toctext"&gt;text ' text&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;li class="toclevel-1 tocsection-5"&gt;&lt;a href="#text_.22_text"&gt;&lt;span class="tocnumber"&gt;5&lt;/span&gt; &lt;span class="toctext"&gt;text " text&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
&lt;/div&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="text_.3E_text"&gt;text &amp;gt; text&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=1" title="Edit section: text &gt; text"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;p&gt;section 1&#8990;
&lt;/p&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="text_.3C_text"&gt;text &amp;lt; text&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=2" title="Edit section: text &amp;lt; text"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;p&gt;section 2&#8990;
&lt;/p&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="text_.26_text"&gt;text &amp;amp; text&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=3" title="Edit section: text &amp;amp; text"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;p&gt;section 3&#8990;
&lt;/p&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="text_.27_text"&gt;text ' text&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=4" title="Edit section: text ' text"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;p&gt;section 4&#8990;
&lt;/p&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="text_.22_text"&gt;text " text&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=5" title="Edit section: text &amp;quot; text"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;p&gt;section 5&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;The tooltips shall not show entities to the user (ie. be double escaped)&#8990;
&lt;/p&gt;&lt;h2&gt;&lt;span class="mw-headline" id="text &amp;gt; text"&gt;text &amp;gt; text&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: text &amp;gt; text"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;p&gt;section 1&#8990;
&lt;/p&gt;&lt;h2&gt;&lt;span class="mw-headline" id="text &amp;lt; text"&gt;text &amp;lt; text&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: text &amp;lt; text"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;p&gt;section 2&#8990;
&lt;/p&gt;&lt;h2&gt;&lt;span class="mw-headline" id="text &amp;amp; text"&gt;text &amp;amp; text&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: text &amp;amp; text"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;p&gt;section 3&#8990;
&lt;/p&gt;&lt;h2&gt;&lt;span class="mw-headline" id="text ' text"&gt;text ' text&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: text ' text"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;p&gt;section 4&#8990;
&lt;/p&gt;&lt;h2&gt;&lt;span class="mw-headline" id="text &amp;quot; text"&gt;text " text&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: text &amp;quot; text"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;p&gt;section 5&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">667</th>
<td class="status">fail</td>
<td class="description">Headers with excess '=' characters
(Are similar tests necessary beyond the 1st level?)</td>
<td class="input"><pre>=foo==&#8990;
==foo=&#8990;
=''italic'' heading==&#8990;
==''italic'' heading=</pre></td>
<td class="expect"><pre>&lt;div id="toc" class="toc"&gt;&lt;div id="toctitle"&gt;&lt;h2&gt;Contents&lt;/h2&gt;&lt;/div&gt;&#8990;
&lt;ul&gt;&#8990;
&lt;li class="toclevel-1 tocsection-1"&gt;&lt;a href="#foo.3D"&gt;&lt;span class="tocnumber"&gt;1&lt;/span&gt; &lt;span class="toctext"&gt;foo=&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;li class="toclevel-1 tocsection-2"&gt;&lt;a href="#.3Dfoo"&gt;&lt;span class="tocnumber"&gt;2&lt;/span&gt; &lt;span class="toctext"&gt;=foo&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;li class="toclevel-1 tocsection-3"&gt;&lt;a href="#italic_heading.3D"&gt;&lt;span class="tocnumber"&gt;3&lt;/span&gt; &lt;span class="toctext"&gt;&lt;i&gt;italic&lt;/i&gt; heading=&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;li class="toclevel-1 tocsection-4"&gt;&lt;a href="#.3Ditalic_heading"&gt;&lt;span class="tocnumber"&gt;4&lt;/span&gt; &lt;span class="toctext"&gt;=&lt;i&gt;italic&lt;/i&gt; heading&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
&lt;/div&gt;&#8990;
&lt;h1&gt;&lt;span class="mw-headline" id="foo.3D"&gt;foo=&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=1" title="Edit section: foo="&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt;&#8990;
&lt;h1&gt;&lt;span class="mw-headline" id=".3Dfoo"&gt;=foo&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=2" title="Edit section: =foo"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt;&#8990;
&lt;h1&gt;&lt;span class="mw-headline" id="italic_heading.3D"&gt;&lt;i&gt;italic&lt;/i&gt; heading=&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=3" title="Edit section: italic heading="&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt;&#8990;
&lt;h1&gt;&lt;span class="mw-headline" id=".3Ditalic_heading"&gt;=&lt;i&gt;italic&lt;/i&gt; heading&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=4" title="Edit section: =italic heading"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;h1&gt;&lt;span class="mw-headline" id="foo="&gt;foo=&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: foo="&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt;&#8990;
&lt;h1&gt;&lt;span class="mw-headline" id="=foo"&gt;=foo&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: =foo"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt;&#8990;
&lt;h1&gt;&lt;span class="mw-headline" id="''italic'' heading="&gt;''italic'' heading=&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: ''italic'' heading="&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt;&#8990;
&lt;h1&gt;&lt;span class="mw-headline" id="=''italic'' heading"&gt;=''italic'' heading&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: =''italic'' heading"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">668</th>
<td class="status">fail</td>
<td class="description">HTML headers vs TOC (bug 23393)
(__NOEDITSECTION__ for clearer output, doesn't matter here)</td>
<td class="input"><pre>&lt;h1&gt;Header 1&lt;/h1&gt;&#8990;
== Header 1.1 ==&#8990;
== Header 1.2 ==&#8990;
&#8990;
&lt;h1&gt;Header 2&#8990;
&lt;/h1&gt;&#8990;
== Header 2.1 ==&#8990;
== Header 2.2 ==&#8990;
__NOEDITSECTION__</pre></td>
<td class="expect"><pre>&lt;div id="toc" class="toc"&gt;&lt;div id="toctitle"&gt;&lt;h2&gt;Contents&lt;/h2&gt;&lt;/div&gt;&#8990;
&lt;ul&gt;&#8990;
&lt;li class="toclevel-1"&gt;&lt;a href="#Header_1"&gt;&lt;span class="tocnumber"&gt;1&lt;/span&gt; &lt;span class="toctext"&gt;Header 1&lt;/span&gt;&lt;/a&gt;&#8990;
&lt;ul&gt;&#8990;
&lt;li class="toclevel-2 tocsection-1"&gt;&lt;a href="#Header_1.1"&gt;&lt;span class="tocnumber"&gt;1.1&lt;/span&gt; &lt;span class="toctext"&gt;Header 1.1&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;li class="toclevel-2 tocsection-2"&gt;&lt;a href="#Header_1.2"&gt;&lt;span class="tocnumber"&gt;1.2&lt;/span&gt; &lt;span class="toctext"&gt;Header 1.2&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
&lt;/li&gt;&#8990;
&lt;li class="toclevel-1"&gt;&lt;a href="#Header_2"&gt;&lt;span class="tocnumber"&gt;2&lt;/span&gt; &lt;span class="toctext"&gt;Header 2&lt;/span&gt;&lt;/a&gt;&#8990;
&lt;ul&gt;&#8990;
&lt;li class="toclevel-2 tocsection-3"&gt;&lt;a href="#Header_2.1"&gt;&lt;span class="tocnumber"&gt;2.1&lt;/span&gt; &lt;span class="toctext"&gt;Header 2.1&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;li class="toclevel-2 tocsection-4"&gt;&lt;a href="#Header_2.2"&gt;&lt;span class="tocnumber"&gt;2.2&lt;/span&gt; &lt;span class="toctext"&gt;Header 2.2&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
&lt;/div&gt;&#8990;
&lt;h1&gt;&lt;span class="mw-headline" id="Header_1"&gt;Header 1&lt;/span&gt;&lt;/h1&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="Header_1.1"&gt;Header 1.1&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="Header_1.2"&gt;Header 1.2&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h1&gt;&lt;span class="mw-headline" id="Header_2"&gt;Header 2&lt;/span&gt;&lt;/h1&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="Header_2.1"&gt;Header 2.1&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="Header_2.2"&gt;Header 2.2&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;h1&gt;&lt;span class="mw-headline" id="Header 1"&gt;Header 1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: Header 1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="Header 1.1"&gt;Header 1.1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: Header 1.1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="Header 1.2"&gt;Header 1.2&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: Header 1.2"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h1&gt;&lt;span class="mw-headline" id="Header 2"&gt;Header 2&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: Header 2"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="Header 2.1"&gt;Header 2.1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: Header 2.1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="Header 2.2"&gt;Header 2.2&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: Header 2.2"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;p&gt;__NOEDITSECTION__&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">669</th>
<td class="status">fail</td>
<td class="description">BUG 1219 URL next to image (broken)</td>
<td class="input"><pre>http://example.com[[Image:foobar.jpg]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://example.com"&gt;http://example.com&lt;/a&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image"&gt;&lt;img alt="Foobar.jpg" src="http://example.com/images/3/3a/Foobar.jpg" width="1941" height="220" /&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://example.com"&gt;http://example.com&lt;/a&gt;&lt;a href="/wiki/Image:foobar.jpg" title="Image:foobar.jpg"&gt;Image:foobar.jpg&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">670</th>
<td class="status">pass</td>
<td class="description">Bug 1186 news: in the middle of text</td>
<td class="input"><pre>http://en.wikinews.org/wiki/Wikinews:Workplace</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://en.wikinews.org/wiki/Wikinews:Workplace"&gt;http://en.wikinews.org/wiki/Wikinews:Workplace&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://en.wikinews.org/wiki/Wikinews:Workplace"&gt;http://en.wikinews.org/wiki/Wikinews:Workplace&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">671</th>
<td class="status">fail</td>
<td class="description">Namespaced link must have a title</td>
<td class="input"><pre>[[Project:]]</pre></td>
<td class="expect"><pre>&lt;p&gt;[[Project:]]&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Project:" title="Project:"&gt;Project:&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">672</th>
<td class="status">fail</td>
<td class="description">Namespaced link must have a title (bad fragment version)</td>
<td class="input"><pre>[[Project:#fragment]]</pre></td>
<td class="expect"><pre>&lt;p&gt;[[Project:#fragment]]&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Project:#fragment" title="Project:#fragment"&gt;Project:#fragment&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">673</th>
<td class="status">tidy</td>
<td class="description">div with no attributes</td>
<td class="input"><pre>&lt;div&gt;HTML rocks&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div&gt;HTML rocks&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div&gt;HTML rocks&lt;/div&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">674</th>
<td class="status">tidy</td>
<td class="description">div with double-quoted attribute</td>
<td class="input"><pre>&lt;div id="rock"&gt;HTML rocks&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div id="rock"&gt;HTML rocks&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div id="rock"&gt;HTML rocks&lt;/div&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">675</th>
<td class="status">tidy</td>
<td class="description">div with single-quoted attribute</td>
<td class="input"><pre>&lt;div id='rock'&gt;HTML rocks&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div id="rock"&gt;HTML rocks&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div id="rock"&gt;HTML rocks&lt;/div&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">676</th>
<td class="status">fail</td>
<td class="description">div with unquoted attribute</td>
<td class="input"><pre>&lt;div id=rock&gt;HTML rocks&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div id="rock"&gt;HTML rocks&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;div id=rock&amp;gt;HTML rocks&amp;lt;/div&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">677</th>
<td class="status">tidy</td>
<td class="description">div with illegal double attributes</td>
<td class="input"><pre>&lt;div id="a" id="b"&gt;HTML rocks&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div id="b"&gt;HTML rocks&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div id="b"&gt;HTML rocks&lt;/div&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">678</th>
<td class="status">fail</td>
<td class="description">div with empty attribute value, space before equals<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>&lt;div class =&gt;HTML rocks&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div class=""&gt;HTML rocks&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;div class =&amp;gt;HTML rocks&amp;lt;/div&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">679</th>
<td class="status">pass</td>
<td class="description">div with braces in attribute value<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>&lt;div title="{}"&gt;Foo&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div title="{}"&gt;Foo&lt;/div&gt;</pre></td>
<td class="output"><pre>&lt;div title="{}"&gt;Foo&lt;/div&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">680</th>
<td class="status">fail</td>
<td class="description">div with empty attribute value, no space before equals<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>&lt;div class=&gt;HTML rocks&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div class=""&gt;HTML rocks&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;div class=&amp;gt;HTML rocks&amp;lt;/div&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">681</th>
<td class="status">tidy</td>
<td class="description">HTML multiple attributes correction</td>
<td class="input"><pre>&lt;p class="error" class="awesome"&gt;Awesome!&lt;/p&gt;</pre></td>
<td class="expect"><pre>&lt;p class="awesome"&gt;Awesome!&lt;/p&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p class="awesome"&gt;Awesome!&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">682</th>
<td class="status">tidy</td>
<td class="description">Table multiple attributes correction</td>
<td class="input"><pre>{|&#8990;
!+ class="error" class="awesome"| status&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;th class="awesome"&gt; status&#8990;
&lt;/th&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;th class="awesome"&gt;status&lt;/th&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">683</th>
<td class="status">tidy</td>
<td class="description">DIV IN UPPERCASE</td>
<td class="input"><pre>&lt;DIV ID="x"&gt;HTML ROCKS&lt;/DIV&gt;</pre></td>
<td class="expect"><pre>&lt;div id="x"&gt;HTML ROCKS&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div id="x"&gt;HTML ROCKS&lt;/div&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">684</th>
<td class="status">tidy</td>
<td class="description">Non-ASCII pseudo-tags are rendered as text</td>
<td class="input"><pre>&lt;khy&#244;&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&amp;lt;khy&#244;&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;khy&amp;#244;&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">685</th>
<td class="status">fail</td>
<td class="description">Pseudo-tag with URL 'name' renders as url link</td>
<td class="input"><pre>&lt;http://example.com/&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&amp;lt;&lt;a rel="nofollow" class="external free" href="http://example.com/"&gt;http://example.com/&lt;/a&gt;&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;&lt;a rel="nofollow" class="external free" href="http://example.com/&amp;gt;"&gt;http://example.com/&amp;gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">686</th>
<td class="status">pass</td>
<td class="description">text with amp in the middle of nowhere</td>
<td class="input"><pre>Remember AT&amp;T?</pre></td>
<td class="expect"><pre>&lt;p&gt;Remember AT&amp;amp;T?&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Remember AT&amp;amp;T?&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">687</th>
<td class="status">pass</td>
<td class="description">text with character entity: eacute</td>
<td class="input"><pre>I always thought &amp;eacute; was a cute letter.</pre></td>
<td class="expect"><pre>&lt;p&gt;I always thought &amp;#233; was a cute letter.&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;I always thought &amp;#233; was a cute letter.&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">688</th>
<td class="status">pass</td>
<td class="description">text with entity-escaped character entity-like string: eacute</td>
<td class="input"><pre>I always thought &amp;amp;eacute; was a cute letter.</pre></td>
<td class="expect"><pre>&lt;p&gt;I always thought &amp;amp;eacute; was a cute letter.&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;I always thought &amp;amp;eacute; was a cute letter.&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">689</th>
<td class="status">pass</td>
<td class="description">text with undefined character entity: xacute</td>
<td class="input"><pre>I always thought &amp;xacute; was a cute letter.</pre></td>
<td class="expect"><pre>&lt;p&gt;I always thought &amp;amp;xacute; was a cute letter.&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;I always thought &amp;amp;xacute; was a cute letter.&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">690</th>
<td class="status">pass</td>
<td class="description">Ensure that HTML adoption agency algorithm is properly implemented.</td>
<td class="input"><pre>&lt;big&gt;X&lt;big&gt;Y&lt;/big&gt;Z&lt;/big&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;big&gt;X&lt;big&gt;Y&lt;/big&gt;Z&lt;/big&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;big&gt;X&lt;big&gt;Y&lt;/big&gt;Z&lt;/big&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">691</th>
<td class="status">pass</td>
<td class="description">Nesting of &lt;kbd&gt;</td>
<td class="input"><pre>&lt;kbd&gt;X&lt;kbd&gt;Y&lt;/kbd&gt;Z&lt;/kbd&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;kbd&gt;X&lt;kbd&gt;Y&lt;/kbd&gt;Z&lt;/kbd&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;kbd&gt;X&lt;kbd&gt;Y&lt;/kbd&gt;Z&lt;/kbd&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">692</th>
<td class="status">pass</td>
<td class="description">Nesting of &lt;em&gt;</td>
<td class="input"><pre>&lt;em&gt;X&lt;em&gt;Y&lt;/em&gt;Z&lt;/em&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;em&gt;X&lt;em&gt;Y&lt;/em&gt;Z&lt;/em&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;em&gt;X&lt;em&gt;Y&lt;/em&gt;Z&lt;/em&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">693</th>
<td class="status">pass</td>
<td class="description">Nesting of &lt;strong&gt;</td>
<td class="input"><pre>&lt;strong&gt;X&lt;strong&gt;Y&lt;/strong&gt;Z&lt;/strong&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;strong&gt;X&lt;strong&gt;Y&lt;/strong&gt;Z&lt;/strong&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;strong&gt;X&lt;strong&gt;Y&lt;/strong&gt;Z&lt;/strong&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">694</th>
<td class="status">fail</td>
<td class="description">Nesting of &lt;q&gt;</td>
<td class="input"><pre>&lt;q&gt;X&lt;q&gt;Y&lt;/q&gt;Z&lt;/q&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;q&gt;X&lt;q&gt;Y&lt;/q&gt;Z&lt;/q&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;q&amp;gt;X&amp;lt;q&amp;gt;Y&amp;lt;/q&amp;gt;Z&amp;lt;/q&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">695</th>
<td class="status">fail</td>
<td class="description">Nesting of &lt;ruby&gt;</td>
<td class="input"><pre>&lt;ruby&gt;X&lt;ruby&gt;Y&lt;/ruby&gt;Z&lt;/ruby&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;ruby&gt;X&lt;ruby&gt;Y&lt;/ruby&gt;Z&lt;/ruby&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;ruby&amp;gt;X&amp;lt;ruby&amp;gt;Y&amp;lt;/ruby&amp;gt;Z&amp;lt;/ruby&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">696</th>
<td class="status">fail</td>
<td class="description">Nesting of &lt;bdo&gt;</td>
<td class="input"><pre>&lt;bdo&gt;X&lt;bdo&gt;Y&lt;/bdo&gt;Z&lt;/bdo&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;bdo&gt;X&lt;bdo&gt;Y&lt;/bdo&gt;Z&lt;/bdo&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;bdo&amp;gt;X&amp;lt;bdo&amp;gt;Y&amp;lt;/bdo&amp;gt;Z&amp;lt;/bdo&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">697</th>
<td class="status">fail</td>
<td class="description">Media link</td>
<td class="input"><pre>[[Media:Foobar.jpg]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="http://example.com/images/3/3a/Foobar.jpg" class="internal" title="Foobar.jpg"&gt;Media:Foobar.jpg&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Media:Foobar.jpg" title="Media:Foobar.jpg"&gt;Media:Foobar.jpg&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">698</th>
<td class="status">fail</td>
<td class="description">Media link with text</td>
<td class="input"><pre>[[Media:Foobar.jpg|A neat file to look at]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="http://example.com/images/3/3a/Foobar.jpg" class="internal" title="Foobar.jpg"&gt;A neat file to look at&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Media:Foobar.jpg" title="Media:Foobar.jpg"&gt;A neat file to look at&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">699</th>
<td class="status">fail</td>
<td class="description">Media link with nasty text
fixme: doBlockLevels won't wrap this in a paragraph because it contains a div</td>
<td class="input"><pre>[[Media:Foobar.jpg|Safe Link&lt;div style=display:none&gt;" onmouseover="alert(document.cookie)" onfoo="&lt;/div&gt;]]</pre></td>
<td class="expect"><pre>&lt;a href="http://example.com/images/3/3a/Foobar.jpg" class="internal" title="Foobar.jpg"&gt;Safe Link&amp;lt;div style="display:none"&amp;gt;" onmouseover="alert(document.cookie)" onfoo="&amp;lt;/div&amp;gt;&lt;/a&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Media:Foobar.jpg" title="Media:Foobar.jpg"&gt;Safe Link&amp;lt;div style=display:none&amp;gt;" onmouseover="alert(document.cookie)" onfoo="&amp;lt;/div&amp;gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">700</th>
<td class="status">fail</td>
<td class="description">Media link to nonexistent file (bug 1702)</td>
<td class="input"><pre>[[Media:No such.jpg]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/index.php?title=Special:Upload&amp;amp;wpDestFile=No_such.jpg" class="new" title="No such.jpg"&gt;Media:No such.jpg&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Media:No_such.jpg" title="Media:No such.jpg"&gt;Media:No such.jpg&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">701</th>
<td class="status">fail</td>
<td class="description">Image link to nonexistent file (bug 1850 - good)</td>
<td class="input"><pre>[[Image:No such.jpg]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/index.php?title=Special:Upload&amp;amp;wpDestFile=No_such.jpg" class="new" title="File:No such.jpg"&gt;File:No such.jpg&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:No_such.jpg" title="Image:No such.jpg"&gt;Image:No such.jpg&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">702</th>
<td class="status">fail</td>
<td class="description">:Image link to nonexistent file (bug 1850 - bad)</td>
<td class="input"><pre>[[:Image:No such.jpg]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/index.php?title=File:No_such.jpg&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="File:No such.jpg (page does not exist)"&gt;Image:No such.jpg&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/:Image:No_such.jpg" title=":Image:No such.jpg"&gt;:Image:No such.jpg&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">703</th>
<td class="status">pass</td>
<td class="description">Character reference normalization in link text (bug 1938)</td>
<td class="input"><pre>[[Main Page|this&amp;that]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;this&amp;amp;that&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;this&amp;amp;that&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">704</th>
<td class="status">fail</td>
<td class="description">(bug 19451) Links should refer to the normalized form.</td>
<td class="input"><pre>[[&amp;#xFB2E;]]&#8990;
[[&amp;#x5d0;&amp;#x5b7;]]&#8990;
[[&amp;#x5d0;&#1463;]]&#8990;
[[&#1488;&amp;#x5b7;]]&#8990;
[[&#1488;&#1463;]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/%D7%90%D6%B7" title="&#1488;&#1463;"&gt;&amp;#xfb2e;&lt;/a&gt;&#8990;
&lt;a href="/wiki/%D7%90%D6%B7" title="&#1488;&#1463;"&gt;&amp;#x5d0;&amp;#x5b7;&lt;/a&gt;&#8990;
&lt;a href="/wiki/%D7%90%D6%B7" title="&#1488;&#1463;"&gt;&amp;#x5d0;&#1463;&lt;/a&gt;&#8990;
&lt;a href="/wiki/%D7%90%D6%B7" title="&#1488;&#1463;"&gt;&#1488;&amp;#x5b7;&lt;/a&gt;&#8990;
&lt;a href="/wiki/%D7%90%D6%B7" title="&#1488;&#1463;"&gt;&#1488;&#1463;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/&amp;#64302;" title="&amp;#64302;"&gt;&amp;#64302;&lt;/a&gt;&#8990;
&lt;a href="/wiki/&amp;#1488;&amp;#1463;" title="&amp;#1488;&amp;#1463;"&gt;&amp;#1488;&amp;#1463;&lt;/a&gt;&#8990;
&lt;a href="/wiki/&amp;#1488;&amp;#1463;" title="&amp;#1488;&amp;#1463;"&gt;&amp;#1488;&amp;#1463;&lt;/a&gt;&#8990;
&lt;a href="/wiki/&amp;#1488;&amp;#1463;" title="&amp;#1488;&amp;#1463;"&gt;&amp;#1488;&amp;#1463;&lt;/a&gt;&#8990;
&lt;a href="/wiki/&amp;#1488;&amp;#1463;" title="&amp;#1488;&amp;#1463;"&gt;&amp;#1488;&amp;#1463;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">705</th>
<td class="status">pass</td>
<td class="description">Empty attribute crash test (bug 2067)</td>
<td class="input"><pre>&lt;font color=""&gt;foo&lt;/font&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;font color=""&gt;foo&lt;/font&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;font color=""&gt;foo&lt;/font&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">706</th>
<td class="status">pass</td>
<td class="description">Empty attribute crash test single-quotes (bug 2067)</td>
<td class="input"><pre>&lt;font color=''&gt;foo&lt;/font&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;font color=""&gt;foo&lt;/font&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;font color=""&gt;foo&lt;/font&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">707</th>
<td class="status">fail</td>
<td class="description">Attribute test: equals, then nothing</td>
<td class="input"><pre>&lt;font color=&gt;foo&lt;/font&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;font&gt;foo&lt;/font&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;font color=&amp;gt;foo&amp;lt;/font&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">708</th>
<td class="status">fail</td>
<td class="description">Attribute test: unquoted value</td>
<td class="input"><pre>&lt;font color=x&gt;foo&lt;/font&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;font color="x"&gt;foo&lt;/font&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;font color=x&amp;gt;foo&amp;lt;/font&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">709</th>
<td class="status">fail</td>
<td class="description">Attribute test: unquoted but illegal value (hash)</td>
<td class="input"><pre>&lt;font color=#x&gt;foo&lt;/font&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;font color="#x"&gt;foo&lt;/font&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;font color=#x&amp;gt;foo&amp;lt;/font&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">710</th>
<td class="status">fail</td>
<td class="description">Attribute test: no value</td>
<td class="input"><pre>&lt;font color&gt;foo&lt;/font&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;font color="color"&gt;foo&lt;/font&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;font color&amp;gt;foo&amp;lt;/font&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">711</th>
<td class="status">pass</td>
<td class="description">Bug 2095: link with three closing brackets</td>
<td class="input"><pre>[[Main Page]]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt;]&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt;]&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">712</th>
<td class="status">pass</td>
<td class="description">Bug 2095: link with pipe and three closing brackets</td>
<td class="input"><pre>[[Main Page|link]]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;link&lt;/a&gt;]&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;link&lt;/a&gt;]&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">713</th>
<td class="status">fail</td>
<td class="description">Bug 2095: link with pipe and three closing brackets, version 2</td>
<td class="input"><pre>[[Main Page|[http://example.com/]]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;[http://example.com/]&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;&lt;a href="http://example.com/"&gt;http://example.com/&lt;/a&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">714</th>
<td class="status">fail</td>
<td class="description">Bug 2304: HTML attribute safety (safe template; regression bug 2309)</td>
<td class="input"><pre>&lt;div title="{{test}}"&gt;&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div title="This is a test template"&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div title="This is a test template"/&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">715</th>
<td class="status">fail</td>
<td class="description">Bug 2304: HTML attribute safety (dangerous template; 2309)</td>
<td class="input"><pre>&lt;div title="{{dangerous attribute}}"&gt;&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div title=""&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div title=""/&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">716</th>
<td class="status">fail</td>
<td class="description">Bug 2304: HTML attribute safety (dangerous style template; 2309)</td>
<td class="input"><pre>&lt;div style="{{dangerous style attribute}}"&gt;&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div style="/* insecure input */"&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div style="/* insecure input */"/&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">717</th>
<td class="status">tidy</td>
<td class="description">Bug 2304: HTML attribute safety (safe parameter; 2309)</td>
<td class="input"><pre>{{div style|width: 200px}}</pre></td>
<td class="expect"><pre>&lt;div style="float: right; width: 200px"&gt;Magic div&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div style="float: right; width: 200px"&gt;Magic div&lt;/div&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">718</th>
<td class="status">tidy</td>
<td class="description">Bug 2304: HTML attribute safety (unsafe parameter; 2309)</td>
<td class="input"><pre>{{div style|width: expression(alert(document.cookie))}}</pre></td>
<td class="expect"><pre>&lt;div style="/* insecure input */"&gt;Magic div&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div style="/* insecure input */"&gt;Magic div&lt;/div&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">719</th>
<td class="status">tidy</td>
<td class="description">Bug 2304: HTML attribute safety (unsafe breakout parameter; 2309)</td>
<td class="input"><pre>{{div style|"&gt;&lt;script&gt;alert(document.cookie)&lt;/script&gt;}}</pre></td>
<td class="expect"><pre>&lt;div style="float: right;"&gt;&amp;lt;script&amp;gt;alert(document.cookie)&amp;lt;/script&amp;gt;"&amp;gt;Magic div&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div style="float: right; "&gt;&amp;lt;script&amp;gt;alert(document.cookie)&amp;lt;/script&amp;gt;"&amp;gt;Magic div&lt;/div&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">720</th>
<td class="status">tidy</td>
<td class="description">Bug 2304: HTML attribute safety (unsafe breakout parameter 2; 2309)</td>
<td class="input"><pre>{{div style|" &gt;&lt;script&gt;alert(document.cookie)&lt;/script&gt;}}</pre></td>
<td class="expect"><pre>&lt;div style="float: right;"&gt;&amp;lt;script&amp;gt;alert(document.cookie)&amp;lt;/script&amp;gt;"&amp;gt;Magic div&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div style="float: right; "&gt;&amp;lt;script&amp;gt;alert(document.cookie)&amp;lt;/script&amp;gt;"&amp;gt;Magic div&lt;/div&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">721</th>
<td class="status">fail</td>
<td class="description">Bug 2304: HTML attribute safety (link)</td>
<td class="input"><pre>&lt;div title="[[Main Page]]"&gt;&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div title="&amp;#91;&amp;#91;Main Page]]"&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div title="[[Main Page]]"/&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">722</th>
<td class="status">fail</td>
<td class="description">Bug 2304: HTML attribute safety (italics)</td>
<td class="input"><pre>&lt;div title="''foobar''"&gt;&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div title="&amp;#39;&amp;#39;foobar&amp;#39;&amp;#39;"&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div title="''foobar''"/&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">723</th>
<td class="status">fail</td>
<td class="description">Bug 2304: HTML attribute safety (bold)</td>
<td class="input"><pre>&lt;div title="'''foobar'''"&gt;&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div title="&amp;#39;&amp;#39;&amp;#39;foobar&amp;#39;&amp;#39;&amp;#39;"&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div title="'''foobar'''"/&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">724</th>
<td class="status">fail</td>
<td class="description">Bug 2304: HTML attribute safety (ISBN)</td>
<td class="input"><pre>&lt;div title="ISBN 1234567890"&gt;&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div title="&amp;#73;SBN 1234567890"&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div title="ISBN 1234567890"/&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">725</th>
<td class="status">fail</td>
<td class="description">Bug 2304: HTML attribute safety (RFC)</td>
<td class="input"><pre>&lt;div title="RFC 1234"&gt;&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div title="&amp;#82;FC 1234"&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div title="RFC 1234"/&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">726</th>
<td class="status">fail</td>
<td class="description">Bug 2304: HTML attribute safety (PMID)</td>
<td class="input"><pre>&lt;div title="PMID 1234567890"&gt;&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div title="&amp;#80;MID 1234567890"&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div title="PMID 1234567890"/&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">727</th>
<td class="status">fail</td>
<td class="description">Bug 2304: HTML attribute safety (web link)</td>
<td class="input"><pre>&lt;div title="http://example.com/"&gt;&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div title="http&amp;#58;//example.com/"&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div title="http://example.com/"/&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">728</th>
<td class="status">fail</td>
<td class="description">Bug 2304: HTML attribute safety (named web link)</td>
<td class="input"><pre>&lt;div title="[http://example.com/ link]"&gt;&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div title="&amp;#91;http&amp;#58;//example.com/ link]"&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div title="[http://example.com/ link]"/&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">729</th>
<td class="status">fail</td>
<td class="description">Bug 3244: HTML attribute safety (extension; safe)</td>
<td class="input"><pre>&lt;div style="&lt;nowiki&gt;background:blue&lt;/nowiki&gt;"&gt;&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div style="background:blue"&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div style="background:blue"/&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">730</th>
<td class="status">fail</td>
<td class="description">Bug 3244: HTML attribute safety (extension; unsafe)</td>
<td class="input"><pre>&lt;div style="&lt;nowiki&gt;border-left:expression(alert(document.cookie))&lt;/nowiki&gt;"&gt;&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div style="/* insecure input */"&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div style="/* insecure input */"/&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">731</th>
<td class="status">tidy</td>
<td class="description">MSIE CSS safety test: spurious slash</td>
<td class="input"><pre>&lt;div style="background-image:u\rl(javascript:alert('boo'))"&gt;evil&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div style="/* insecure input */"&gt;evil&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div style="/* insecure input */"&gt;evil&lt;/div&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">732</th>
<td class="status">tidy</td>
<td class="description">MSIE CSS safety test: hex code</td>
<td class="input"><pre>&lt;div style="background-image:u\72l(javascript:alert('boo'))"&gt;evil&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div style="/* insecure input */"&gt;evil&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div style="/* insecure input */"&gt;evil&lt;/div&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">733</th>
<td class="status">tidy</td>
<td class="description">MSIE CSS safety test: comment in url</td>
<td class="input"><pre>&lt;div style="background-image:u/**/rl(javascript:alert('boo'))"&gt;evil&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div style="background-image:u rl(javascript:alert(&amp;#39;boo&amp;#39;))"&gt;evil&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div style="background-image:u rl(javascript:alert('boo'))"&gt;evil&lt;/div&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">734</th>
<td class="status">tidy</td>
<td class="description">MSIE CSS safety test: comment in expression</td>
<td class="input"><pre>&lt;div style="background-image:expres/**/sion(alert('boo4'))"&gt;evil4&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div style="background-image:expres sion(alert(&amp;#39;boo4&amp;#39;))"&gt;evil4&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div style="background-image:expres sion(alert('boo4'))"&gt;evil4&lt;/div&gt;</pre></td>
</tr>
<tr class="tidy from_fail to_tidy">
<th class="index">735</th>
<td class="status">tidy</td>
<td class="description">Table attribute legitimate extension</td>
<td class="input"><pre>{|&#8990;
!+ style="&lt;nowiki&gt;color:blue&lt;/nowiki&gt;"| status&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;th style="color:blue"&gt; status&#8990;
&lt;/th&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;th style="color:blue"&gt;status&lt;/th&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="tidy from_fail to_tidy">
<th class="index">736</th>
<td class="status">tidy</td>
<td class="description">Table attribute safety</td>
<td class="input"><pre>{|&#8990;
!+ style="&lt;nowiki&gt;border-width:expression(0+alert(document.cookie))&lt;/nowiki&gt;"| status&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;th style="/* insecure input */"&gt; status&#8990;
&lt;/th&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;th style="/* insecure input */"&gt;status&lt;/th&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">737</th>
<td class="status">fail</td>
<td class="description">CSS line continuation 1</td>
<td class="input"><pre>&lt;div style="background-image: u\&amp;#10;rl(test.jpg);"&gt;&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div style="/* insecure input */"&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div style="/* insecure input */"/&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">738</th>
<td class="status">fail</td>
<td class="description">CSS line continuation 2</td>
<td class="input"><pre>&lt;div style="background-image: u\&amp;#13;rl(test.jpg); "&gt;&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div style="/* insecure input */"&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div style="/* insecure input */"/&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">739</th>
<td class="status">fail</td>
<td class="description">Expansion of multi-line templates in attribute values (bug 6255)</td>
<td class="input"><pre>&lt;div style="background: {{identity|#00FF00}}"&gt;-&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div style="background: #00FF00"&gt;-&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div style="background: &amp;#10;#00FF00"&gt;-&lt;/div&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">740</th>
<td class="status">fail</td>
<td class="description">Expansion of multi-line templates in attribute values (bug 6255 sanity check)</td>
<td class="input"><pre>&lt;div style="background: &#8990;
#00FF00"&gt;-&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div style="background: #00FF00"&gt;-&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div style="background: &amp;#10;#00FF00"&gt;-&lt;/div&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">741</th>
<td class="status">fail</td>
<td class="description">Expansion of multi-line templates in attribute values (bug 6255 sanity check 2)</td>
<td class="input"><pre>&lt;div style="background: &amp;#10;#00FF00"&gt;-&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div style="background: &amp;#10;#00FF00"&gt;-&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div style="background: &amp;#10;#00FF00"&gt;-&lt;/div&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">742</th>
<td class="status">fail</td>
<td class="description">Parser hook: empty input</td>
<td class="input"><pre>&lt;tag&gt;&lt;/tag&gt;</pre></td>
<td class="expect"><pre>&lt;pre&gt;&#8990;
''&#8990;
array (&#8990;
)&#8990;
&lt;/pre&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;tag&amp;gt;&amp;lt;/tag&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">743</th>
<td class="status">fail</td>
<td class="description">Parser hook: empty input using terminated empty elements</td>
<td class="input"><pre>&lt;tag/&gt;</pre></td>
<td class="expect"><pre>&lt;pre&gt;&#8990;
NULL&#8990;
array (&#8990;
)&#8990;
&lt;/pre&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;tag/&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">744</th>
<td class="status">fail</td>
<td class="description">Parser hook: empty input using terminated empty elements (space before)</td>
<td class="input"><pre>&lt;tag /&gt;</pre></td>
<td class="expect"><pre>&lt;pre&gt;&#8990;
NULL&#8990;
array (&#8990;
)&#8990;
&lt;/pre&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;tag /&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">745</th>
<td class="status">fail</td>
<td class="description">Parser hook: basic input</td>
<td class="input"><pre>&lt;tag&gt;input&lt;/tag&gt;</pre></td>
<td class="expect"><pre>&lt;pre&gt;&#8990;
'input'&#8990;
array (&#8990;
)&#8990;
&lt;/pre&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;tag&amp;gt;input&amp;lt;/tag&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">746</th>
<td class="status">fail</td>
<td class="description">Parser hook: case insensitive</td>
<td class="input"><pre>&lt;TAG&gt;input&lt;/TAG&gt;</pre></td>
<td class="expect"><pre>&lt;pre&gt;&#8990;
'input'&#8990;
array (&#8990;
)&#8990;
&lt;/pre&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;TAG&amp;gt;input&amp;lt;/TAG&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">747</th>
<td class="status">fail</td>
<td class="description">Parser hook: case insensitive, redux</td>
<td class="input"><pre>&lt;TaG&gt;input&lt;/TAg&gt;</pre></td>
<td class="expect"><pre>&lt;pre&gt;&#8990;
'input'&#8990;
array (&#8990;
)&#8990;
&lt;/pre&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;TaG&amp;gt;input&amp;lt;/TAg&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">748</th>
<td class="status">fail</td>
<td class="description">Parser hook: nested tags<ul><li>noxml</li></ul>
</td>
<td class="input"><pre>&lt;tag&gt;&lt;tag&gt;&lt;/tag&gt;&lt;/tag&gt;</pre></td>
<td class="expect"><pre>&lt;pre&gt;&#8990;
'&lt;tag&gt;'&#8990;
array (&#8990;
)&#8990;
&lt;/pre&gt;&amp;lt;/tag&amp;gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;tag&amp;gt;&amp;lt;tag&amp;gt;&amp;lt;/tag&amp;gt;&amp;lt;/tag&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">749</th>
<td class="status">fail</td>
<td class="description">Parser hook: basic arguments</td>
<td class="input"><pre>&lt;tag width=200 height = "100" depth = '50' square&gt;&lt;/tag&gt;</pre></td>
<td class="expect"><pre>&lt;pre&gt;&#8990;
''&#8990;
array (&#8990;
  'width' =&gt; '200',&#8990;
  'height' =&gt; '100',&#8990;
  'depth' =&gt; '50',&#8990;
  'square' =&gt; 'square',&#8990;
)&#8990;
&lt;/pre&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;tag width=200 height = "100" depth = '50' square&amp;gt;&amp;lt;/tag&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">750</th>
<td class="status">fail</td>
<td class="description">Parser hook: argument containing a forward slash (bug 5344)</td>
<td class="input"><pre>&lt;tag filename='/tmp/bla'&gt;&lt;/tag&gt;</pre></td>
<td class="expect"><pre>&lt;pre&gt;&#8990;
''&#8990;
array (&#8990;
  'filename' =&gt; '/tmp/bla',&#8990;
)&#8990;
&lt;/pre&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;tag filename='/tmp/bla'&amp;gt;&amp;lt;/tag&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">751</th>
<td class="status">fail</td>
<td class="description">Parser hook: empty input using terminated empty elements (bug 2374)</td>
<td class="input"><pre>&lt;tag foo=bar/&gt;text</pre></td>
<td class="expect"><pre>&lt;pre&gt;&#8990;
NULL&#8990;
array (&#8990;
  'foo' =&gt; 'bar',&#8990;
)&#8990;
&lt;/pre&gt;text&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;tag foo=bar/&amp;gt;text&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">752</th>
<td class="status">fail</td>
<td class="description">Parser hook: basic arguments using terminated empty elements (bug 2374)</td>
<td class="input"><pre>&lt;tag width=200 height = "100" depth = '50' square/&gt;&#8990;
other stuff&#8990;
&lt;/tag&gt;</pre></td>
<td class="expect"><pre>&lt;pre&gt;&#8990;
NULL&#8990;
array (&#8990;
  'width' =&gt; '200',&#8990;
  'height' =&gt; '100',&#8990;
  'depth' =&gt; '50',&#8990;
  'square' =&gt; 'square',&#8990;
)&#8990;
&lt;/pre&gt;&#8990;
&lt;p&gt;other stuff&#8990;
&amp;lt;/tag&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;tag width=200 height = "100" depth = '50' square/&amp;gt;&#8990;
other stuff&#8990;
&amp;lt;/tag&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">753</th>
<td class="status">fail</td>
<td class="description">Parser hook: static parser hook not inside a comment</td>
<td class="input"><pre>&lt;statictag&gt;hello, world&lt;/statictag&gt;&#8990;
&lt;statictag action=flush/&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;hello, world&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;statictag&amp;gt;hello, world&amp;lt;/statictag&amp;gt;&#8990;
&amp;lt;statictag action=flush/&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">754</th>
<td class="status">fail</td>
<td class="description">Parser hook: static parser hook inside a comment</td>
<td class="input"><pre>&lt;!-- &lt;statictag&gt;hello, world&lt;/statictag&gt; --&gt;&#8990;
&lt;statictag action=flush/&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;br /&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;statictag action=flush/&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">755</th>
<td class="status">pass</td>
<td class="description">Nested template calls</td>
<td class="input"><pre>{{Map-one-parameter|One-parameter|param}}</pre></td>
<td class="expect"><pre>&lt;p&gt;(My parameter is: param)&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;(My parameter is: param)&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">756</th>
<td class="status">tidy</td>
<td class="description">Sanitizer: Closing of open tags</td>
<td class="input"><pre>&lt;s&gt;&lt;/s&gt;&lt;table&gt;&lt;/table&gt;</pre></td>
<td class="expect"><pre>&lt;s&gt;&lt;/s&gt;&lt;table&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;s/&gt;&#8990;
&lt;/p&gt;&lt;table/&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">757</th>
<td class="status">pass</td>
<td class="description">Sanitizer: Closing of open but not closed tags</td>
<td class="input"><pre>&lt;s&gt;foo</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;s&gt;foo&lt;/s&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;s&gt;foo&lt;/s&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">758</th>
<td class="status">pass</td>
<td class="description">Sanitizer: Closing of closed but not open tags</td>
<td class="input"><pre>&lt;/s&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&amp;lt;/s&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;/s&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">759</th>
<td class="status">pass</td>
<td class="description">Sanitizer: Closing of closed but not open table tags</td>
<td class="input"><pre>Table not started&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;Table not started&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&amp;lt;/table&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Table not started&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&amp;lt;/table&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">760</th>
<td class="status">fail</td>
<td class="description">Sanitizer: Escaping of spaces, multibyte characters, colons &amp; other stuff in id=""</td>
<td class="input"><pre>&lt;span id="&#230;: v"&gt;byte&lt;/span&gt;[[#&#230;: v|backlink]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;span id=".C3.A6:_v"&gt;byte&lt;/span&gt;&lt;a href="#.C3.A6:_v"&gt;backlink&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;span id="&amp;#230;: v"&gt;byte&lt;/span&gt;&lt;a href="/wiki/#&amp;#230;:_v" title="#&amp;#230;: v"&gt;backlink&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="skip">
<th class="index">761</th>
<td class="status">skip</td>
<td class="description">Sanitizer: Validating the contents of the id attribute (bug 4515)<ul><li>disabled</li></ul>
</td>
<td class="input"><pre>&lt;br id=9 /&gt;</pre></td>
<td class="expect"><pre>Something, but definitely not &lt;br id="9" /&gt;...</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">762</th>
<td class="status">skip</td>
<td class="description">Sanitizer: Validating id attribute uniqueness (bug 4515, bug 6301)<ul><li>disabled</li></ul>
</td>
<td class="input"><pre>&lt;br id="foo" /&gt;&lt;br id="foo" /&gt;</pre></td>
<td class="expect"><pre>Something need to be done. foo-2 ? </pre></td>
<td class="output"> </td>
</tr>
<tr class="fail">
<th class="index">763</th>
<td class="status">fail</td>
<td class="description">Sanitizer: Validating that &lt;meta&gt; and &lt;link&gt; work, but only for Microdata</td>
<td class="input"><pre>&lt;div itemscope&gt;&#8990;
	&lt;meta itemprop="hello" content="world"&gt;&#8990;
	&lt;meta http-equiv="refresh" content="5"&gt;&#8990;
	&lt;meta itemprop="hello" http-equiv="refresh" content="5"&gt;&#8990;
	&lt;link itemprop="hello" href="{{SERVER}}"&gt;&#8990;
	&lt;link rel="stylesheet" href="{{SERVER}}"&gt;&#8990;
	&lt;link rel="stylesheet" itemprop="hello" href="{{SERVER}}"&gt;&#8990;
&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div itemscope="itemscope"&gt;&#8990;
&lt;p&gt;	&lt;meta itemprop="hello" content="world" /&gt;&#8990;
	&amp;lt;meta http-equiv="refresh" content="5"&amp;gt;&#8990;
	&lt;meta itemprop="hello" content="5" /&gt;&#8990;
&lt;/p&gt;&#8990;
	&lt;link itemprop="hello" href="http&amp;#58;//example.org" /&gt;&#8990;
	&amp;lt;link rel="stylesheet" href="&lt;a rel="nofollow" class="external free" href="http://example.org"&gt;http://example.org&lt;/a&gt;"&amp;gt;&#8990;
	&lt;link itemprop="hello" href="http&amp;#58;//example.org" /&gt;&#8990;
&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;div itemscope&amp;gt;&#8990;
	&amp;lt;meta itemprop="hello" content="world"&amp;gt;&#8990;
	&amp;lt;meta http-equiv="refresh" content="5"&amp;gt;&#8990;
	&amp;lt;meta itemprop="hello" http-equiv="refresh" content="5"&amp;gt;&#8990;
	&amp;lt;link itemprop="hello" href="&lt;a href="/wiki/Template:SERVER" title="Template:SERVER"&gt;Template:SERVER&lt;/a&gt;"&amp;gt;&#8990;
	&amp;lt;link rel="stylesheet" href="&lt;a href="/wiki/Template:SERVER" title="Template:SERVER"&gt;Template:SERVER&lt;/a&gt;"&amp;gt;&#8990;
	&amp;lt;link rel="stylesheet" itemprop="hello" href="&lt;a href="/wiki/Template:SERVER" title="Template:SERVER"&gt;Template:SERVER&lt;/a&gt;"&amp;gt;&#8990;
&amp;lt;/div&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">764</th>
<td class="status">fail</td>
<td class="description">Language converter: output gets cut off unexpectedly (bug 5757)<ul><li>language: zh</li></ul>
</td>
<td class="input"><pre>this bit is safe: }-&#8990;
&#8990;
but if we add a conversion instance: -{zh-cn:xxx;zh-tw:yyy}-&#8990;
&#8990;
then we get cut off here: }-&#8990;
&#8990;
all additional text is vanished</pre></td>
<td class="expect"><pre>&lt;p&gt;this bit is safe: }-&#8990;
&lt;/p&gt;&lt;p&gt;but if we add a conversion instance: xxx&#8990;
&lt;/p&gt;&lt;p&gt;then we get cut off here: }-&#8990;
&lt;/p&gt;&lt;p&gt;all additional text is vanished&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;this bit is safe: }-&#8990;
&lt;/p&gt;&lt;p&gt;but if we add a conversion instance: -{zh-cn:xxx;zh-tw:yyy}-&#8990;
&lt;/p&gt;&lt;p&gt;then we get cut off here: }-&#8990;
&lt;/p&gt;&lt;p&gt;all additional text is vanished&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">765</th>
<td class="status">fail</td>
<td class="description">Self closed html pairs (bug 5487)</td>
<td class="input"><pre>&lt;center&gt;&lt;font id="bug" /&gt;Centered text&lt;/center&gt;&#8990;
&lt;div&gt;&lt;font id="bug2" /&gt;In div text&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;center&gt;&amp;lt;font id="bug" /&amp;gt;Centered text&lt;/center&gt;&#8990;
&lt;div&gt;&amp;lt;font id="bug2" /&amp;gt;In div text&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;center&gt;&lt;font id="bug"/&gt;Centered text&#8990;
&lt;/center&gt;&lt;div&gt;&lt;font id="bug2"/&gt;In div text&#8990;
&lt;/div&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">766</th>
<td class="status">fail</td>
<td class="description">Punctuation: nbsp before exclamation</td>
<td class="input"><pre>C'est grave !</pre></td>
<td class="expect"><pre>&lt;p&gt;C'est grave&amp;#160;!&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;C'est grave !&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">767</th>
<td class="status">tidy</td>
<td class="description">Punctuation: CSS !important (bug 11874)</td>
<td class="input"><pre>&lt;div style="width:50% !important"&gt;important&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div style="width:50% !important"&gt;important&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div style="width:50% !important"&gt;important&lt;/div&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">768</th>
<td class="status">tidy</td>
<td class="description">Punctuation: CSS ! important (bug 11874; with space after)</td>
<td class="input"><pre>&lt;div style="width:50% ! important"&gt;important&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div style="width:50% ! important"&gt;important&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div style="width:50% ! important"&gt;important&lt;/div&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">769</th>
<td class="status">tidy</td>
<td class="description">HTML bullet list, closed tags (bug 5497)</td>
<td class="input"><pre>&lt;ul&gt;&#8990;
&lt;li&gt;One&lt;/li&gt;&#8990;
&lt;li&gt;Two&lt;/li&gt;&#8990;
&lt;/ul&gt;</pre></td>
<td class="expect"><pre>&lt;ul&gt;&#8990;
&lt;li&gt;One&lt;/li&gt;&#8990;
&lt;li&gt;Two&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt;One&lt;/li&gt;&lt;li&gt;Two&lt;/li&gt;&lt;/ul&gt;</pre></td>
</tr>
<tr class="skip">
<th class="index">770</th>
<td class="status">skip</td>
<td class="description">HTML bullet list, unclosed tags (bug 5497)<ul><li>disabled</li></ul>
</td>
<td class="input"><pre>&lt;ul&gt;&#8990;
&lt;li&gt;One&#8990;
&lt;li&gt;Two&#8990;
&lt;/ul&gt;</pre></td>
<td class="expect"><pre>&lt;ul&gt;&#8990;
&lt;li&gt;One&#8990;
&lt;/li&gt;&lt;li&gt;Two&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"> </td>
</tr>
<tr class="tidy">
<th class="index">771</th>
<td class="status">tidy</td>
<td class="description">HTML ordered list, closed tags (bug 5497)</td>
<td class="input"><pre>&lt;ol&gt;&#8990;
&lt;li&gt;One&lt;/li&gt;&#8990;
&lt;li&gt;Two&lt;/li&gt;&#8990;
&lt;/ol&gt;</pre></td>
<td class="expect"><pre>&lt;ol&gt;&#8990;
&lt;li&gt;One&lt;/li&gt;&#8990;
&lt;li&gt;Two&lt;/li&gt;&#8990;
&lt;/ol&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;ol&gt;&lt;li&gt;One&lt;/li&gt;&lt;li&gt;Two&lt;/li&gt;&lt;/ol&gt;</pre></td>
</tr>
<tr class="skip">
<th class="index">772</th>
<td class="status">skip</td>
<td class="description">HTML ordered list, unclosed tags (bug 5497)<ul><li>disabled</li></ul>
</td>
<td class="input"><pre>&lt;ol&gt;&#8990;
&lt;li&gt;One&#8990;
&lt;li&gt;Two&#8990;
&lt;/ol&gt;</pre></td>
<td class="expect"><pre>&lt;ol&gt;&#8990;
&lt;li&gt;One&#8990;
&lt;/li&gt;&lt;li&gt;Two&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
</pre></td>
<td class="output"> </td>
</tr>
<tr class="fail">
<th class="index">773</th>
<td class="status">fail</td>
<td class="description">HTML nested bullet list, closed tags (bug 5497)</td>
<td class="input"><pre>&lt;ul&gt;&#8990;
&lt;li&gt;One&lt;/li&gt;&#8990;
&lt;li&gt;Two:&#8990;
&lt;ul&gt;&#8990;
&lt;li&gt;Sub-one&lt;/li&gt;&#8990;
&lt;li&gt;Sub-two&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
&lt;/li&gt;&#8990;
&lt;/ul&gt;</pre></td>
<td class="expect"><pre>&lt;ul&gt;&#8990;
&lt;li&gt;One&lt;/li&gt;&#8990;
&lt;li&gt;Two:&#8990;
&lt;ul&gt;&#8990;
&lt;li&gt;Sub-one&lt;/li&gt;&#8990;
&lt;li&gt;Sub-two&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt;One&lt;/li&gt;&lt;li&gt;&lt;p&gt;Two:&#8990;
&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Sub-one&lt;/li&gt;&lt;li&gt;Sub-two&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;</pre></td>
</tr>
<tr class="skip">
<th class="index">774</th>
<td class="status">skip</td>
<td class="description">HTML nested bullet list, open tags (bug 5497)<ul><li>disabled</li></ul>
</td>
<td class="input"><pre>&lt;ul&gt;&#8990;
&lt;li&gt;One&#8990;
&lt;li&gt;Two:&#8990;
&lt;ul&gt;&#8990;
&lt;li&gt;Sub-one&#8990;
&lt;li&gt;Sub-two&#8990;
&lt;/ul&gt;&#8990;
&lt;/ul&gt;</pre></td>
<td class="expect"><pre>&lt;ul&gt;&#8990;
&lt;li&gt;One&#8990;
&lt;/li&gt;&lt;li&gt;Two:&#8990;
&lt;ul&gt;&#8990;
&lt;li&gt;Sub-one&#8990;
&lt;/li&gt;&lt;li&gt;Sub-two&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"> </td>
</tr>
<tr class="fail">
<th class="index">775</th>
<td class="status">fail</td>
<td class="description">HTML nested ordered list, closed tags (bug 5497)</td>
<td class="input"><pre>&lt;ol&gt;&#8990;
&lt;li&gt;One&lt;/li&gt;&#8990;
&lt;li&gt;Two:&#8990;
&lt;ol&gt;&#8990;
&lt;li&gt;Sub-one&lt;/li&gt;&#8990;
&lt;li&gt;Sub-two&lt;/li&gt;&#8990;
&lt;/ol&gt;&#8990;
&lt;/li&gt;&#8990;
&lt;/ol&gt;</pre></td>
<td class="expect"><pre>&lt;ol&gt;&#8990;
&lt;li&gt;One&lt;/li&gt;&#8990;
&lt;li&gt;Two:&#8990;
&lt;ol&gt;&#8990;
&lt;li&gt;Sub-one&lt;/li&gt;&#8990;
&lt;li&gt;Sub-two&lt;/li&gt;&#8990;
&lt;/ol&gt;&#8990;
&lt;/li&gt;&#8990;
&lt;/ol&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;ol&gt;&lt;li&gt;One&lt;/li&gt;&lt;li&gt;&lt;p&gt;Two:&#8990;
&lt;/p&gt;&lt;ol&gt;&lt;li&gt;Sub-one&lt;/li&gt;&lt;li&gt;Sub-two&lt;/li&gt;&lt;/ol&gt;&lt;/li&gt;&lt;/ol&gt;</pre></td>
</tr>
<tr class="skip">
<th class="index">776</th>
<td class="status">skip</td>
<td class="description">HTML nested ordered list, open tags (bug 5497)<ul><li>disabled</li></ul>
</td>
<td class="input"><pre>&lt;ol&gt;&#8990;
&lt;li&gt;One&#8990;
&lt;li&gt;Two:&#8990;
&lt;ol&gt;&#8990;
&lt;li&gt;Sub-one&#8990;
&lt;li&gt;Sub-two&#8990;
&lt;/ol&gt;&#8990;
&lt;/ol&gt;</pre></td>
<td class="expect"><pre>&lt;ol&gt;&#8990;
&lt;li&gt;One&#8990;
&lt;/li&gt;&lt;li&gt;Two:&#8990;
&lt;ol&gt;&#8990;
&lt;li&gt;Sub-one&#8990;
&lt;/li&gt;&lt;li&gt;Sub-two&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
</pre></td>
<td class="output"> </td>
</tr>
<tr class="tidy">
<th class="index">777</th>
<td class="status">tidy</td>
<td class="description">HTML ordered list item with parameters oddity</td>
<td class="input"><pre>&lt;ol&gt;&lt;li id="fragment"&gt;One&lt;/li&gt;&lt;/ol&gt;</pre></td>
<td class="expect"><pre>&lt;ol&gt;&lt;li id="fragment"&gt;One&lt;/li&gt;&lt;/ol&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;ol&gt;&lt;li id="fragment"&gt;One&lt;/li&gt;&lt;/ol&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">778</th>
<td class="status">fail</td>
<td class="description">bug 5918: autonumbering</td>
<td class="input"><pre>[http://first/] [http://second] [ftp://ftp]&#8990;
&#8990;
ftp://inlineftp&#8990;
&#8990;
[mailto:enclosed@mail.tld With target]&#8990;
&#8990;
[mailto:enclosed@mail.tld]&#8990;
&#8990;
mailto:inline@mail.tld</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external autonumber" href="http://first/"&gt;[1]&lt;/a&gt; &lt;a rel="nofollow" class="external autonumber" href="http://second"&gt;[2]&lt;/a&gt; &lt;a rel="nofollow" class="external autonumber" href="ftp://ftp"&gt;[3]&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a rel="nofollow" class="external free" href="ftp://inlineftp"&gt;ftp://inlineftp&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a rel="nofollow" class="external text" href="mailto:enclosed@mail.tld"&gt;With target&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a rel="nofollow" class="external autonumber" href="mailto:enclosed@mail.tld"&gt;[4]&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a rel="nofollow" class="external free" href="mailto:inline@mail.tld"&gt;mailto:inline@mail.tld&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="http://first/"&gt;http://first/&lt;/a&gt; &lt;a href="http://second"&gt;http://second&lt;/a&gt; &lt;a href="ftp://ftp"&gt;ftp://ftp&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a rel="nofollow" class="external free" href="ftp://inlineftp"&gt;ftp://inlineftp&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a rel="nofollow" class="external text" href="mailto:enclosed@mail.tld"&gt;With target&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a href="mailto:enclosed@mail.tld"&gt;mailto:enclosed@mail.tld&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a rel="nofollow" class="external free" href="mailto:inline@mail.tld"&gt;mailto:inline@mail.tld&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">779</th>
<td class="status">fail</td>
<td class="description">Fuzz testing: Parser13</td>
<td class="input"><pre>{| &#8990;
| http://a|</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt;&#8990;
&lt;/td&gt;&#8990;
&lt;/tr&gt;&#8990;
&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;{| &#8990;
| &lt;a rel="nofollow" class="external free" href="http://a|"&gt;http://a|&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">780</th>
<td class="status">fail</td>
<td class="description">Fuzz testing: Parser14</td>
<td class="input"><pre>== onmouseover= ==&#8990;
http://__TOC__</pre></td>
<td class="expect"><pre>&lt;h2&gt;&lt;span class="mw-headline" id="onmouseover.3D"&gt;onmouseover=&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=1" title="Edit section: onmouseover="&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
http://&lt;div id="toc" class="toc"&gt;&lt;div id="toctitle"&gt;&lt;h2&gt;Contents&lt;/h2&gt;&lt;/div&gt;&#8990;
&lt;ul&gt;&#8990;
&lt;li class="toclevel-1 tocsection-1"&gt;&lt;a href="#onmouseover.3D"&gt;&lt;span class="tocnumber"&gt;1&lt;/span&gt; &lt;span class="toctext"&gt;onmouseover=&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;h2&gt;&lt;span class="mw-headline" id="onmouseover="&gt;onmouseover=&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: onmouseover="&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://__TOC__"&gt;http://__TOC__&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">781</th>
<td class="status">fail</td>
<td class="description">Fuzz testing: Parser14-table</td>
<td class="input"><pre>==a==&#8990;
{| STYLE=__TOC__</pre></td>
<td class="expect"><pre>&lt;h2&gt;&lt;span class="mw-headline" id="a"&gt;a&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=1" title="Edit section: a"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;table style="&amp;#95;_TOC&amp;#95;_"&gt;&#8990;
&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;&#8990;
&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;h2&gt;&lt;span class="mw-headline" id="a"&gt;a&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: a"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;p&gt;{| STYLE=__TOC__&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">782</th>
<td class="status">fail</td>
<td class="description">Fuzz testing: Parser16<ul><li>noxml</li></ul>
</td>
<td class="input"><pre>{|&#8990;
!https://||||||</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;th&gt;https://&lt;/th&gt;&#8990;
&lt;th&gt;&lt;/th&gt;&#8990;
&lt;th&gt;&lt;/th&gt;&#8990;
&lt;th&gt;&#8990;
&lt;/td&gt;&#8990;
&lt;/tr&gt;&#8990;
&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;{|&#8990;
!&lt;a rel="nofollow" class="external free" href="https://||||||"&gt;https://||||||&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">783</th>
<td class="status">fail</td>
<td class="description">Fuzz testing: Parser21</td>
<td class="input"><pre>{|&#8990;
! irc://{{ftp://a" onmouseover="alert('hello world');"&#8990;
|</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;th&gt; &lt;a rel="nofollow" class="external free" href="irc://{{ftp://a"&gt;irc://{{ftp://a&lt;/a&gt;" onmouseover="alert('hello world');"&#8990;
&lt;/th&gt;&#8990;
&lt;td&gt;&#8990;
&lt;/td&gt;&#8990;
&lt;/tr&gt;&#8990;
&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;{|&#8990;
! &lt;a rel="nofollow" class="external free" href="irc://{{ftp://a&amp;quot;"&gt;irc://{{ftp://a"&lt;/a&gt; onmouseover="alert('hello world');"&#8990;
|&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">784</th>
<td class="status">fail</td>
<td class="description">Fuzz testing: Parser22</td>
<td class="input"><pre>http://===r:::https://b&#8990;
&#8990;
{|</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://===r:::https://b"&gt;http://===r:::https://b&lt;/a&gt;&#8990;
&lt;/p&gt;&#8990;
&lt;table&gt;&#8990;
&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;&#8990;
&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://===r:::https://b"&gt;http://===r:::https://b&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;{|&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">785</th>
<td class="status">fail</td>
<td class="description">Fuzz testing: Parser24<ul><li>noxml</li></ul>
</td>
<td class="input"><pre>{|&#8990;
{{{|&#8990;
&lt;u CLASS=&#8990;
| {{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx--&gt;&lt;noinclude&gt;}}}} &gt;&#8990;
&lt;br style="onmouseover='alert(document.cookie);' " /&gt;&#8990;
&#8990;
MOVE YOUR MOUSE CURSOR OVER THIS TEXT&#8990;
|</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
{{{|&#8990;
&lt;u class="&amp;#124;"&gt;}}}} &amp;gt;&#8990;
&lt;br style="onmouseover=&amp;#39;alert(document.cookie);&amp;#39;" /&gt;&#8990;
&#8990;
MOVE YOUR MOUSE CURSOR OVER THIS TEXT&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt;&lt;/u&gt;&#8990;
&lt;/td&gt;&#8990;
&lt;/tr&gt;&#8990;
&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;{|&#8990;
{{{|&#8990;
&amp;lt;u CLASS=&#8990;
| {{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx--&amp;gt;}}}} &amp;gt;&#8990;
&lt;br style="onmouseover='alert(document.cookie);' "/&gt;&#8990;
&lt;/p&gt;&lt;p&gt;MOVE YOUR MOUSE CURSOR OVER THIS TEXT&#8990;
|&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">786</th>
<td class="status">pass</td>
<td class="description">Fuzz testing: Parser25 (bug 6055)</td>
<td class="input"><pre>{{{&#8990;
| &#8990;
&lt;LI CLASS=||&#8990;
 &gt;&#8990;
}}}blah" onmouseover="alert('hello world');" align="left"'''MOVE MOUSE CURSOR OVER HERE</pre></td>
<td class="expect"><pre>&lt;p&gt;&amp;lt;LI CLASS=blah" onmouseover="alert('hello world');" align="left"&lt;b&gt;MOVE MOUSE CURSOR OVER HERE&lt;/b&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;LI CLASS=blah" onmouseover="alert('hello world');" align="left"&lt;b&gt;MOVE MOUSE CURSOR OVER HERE&lt;/b&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">787</th>
<td class="status">pass</td>
<td class="description">Fuzz testing: URL adjacent extension (with space, clean)</td>
<td class="input"><pre>http://example.com &lt;nowiki&gt;junk&lt;/nowiki&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://example.com"&gt;http://example.com&lt;/a&gt; junk&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://example.com"&gt;http://example.com&lt;/a&gt; junk&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">788</th>
<td class="status">fail</td>
<td class="description">Fuzz testing: URL adjacent extension (no space, dirty; nowiki)</td>
<td class="input"><pre>http://example.com&lt;nowiki&gt;junk&lt;/nowiki&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://example.com"&gt;http://example.com&lt;/a&gt;junk&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://example.com&amp;lt;nowiki&amp;gt;junk&amp;lt;/nowiki&amp;gt;"&gt;http://example.com&amp;lt;nowiki&amp;gt;junk&amp;lt;/nowiki&amp;gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">789</th>
<td class="status">fail</td>
<td class="description">Fuzz testing: URL adjacent extension (no space, dirty; pre)</td>
<td class="input"><pre>http://example.com&lt;pre&gt;junk&lt;/pre&gt;</pre></td>
<td class="expect"><pre>&lt;a rel="nofollow" class="external free" href="http://example.com"&gt;http://example.com&lt;/a&gt;&lt;pre&gt;junk&lt;/pre&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://example.com&amp;lt;pre&amp;gt;junk&amp;lt;/pre&amp;gt;"&gt;http://example.com&amp;lt;pre&amp;gt;junk&amp;lt;/pre&amp;gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">790</th>
<td class="status">fail</td>
<td class="description">Fuzz testing: image with bogus manual thumbnail</td>
<td class="input"><pre>[[Image:foobar.jpg|thumbnail= ]]</pre></td>
<td class="expect"><pre>&lt;div class="thumb tright"&gt;&lt;div class="thumbinner" style="width:182px;"&gt;Error creating thumbnail:   &lt;div class="thumbcaption"&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:foobar.jpg" title="Image:foobar.jpg"&gt;thumbnail= &lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">791</th>
<td class="status">tidy</td>
<td class="description">Fuzz testing: encoded newline in generated HTML replacements (bug 6577)</td>
<td class="input"><pre>&lt;pre dir="&amp;#10;"&gt;&lt;/pre&gt;</pre></td>
<td class="expect"><pre>&lt;pre dir="&amp;#10;"&gt;&lt;/pre&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;pre dir="&amp;#10;"&gt;&lt;/pre&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">792</th>
<td class="status">fail</td>
<td class="description">Parsing optional HTML elements (Bug 6171)</td>
<td class="input"><pre>&lt;table&gt;&#8990;
  &lt;tr&gt;&#8990;
    &lt;td&gt; Some tabular data&lt;/td&gt;&#8990;
    &lt;td&gt; More tabular data ...&#8990;
    &lt;td&gt; And yet som tabular data&lt;/td&gt;&#8990;
  &lt;/tr&gt;&#8990;
&lt;/table&gt;</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
  &lt;tr&gt;&#8990;
    &lt;td&gt; Some tabular data&lt;/td&gt;&#8990;
    &lt;td&gt; More tabular data ...&#8990;
    &lt;/td&gt;&lt;td&gt; And yet som tabular data&lt;/td&gt;&#8990;
  &lt;/tr&gt;&#8990;
&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt; Some tabular data&lt;/td&gt;&lt;td&gt;&lt;p&gt; More tabular data ...&#8990;
&lt;/p&gt;&lt;pre&gt;   &amp;lt;td&amp;gt; And yet som tabular data&amp;lt;/td&amp;gt;&#8990;
 &amp;lt;/tr&amp;gt;&#8990;
&lt;/pre&gt;&lt;p&gt;&amp;lt;/table&amp;gt;&#8990;
&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="tidy from_fail to_tidy">
<th class="index">793</th>
<td class="status">tidy</td>
<td class="description">Correct handling of &lt;td&gt;, &lt;tr&gt; (Bug 6171)</td>
<td class="input"><pre>&lt;table&gt;&#8990;
  &lt;tr&gt;&#8990;
    &lt;td&gt; Some tabular data&lt;/td&gt;&#8990;
    &lt;td&gt; More tabular data ...&lt;/td&gt;&#8990;
    &lt;td&gt; And yet som tabular data&lt;/td&gt;&#8990;
  &lt;/tr&gt;&#8990;
&lt;/table&gt;</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
  &lt;tr&gt;&#8990;
    &lt;td&gt; Some tabular data&lt;/td&gt;&#8990;
    &lt;td&gt; More tabular data ...&lt;/td&gt;&#8990;
    &lt;td&gt; And yet som tabular data&lt;/td&gt;&#8990;
  &lt;/tr&gt;&#8990;
&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt; Some tabular data&lt;/td&gt;&lt;td&gt; More tabular data ...&lt;/td&gt;&lt;td&gt; And yet som tabular data&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">794</th>
<td class="status">pass</td>
<td class="description">Parsing crashing regression (fr:JavaScript)</td>
<td class="input"><pre>&lt;/body&gt;&lt;/x&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&amp;lt;/body&amp;gt;&amp;lt;/x&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;/body&amp;gt;&amp;lt;/x&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">795</th>
<td class="status">pass</td>
<td class="description">Inline wiki vs wiki block nesting</td>
<td class="input"><pre>'''Bold paragraph&#8990;
&#8990;
New wiki paragraph</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;b&gt;Bold paragraph&lt;/b&gt;&#8990;
&lt;/p&gt;&lt;p&gt;New wiki paragraph&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;b&gt;Bold paragraph&lt;/b&gt;&#8990;
&lt;/p&gt;&lt;p&gt;New wiki paragraph&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="skip">
<th class="index">796</th>
<td class="status">skip</td>
<td class="description">Inline HTML vs wiki block nesting<ul><li>disabled</li></ul>
</td>
<td class="input"><pre>&lt;b&gt;Bold paragraph&#8990;
&#8990;
New wiki paragraph</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;b&gt;Bold paragraph&lt;/b&gt;&#8990;
&lt;/p&gt;&lt;p&gt;New wiki paragraph&#8990;
&lt;/p&gt;</pre></td>
<td class="output"> </td>
</tr>
<tr class="fail">
<th class="index">797</th>
<td class="status">fail</td>
<td class="description">Mixing markup for italics and bold</td>
<td class="input"><pre>'''bold''''''bold''bolditalics'''''</pre></td>
<td class="expect"><pre>&lt;p&gt;'&lt;i&gt;bold'&lt;/i&gt;&lt;b&gt;bold&lt;i&gt;bolditalics&lt;/i&gt;&lt;/b&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;b&gt;bold'&lt;/b&gt;&lt;i&gt;bold&lt;/i&gt;bolditalics&lt;i&gt;&lt;b/&gt;&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">798</th>
<td class="status">fail</td>
<td class="description">Special page transclusion</td>
<td class="input"><pre>{{Special:Prefixindex/Xyzzyx}}</pre></td>
<td class="expect"><pre>&lt;table id="mw-prefixindex-list-table"&gt;&lt;tr&gt;&lt;td&gt;&lt;a href="/wiki/Xyzzyx" title="Xyzzyx"&gt;Xyzzyx&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:Special:Prefixindex/Xyzzyx" title="Template:Special:Prefixindex/Xyzzyx"&gt;Template:Special:Prefixindex/Xyzzyx&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">799</th>
<td class="status">fail</td>
<td class="description">Special page transclusion twice (bug 5021)</td>
<td class="input"><pre>{{Special:Prefixindex/Xyzzyx}}&#8990;
{{Special:Prefixindex/Xyzzyx}}</pre></td>
<td class="expect"><pre>&lt;table id="mw-prefixindex-list-table"&gt;&lt;tr&gt;&lt;td&gt;&lt;a href="/wiki/Xyzzyx" title="Xyzzyx"&gt;Xyzzyx&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
&lt;table id="mw-prefixindex-list-table"&gt;&lt;tr&gt;&lt;td&gt;&lt;a href="/wiki/Xyzzyx" title="Xyzzyx"&gt;Xyzzyx&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:Special:Prefixindex/Xyzzyx" title="Template:Special:Prefixindex/Xyzzyx"&gt;Template:Special:Prefixindex/Xyzzyx&lt;/a&gt;&#8990;
&lt;a href="/wiki/Template:Special:Prefixindex/Xyzzyx" title="Template:Special:Prefixindex/Xyzzyx"&gt;Template:Special:Prefixindex/Xyzzyx&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">800</th>
<td class="status">fail</td>
<td class="description">Transclusion of default MediaWiki message</td>
<td class="input"><pre>{{MediaWiki:Mainpage}}</pre></td>
<td class="expect"><pre>&lt;p&gt;Main Page&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:MediaWiki:Mainpage" title="Template:MediaWiki:Mainpage"&gt;Template:MediaWiki:Mainpage&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">801</th>
<td class="status">fail</td>
<td class="description">Transclusion of nonexistent MediaWiki message</td>
<td class="input"><pre>{{MediaWiki:Mainpagexxx}}</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/index.php?title=MediaWiki:Mainpagexxx&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="MediaWiki:Mainpagexxx (page does not exist)"&gt;MediaWiki:Mainpagexxx&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:MediaWiki:Mainpagexxx" title="Template:MediaWiki:Mainpagexxx"&gt;Template:MediaWiki:Mainpagexxx&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">802</th>
<td class="status">fail</td>
<td class="description">Transclusion of MediaWiki message with underscore</td>
<td class="input"><pre>{{MediaWiki:history_short}}</pre></td>
<td class="expect"><pre>&lt;p&gt;History&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:MediaWiki:history_short" title="Template:MediaWiki:history short"&gt;Template:MediaWiki:history short&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">803</th>
<td class="status">fail</td>
<td class="description">Transclusion of MediaWiki message with space</td>
<td class="input"><pre>{{MediaWiki:history short}}</pre></td>
<td class="expect"><pre>&lt;p&gt;History&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:MediaWiki:history_short" title="Template:MediaWiki:history short"&gt;Template:MediaWiki:history short&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">804</th>
<td class="status">pass</td>
<td class="description">Invalid header with following text</td>
<td class="input"><pre>= x = y</pre></td>
<td class="expect"><pre>&lt;p&gt;= x = y&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;= x = y&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="skip">
<th class="index">805</th>
<td class="status">skip</td>
<td class="description">Section extraction test (section 0)<ul><li>section: 0</li></ul>
</td>
<td class="input"><pre>start&#8990;
==a==&#8990;
===aa===&#8990;
====aaa====&#8990;
==b==&#8990;
===ba===&#8990;
===bb===&#8990;
====bba====&#8990;
===bc===&#8990;
==c==&#8990;
===ca===</pre></td>
<td class="expect"><pre>start</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">806</th>
<td class="status">skip</td>
<td class="description">Section extraction test (section 1)<ul><li>section: 1</li></ul>
</td>
<td class="input"><pre>start&#8990;
==a==&#8990;
===aa===&#8990;
====aaa====&#8990;
==b==&#8990;
===ba===&#8990;
===bb===&#8990;
====bba====&#8990;
===bc===&#8990;
==c==&#8990;
===ca===</pre></td>
<td class="expect"><pre>==a==&#8990;
===aa===&#8990;
====aaa====</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">807</th>
<td class="status">skip</td>
<td class="description">Section extraction test (section 2)<ul><li>section: 2</li></ul>
</td>
<td class="input"><pre>start&#8990;
==a==&#8990;
===aa===&#8990;
====aaa====&#8990;
==b==&#8990;
===ba===&#8990;
===bb===&#8990;
====bba====&#8990;
===bc===&#8990;
==c==&#8990;
===ca===</pre></td>
<td class="expect"><pre>===aa===&#8990;
====aaa====</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">808</th>
<td class="status">skip</td>
<td class="description">Section extraction test (section 3)<ul><li>section: 3</li></ul>
</td>
<td class="input"><pre>start&#8990;
==a==&#8990;
===aa===&#8990;
====aaa====&#8990;
==b==&#8990;
===ba===&#8990;
===bb===&#8990;
====bba====&#8990;
===bc===&#8990;
==c==&#8990;
===ca===</pre></td>
<td class="expect"><pre>====aaa====</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">809</th>
<td class="status">skip</td>
<td class="description">Section extraction test (section 4)<ul><li>section: 4</li></ul>
</td>
<td class="input"><pre>start&#8990;
==a==&#8990;
===aa===&#8990;
====aaa====&#8990;
==b==&#8990;
===ba===&#8990;
===bb===&#8990;
====bba====&#8990;
===bc===&#8990;
==c==&#8990;
===ca===</pre></td>
<td class="expect"><pre>==b==&#8990;
===ba===&#8990;
===bb===&#8990;
====bba====&#8990;
===bc===</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">810</th>
<td class="status">skip</td>
<td class="description">Section extraction test (section 5)<ul><li>section: 5</li></ul>
</td>
<td class="input"><pre>start&#8990;
==a==&#8990;
===aa===&#8990;
====aaa====&#8990;
==b==&#8990;
===ba===&#8990;
===bb===&#8990;
====bba====&#8990;
===bc===&#8990;
==c==&#8990;
===ca===</pre></td>
<td class="expect"><pre>===ba===</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">811</th>
<td class="status">skip</td>
<td class="description">Section extraction test (section 6)<ul><li>section: 6</li></ul>
</td>
<td class="input"><pre>start&#8990;
==a==&#8990;
===aa===&#8990;
====aaa====&#8990;
==b==&#8990;
===ba===&#8990;
===bb===&#8990;
====bba====&#8990;
===bc===&#8990;
==c==&#8990;
===ca===</pre></td>
<td class="expect"><pre>===bb===&#8990;
====bba====</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">812</th>
<td class="status">skip</td>
<td class="description">Section extraction test (section 7)<ul><li>section: 7</li></ul>
</td>
<td class="input"><pre>start&#8990;
==a==&#8990;
===aa===&#8990;
====aaa====&#8990;
==b==&#8990;
===ba===&#8990;
===bb===&#8990;
====bba====&#8990;
===bc===&#8990;
==c==&#8990;
===ca===</pre></td>
<td class="expect"><pre>====bba====</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">813</th>
<td class="status">skip</td>
<td class="description">Section extraction test (section 8)<ul><li>section: 8</li></ul>
</td>
<td class="input"><pre>start&#8990;
==a==&#8990;
===aa===&#8990;
====aaa====&#8990;
==b==&#8990;
===ba===&#8990;
===bb===&#8990;
====bba====&#8990;
===bc===&#8990;
==c==&#8990;
===ca===</pre></td>
<td class="expect"><pre>===bc===</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">814</th>
<td class="status">skip</td>
<td class="description">Section extraction test (section 9)<ul><li>section: 9</li></ul>
</td>
<td class="input"><pre>start&#8990;
==a==&#8990;
===aa===&#8990;
====aaa====&#8990;
==b==&#8990;
===ba===&#8990;
===bb===&#8990;
====bba====&#8990;
===bc===&#8990;
==c==&#8990;
===ca===</pre></td>
<td class="expect"><pre>==c==&#8990;
===ca===</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">815</th>
<td class="status">skip</td>
<td class="description">Section extraction test (section 10)<ul><li>section: 10</li></ul>
</td>
<td class="input"><pre>start&#8990;
==a==&#8990;
===aa===&#8990;
====aaa====&#8990;
==b==&#8990;
===ba===&#8990;
===bb===&#8990;
====bba====&#8990;
===bc===&#8990;
==c==&#8990;
===ca===</pre></td>
<td class="expect"><pre>===ca===</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">816</th>
<td class="status">skip</td>
<td class="description">Section extraction test (nonexistent section 11)<ul><li>section: 11</li></ul>
</td>
<td class="input"><pre>start&#8990;
==a==&#8990;
===aa===&#8990;
====aaa====&#8990;
==b==&#8990;
===ba===&#8990;
===bb===&#8990;
====bba====&#8990;
===bc===&#8990;
==c==&#8990;
===ca===</pre></td>
<td class="expect"><pre></pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">817</th>
<td class="status">skip</td>
<td class="description">Section extraction test with bogus heading (section 1)<ul><li>section: 1</li></ul>
</td>
<td class="input"><pre>==a==&#8990;
==bogus== not a legal section&#8990;
==b==</pre></td>
<td class="expect"><pre>==a==&#8990;
==bogus== not a legal section</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">818</th>
<td class="status">skip</td>
<td class="description">Section extraction test with bogus heading (section 2)<ul><li>section: 2</li></ul>
</td>
<td class="input"><pre>==a==&#8990;
==bogus== not a legal section&#8990;
==b==</pre></td>
<td class="expect"><pre>==b==</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">819</th>
<td class="status">skip</td>
<td class="description">Section extraction test with comment after heading (section 1)<ul><li>section: 1</li></ul>
</td>
<td class="input"><pre>==a==&#8990;
==b== &lt;!-- --&gt;&#8990;
==c==</pre></td>
<td class="expect"><pre>==a==</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">820</th>
<td class="status">skip</td>
<td class="description">Section extraction test with comment after heading (section 2)<ul><li>section: 2</li></ul>
</td>
<td class="input"><pre>==a==&#8990;
==b== &lt;!-- --&gt;&#8990;
==c==</pre></td>
<td class="expect"><pre>==b== &lt;!-- --&gt;</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">821</th>
<td class="status">skip</td>
<td class="description">Section extraction test with bogus &lt;nowiki&gt; heading (section 1)<ul><li>section: 1</li></ul>
</td>
<td class="input"><pre>==a==&#8990;
==bogus== &lt;nowiki&gt;not a legal section&lt;/nowiki&gt;&#8990;
==b==</pre></td>
<td class="expect"><pre>==a==&#8990;
==bogus== &lt;nowiki&gt;not a legal section&lt;/nowiki&gt;</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">822</th>
<td class="status">skip</td>
<td class="description">Section extraction test with bogus &lt;nowiki&gt; heading (section 2)<ul><li>section: 2</li></ul>
</td>
<td class="input"><pre>==a==&#8990;
==bogus== &lt;nowiki&gt;not a legal section&lt;/nowiki&gt;&#8990;
==b==</pre></td>
<td class="expect"><pre>==b==</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">823</th>
<td class="status">skip</td>
<td class="description">Section extraction prefixed by comment (section 1)<ul><li>section: 1</li></ul>
</td>
<td class="input"><pre>&lt;!-- --&gt;==sec1==&#8990;
==sec2==</pre></td>
<td class="expect"><pre>==sec2==</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">824</th>
<td class="status">skip</td>
<td class="description">Section extraction prefixed by comment (section 2)<ul><li>section: 2</li></ul>
</td>
<td class="input"><pre>&lt;!-- --&gt;==sec1==&#8990;
==sec2==</pre></td>
<td class="expect"><pre></pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">825</th>
<td class="status">skip</td>
<td class="description">Section extraction, mixed wiki and html (section 1)<ul><li>section: 1</li></ul>
</td>
<td class="input"><pre>&lt;h2&gt;unmarked&lt;/h2&gt;&#8990;
unmarked&#8990;
==1==&#8990;
one&#8990;
==2==&#8990;
two</pre></td>
<td class="expect"><pre>==1==&#8990;
one</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">826</th>
<td class="status">skip</td>
<td class="description">Section extraction, mixed wiki and html (section 2)<ul><li>section: 2</li></ul>
</td>
<td class="input"><pre>&lt;h2&gt;unmarked&lt;/h2&gt;&#8990;
unmarked&#8990;
==1==&#8990;
one&#8990;
==2==&#8990;
two</pre></td>
<td class="expect"><pre>==2==&#8990;
two</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">827</th>
<td class="status">skip</td>
<td class="description">Section extraction, heading surrounded by &lt;noinclude&gt;<ul><li>section: 1</li></ul>
</td>
<td class="input"><pre>&lt;noinclude&gt;==unmarked==&lt;/noinclude&gt;&#8990;
==marked==</pre></td>
<td class="expect"><pre>==marked==</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">828</th>
<td class="status">skip</td>
<td class="description">Sectiion with all-equals<ul><li>section: 2</li></ul>
</td>
<td class="input"><pre>=== &#8990;
The line above must have a trailing space&#8990;
=== &lt;!--&#8990;
--&gt; &lt;!-- --&gt;&#8990;
But just in case it doesn't...</pre></td>
<td class="expect"><pre>=== &lt;!--&#8990;
--&gt; &lt;!-- --&gt;&#8990;
But just in case it doesn't...</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">829</th>
<td class="status">skip</td>
<td class="description">Section replacement test (section 0)<ul><li>replace: 0, xxx</li></ul>
</td>
<td class="input"><pre>start&#8990;
==a==&#8990;
===aa===&#8990;
====aaa====&#8990;
==b==&#8990;
===ba===&#8990;
===bb===&#8990;
====bba====&#8990;
===bc===&#8990;
==c==&#8990;
===ca===</pre></td>
<td class="expect"><pre>xxx&#8990;
&#8990;
==a==&#8990;
===aa===&#8990;
====aaa====&#8990;
==b==&#8990;
===ba===&#8990;
===bb===&#8990;
====bba====&#8990;
===bc===&#8990;
==c==&#8990;
===ca===</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">830</th>
<td class="status">skip</td>
<td class="description">Section replacement test (section 1)<ul><li>replace: 1, xxx</li></ul>
</td>
<td class="input"><pre>start&#8990;
==a==&#8990;
===aa===&#8990;
====aaa====&#8990;
==b==&#8990;
===ba===&#8990;
===bb===&#8990;
====bba====&#8990;
===bc===&#8990;
==c==&#8990;
===ca===</pre></td>
<td class="expect"><pre>start&#8990;
xxx&#8990;
&#8990;
==b==&#8990;
===ba===&#8990;
===bb===&#8990;
====bba====&#8990;
===bc===&#8990;
==c==&#8990;
===ca===</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">831</th>
<td class="status">skip</td>
<td class="description">Section replacement test (section 2)<ul><li>replace: 2, xxx</li></ul>
</td>
<td class="input"><pre>start&#8990;
==a==&#8990;
===aa===&#8990;
====aaa====&#8990;
==b==&#8990;
===ba===&#8990;
===bb===&#8990;
====bba====&#8990;
===bc===&#8990;
==c==&#8990;
===ca===</pre></td>
<td class="expect"><pre>start&#8990;
==a==&#8990;
xxx&#8990;
&#8990;
==b==&#8990;
===ba===&#8990;
===bb===&#8990;
====bba====&#8990;
===bc===&#8990;
==c==&#8990;
===ca===</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">832</th>
<td class="status">skip</td>
<td class="description">Section replacement test (section 3)<ul><li>replace: 3, xxx</li></ul>
</td>
<td class="input"><pre>start&#8990;
==a==&#8990;
===aa===&#8990;
====aaa====&#8990;
==b==&#8990;
===ba===&#8990;
===bb===&#8990;
====bba====&#8990;
===bc===&#8990;
==c==&#8990;
===ca===</pre></td>
<td class="expect"><pre>start&#8990;
==a==&#8990;
===aa===&#8990;
xxx&#8990;
&#8990;
==b==&#8990;
===ba===&#8990;
===bb===&#8990;
====bba====&#8990;
===bc===&#8990;
==c==&#8990;
===ca===</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">833</th>
<td class="status">skip</td>
<td class="description">Section replacement test (section 4)<ul><li>replace: 4, xxx</li></ul>
</td>
<td class="input"><pre>start&#8990;
==a==&#8990;
===aa===&#8990;
====aaa====&#8990;
==b==&#8990;
===ba===&#8990;
===bb===&#8990;
====bba====&#8990;
===bc===&#8990;
==c==&#8990;
===ca===</pre></td>
<td class="expect"><pre>start&#8990;
==a==&#8990;
===aa===&#8990;
====aaa====&#8990;
xxx&#8990;
&#8990;
==c==&#8990;
===ca===</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">834</th>
<td class="status">skip</td>
<td class="description">Section replacement test (section 5)<ul><li>replace: 5, xxx</li></ul>
</td>
<td class="input"><pre>start&#8990;
==a==&#8990;
===aa===&#8990;
====aaa====&#8990;
==b==&#8990;
===ba===&#8990;
===bb===&#8990;
====bba====&#8990;
===bc===&#8990;
==c==&#8990;
===ca===</pre></td>
<td class="expect"><pre>start&#8990;
==a==&#8990;
===aa===&#8990;
====aaa====&#8990;
==b==&#8990;
xxx&#8990;
&#8990;
===bb===&#8990;
====bba====&#8990;
===bc===&#8990;
==c==&#8990;
===ca===</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">835</th>
<td class="status">skip</td>
<td class="description">Section replacement test (section 6)<ul><li>replace: 6, xxx</li></ul>
</td>
<td class="input"><pre>start&#8990;
==a==&#8990;
===aa===&#8990;
====aaa====&#8990;
==b==&#8990;
===ba===&#8990;
===bb===&#8990;
====bba====&#8990;
===bc===&#8990;
==c==&#8990;
===ca===</pre></td>
<td class="expect"><pre>start&#8990;
==a==&#8990;
===aa===&#8990;
====aaa====&#8990;
==b==&#8990;
===ba===&#8990;
xxx&#8990;
&#8990;
===bc===&#8990;
==c==&#8990;
===ca===</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">836</th>
<td class="status">skip</td>
<td class="description">Section replacement test (section 7)<ul><li>replace: 7, xxx</li></ul>
</td>
<td class="input"><pre>start&#8990;
==a==&#8990;
===aa===&#8990;
====aaa====&#8990;
==b==&#8990;
===ba===&#8990;
===bb===&#8990;
====bba====&#8990;
===bc===&#8990;
==c==&#8990;
===ca===</pre></td>
<td class="expect"><pre>start&#8990;
==a==&#8990;
===aa===&#8990;
====aaa====&#8990;
==b==&#8990;
===ba===&#8990;
===bb===&#8990;
xxx&#8990;
&#8990;
===bc===&#8990;
==c==&#8990;
===ca===</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">837</th>
<td class="status">skip</td>
<td class="description">Section replacement test (section 8)<ul><li>replace: 8, xxx</li></ul>
</td>
<td class="input"><pre>start&#8990;
==a==&#8990;
===aa===&#8990;
====aaa====&#8990;
==b==&#8990;
===ba===&#8990;
===bb===&#8990;
====bba====&#8990;
===bc===&#8990;
==c==&#8990;
===ca===</pre></td>
<td class="expect"><pre>start&#8990;
==a==&#8990;
===aa===&#8990;
====aaa====&#8990;
==b==&#8990;
===ba===&#8990;
===bb===&#8990;
====bba====&#8990;
xxx&#8990;
&#8990;
==c==&#8990;
===ca===</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">838</th>
<td class="status">skip</td>
<td class="description">Section replacement test (section 9)<ul><li>replace: 9, xxx</li></ul>
</td>
<td class="input"><pre>start&#8990;
==a==&#8990;
===aa===&#8990;
====aaa====&#8990;
==b==&#8990;
===ba===&#8990;
===bb===&#8990;
====bba====&#8990;
===bc===&#8990;
==c==&#8990;
===ca===</pre></td>
<td class="expect"><pre>start&#8990;
==a==&#8990;
===aa===&#8990;
====aaa====&#8990;
==b==&#8990;
===ba===&#8990;
===bb===&#8990;
====bba====&#8990;
===bc===&#8990;
xxx</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">839</th>
<td class="status">skip</td>
<td class="description">Section replacement test (section 10)<ul><li>replace: 10, xxx</li></ul>
</td>
<td class="input"><pre>start&#8990;
==a==&#8990;
===aa===&#8990;
====aaa====&#8990;
==b==&#8990;
===ba===&#8990;
===bb===&#8990;
====bba====&#8990;
===bc===&#8990;
==c==&#8990;
===ca===</pre></td>
<td class="expect"><pre>start&#8990;
==a==&#8990;
===aa===&#8990;
====aaa====&#8990;
==b==&#8990;
===ba===&#8990;
===bb===&#8990;
====bba====&#8990;
===bc===&#8990;
==c==&#8990;
xxx</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">840</th>
<td class="status">skip</td>
<td class="description">Section replacement test with initial whitespace (bug 13728)<ul><li>replace: 2, xxx</li></ul>
</td>
<td class="input"><pre> Preformatted initial line&#8990;
==a==&#8990;
===a===</pre></td>
<td class="expect"><pre> Preformatted initial line&#8990;
==a==&#8990;
xxx</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">841</th>
<td class="status">skip</td>
<td class="description">Section extraction, heading followed by pre with 20 spaces (bug 6398)<ul><li>section: 1</li></ul>
</td>
<td class="input"><pre>==a==&#8990;
                    a</pre></td>
<td class="expect"><pre>==a==&#8990;
                    a</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">842</th>
<td class="status">skip</td>
<td class="description">Section extraction, heading followed by pre with 19 spaces (bug 6398 sanity check)<ul><li>section: 1</li></ul>
</td>
<td class="input"><pre>==a==&#8990;
                   a</pre></td>
<td class="expect"><pre>==a==&#8990;
                   a</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">843</th>
<td class="status">skip</td>
<td class="description">Section extraction, &lt;pre&gt; around bogus header (bug 10309)<ul>
<li>noxml</li>
<li>section: 2</li>
</ul>
</td>
<td class="input"><pre>== Section One ==&#8990;
&lt;pre&gt;&#8990;
=======&#8990;
&lt;/pre&gt;&#8990;
&#8990;
== Section Two ==&#8990;
stuff</pre></td>
<td class="expect"><pre>== Section Two ==&#8990;
stuff</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">844</th>
<td class="status">skip</td>
<td class="description">Section replacement, &lt;pre&gt; around bogus header (bug 10309)<ul>
<li>noxml</li>
<li>replace: 2, xxx</li>
</ul>
</td>
<td class="input"><pre>== Section One ==&#8990;
&lt;pre&gt;&#8990;
=======&#8990;
&lt;/pre&gt;&#8990;
&#8990;
== Section Two ==&#8990;
stuff</pre></td>
<td class="expect"><pre>== Section One ==&#8990;
&lt;pre&gt;&#8990;
=======&#8990;
&lt;/pre&gt;&#8990;
&#8990;
xxx</pre></td>
<td class="output"> </td>
</tr>
<tr class="fail">
<th class="index">845</th>
<td class="status">fail</td>
<td class="description">Handling of &amp;#x0A; in URLs</td>
<td class="input"><pre>**irc://&amp;#x0A;a</pre></td>
<td class="expect"><pre>&lt;ul&gt;&lt;li&gt;&lt;ul&gt;&lt;li&gt;&lt;a rel="nofollow" class="external free" href="irc://%0Aa"&gt;irc://%0Aa&lt;/a&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt;&lt;ul&gt;&lt;li&gt;&lt;a rel="nofollow" class="external free" href="irc://&amp;#10;a"&gt;irc://&#8990;
a&lt;/a&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
</tr>
<tr class="tidy">
<th class="index">846</th>
<td class="status">tidy</td>
<td class="description">5 quotes, code coverage +1 line (php)<ul><li>php</li></ul>
</td>
<td class="input"><pre>'''''</pre></td>
<td class="expect"><pre></pre></td>
<td class="output"><pre>&lt;p&gt;&lt;i&gt;&lt;b/&gt;&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">847</th>
<td class="status">tidy</td>
<td class="description">5 quotes, code coverage +1 line (parsoid)<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>'''''</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;i&gt;&lt;b&gt;&lt;/b&gt;&lt;/i&gt;&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;i&gt;&lt;b/&gt;&lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">848</th>
<td class="status">fail</td>
<td class="description">Special:Search page linking.</td>
<td class="input"><pre>{{Special:search}}</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/Special:Search" title="Special:Search"&gt;Special:Search&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:Special:search" title="Template:Special:search"&gt;Template:Special:search&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">849</th>
<td class="status">fail</td>
<td class="description">Say the magic word</td>
<td class="input"><pre>* {{PAGENAME}}&#8990;
* {{BASEPAGENAME}}&#8990;
* {{SUBPAGENAME}}&#8990;
* {{SUBPAGENAMEE}}&#8990;
* {{ROOTPAGENAME}}&#8990;
* {{ROOTPAGENAMEE}}&#8990;
* {{BASEPAGENAME}}&#8990;
* {{BASEPAGENAMEE}}&#8990;
* {{TALKPAGENAME}}&#8990;
* {{TALKPAGENAMEE}}&#8990;
* {{SUBJECTPAGENAME}}&#8990;
* {{SUBJECTPAGENAMEE}}&#8990;
* {{NAMESPACEE}}&#8990;
* {{NAMESPACE}}&#8990;
* {{TALKSPACE}}&#8990;
* {{TALKSPACEE}}&#8990;
* {{SUBJECTSPACE}}&#8990;
* {{SUBJECTSPACEE}}&#8990;
* {{Dynamic|{{NUMBEROFUSERS}}|{{NUMBEROFPAGES}}|{{CURRENTVERSION}}|{{CONTENTLANGUAGE}}|{{DIRECTIONMARK}}|{{CURRENTTIMESTAMP}}|{{NUMBEROFARTICLES}}}}</pre></td>
<td class="expect"><pre>&lt;ul&gt;&lt;li&gt; Parser test&#8990;
&lt;/li&gt;&lt;li&gt; Parser test&#8990;
&lt;/li&gt;&lt;li&gt; Parser test&#8990;
&lt;/li&gt;&lt;li&gt; Parser_test&#8990;
&lt;/li&gt;&lt;li&gt; Parser test&#8990;
&lt;/li&gt;&lt;li&gt; Parser_test&#8990;
&lt;/li&gt;&lt;li&gt; Parser test&#8990;
&lt;/li&gt;&lt;li&gt; Parser_test&#8990;
&lt;/li&gt;&lt;li&gt; Talk:Parser test&#8990;
&lt;/li&gt;&lt;li&gt; Talk:Parser_test&#8990;
&lt;/li&gt;&lt;li&gt; Parser test&#8990;
&lt;/li&gt;&lt;li&gt; Parser_test&#8990;
&lt;/li&gt;&lt;li&gt; &#8990;
&lt;/li&gt;&lt;li&gt; &#8990;
&lt;/li&gt;&lt;li&gt; Talk&#8990;
&lt;/li&gt;&lt;li&gt; Talk&#8990;
&lt;/li&gt;&lt;li&gt; &#8990;
&lt;/li&gt;&lt;li&gt; &#8990;
&lt;/li&gt;&lt;li&gt; &lt;a href="/index.php?title=Template:Dynamic&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Template:Dynamic (page does not exist)"&gt;Template:Dynamic&lt;/a&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt; &lt;a href="/wiki/Template:PAGENAME" title="Template:PAGENAME"&gt;Template:PAGENAME&lt;/a&gt;&#8990;
&lt;/li&gt;&lt;li&gt; &lt;a href="/wiki/Template:BASEPAGENAME" title="Template:BASEPAGENAME"&gt;Template:BASEPAGENAME&lt;/a&gt;&#8990;
&lt;/li&gt;&lt;li&gt; &lt;a href="/wiki/Template:SUBPAGENAME" title="Template:SUBPAGENAME"&gt;Template:SUBPAGENAME&lt;/a&gt;&#8990;
&lt;/li&gt;&lt;li&gt; &lt;a href="/wiki/Template:SUBPAGENAMEE" title="Template:SUBPAGENAMEE"&gt;Template:SUBPAGENAMEE&lt;/a&gt;&#8990;
&lt;/li&gt;&lt;li&gt; &lt;a href="/wiki/Template:ROOTPAGENAME" title="Template:ROOTPAGENAME"&gt;Template:ROOTPAGENAME&lt;/a&gt;&#8990;
&lt;/li&gt;&lt;li&gt; &lt;a href="/wiki/Template:ROOTPAGENAMEE" title="Template:ROOTPAGENAMEE"&gt;Template:ROOTPAGENAMEE&lt;/a&gt;&#8990;
&lt;/li&gt;&lt;li&gt; &lt;a href="/wiki/Template:BASEPAGENAME" title="Template:BASEPAGENAME"&gt;Template:BASEPAGENAME&lt;/a&gt;&#8990;
&lt;/li&gt;&lt;li&gt; &lt;a href="/wiki/Template:BASEPAGENAMEE" title="Template:BASEPAGENAMEE"&gt;Template:BASEPAGENAMEE&lt;/a&gt;&#8990;
&lt;/li&gt;&lt;li&gt; &lt;a href="/wiki/Template:TALKPAGENAME" title="Template:TALKPAGENAME"&gt;Template:TALKPAGENAME&lt;/a&gt;&#8990;
&lt;/li&gt;&lt;li&gt; &lt;a href="/wiki/Template:TALKPAGENAMEE" title="Template:TALKPAGENAMEE"&gt;Template:TALKPAGENAMEE&lt;/a&gt;&#8990;
&lt;/li&gt;&lt;li&gt; &lt;a href="/wiki/Template:SUBJECTPAGENAME" title="Template:SUBJECTPAGENAME"&gt;Template:SUBJECTPAGENAME&lt;/a&gt;&#8990;
&lt;/li&gt;&lt;li&gt; &lt;a href="/wiki/Template:SUBJECTPAGENAMEE" title="Template:SUBJECTPAGENAMEE"&gt;Template:SUBJECTPAGENAMEE&lt;/a&gt;&#8990;
&lt;/li&gt;&lt;li&gt; &lt;a href="/wiki/Template:NAMESPACEE" title="Template:NAMESPACEE"&gt;Template:NAMESPACEE&lt;/a&gt;&#8990;
&lt;/li&gt;&lt;li&gt; &lt;a href="/wiki/Template:NAMESPACE" title="Template:NAMESPACE"&gt;Template:NAMESPACE&lt;/a&gt;&#8990;
&lt;/li&gt;&lt;li&gt; &lt;a href="/wiki/Template:TALKSPACE" title="Template:TALKSPACE"&gt;Template:TALKSPACE&lt;/a&gt;&#8990;
&lt;/li&gt;&lt;li&gt; &lt;a href="/wiki/Template:TALKSPACEE" title="Template:TALKSPACEE"&gt;Template:TALKSPACEE&lt;/a&gt;&#8990;
&lt;/li&gt;&lt;li&gt; &lt;a href="/wiki/Template:SUBJECTSPACE" title="Template:SUBJECTSPACE"&gt;Template:SUBJECTSPACE&lt;/a&gt;&#8990;
&lt;/li&gt;&lt;li&gt; &lt;a href="/wiki/Template:SUBJECTSPACEE" title="Template:SUBJECTSPACEE"&gt;Template:SUBJECTSPACEE&lt;/a&gt;&#8990;
&lt;/li&gt;&lt;li&gt; &lt;a href="/wiki/Template:Dynamic" title="Template:Dynamic"&gt;Template:Dynamic&lt;/a&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">850</th>
<td class="status">fail</td>
<td class="description">Gallery</td>
<td class="input"><pre>&lt;gallery&gt;&#8990;
image1.png |&#8990;
image2.gif|||||&#8990;
&#8990;
image3|&#8990;
image4    |300px| centre&#8990;
 image5.svg| http://///////&#8990;
[[x|xx]]]]&#8990;
* image6&#8990;
&lt;/gallery&gt;</pre></td>
<td class="expect"><pre>&lt;ul class="gallery"&gt;&#8990;
		&lt;li class="gallerybox" style="width: 155px"&gt;&lt;div style="width: 155px"&gt;&#8990;
			&lt;div style="height: 150px;"&gt;Image1.png&lt;/div&gt;&#8990;
			&lt;div class="gallerytext"&gt;&#8990;
			&lt;/div&gt;&#8990;
		&lt;/div&gt;&lt;/li&gt;&#8990;
		&lt;li class="gallerybox" style="width: 155px"&gt;&lt;div style="width: 155px"&gt;&#8990;
			&lt;div style="height: 150px;"&gt;Image2.gif&lt;/div&gt;&#8990;
			&lt;div class="gallerytext"&gt;&#8990;
&lt;p&gt;||||&#8990;
&lt;/p&gt;&#8990;
			&lt;/div&gt;&#8990;
		&lt;/div&gt;&lt;/li&gt;&#8990;
		&lt;li class="gallerybox" style="width: 155px"&gt;&lt;div style="width: 155px"&gt;&#8990;
			&lt;div style="height: 150px;"&gt;Image3&lt;/div&gt;&#8990;
			&lt;div class="gallerytext"&gt;&#8990;
			&lt;/div&gt;&#8990;
		&lt;/div&gt;&lt;/li&gt;&#8990;
		&lt;li class="gallerybox" style="width: 155px"&gt;&lt;div style="width: 155px"&gt;&#8990;
			&lt;div style="height: 150px;"&gt;Image4&lt;/div&gt;&#8990;
			&lt;div class="gallerytext"&gt;&#8990;
&lt;p&gt;300px| centre&#8990;
&lt;/p&gt;&#8990;
			&lt;/div&gt;&#8990;
		&lt;/div&gt;&lt;/li&gt;&#8990;
		&lt;li class="gallerybox" style="width: 155px"&gt;&lt;div style="width: 155px"&gt;&#8990;
			&lt;div style="height: 150px;"&gt;Image5.svg&lt;/div&gt;&#8990;
			&lt;div class="gallerytext"&gt;&#8990;
&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://///////"&gt;http://///////&lt;/a&gt;&#8990;
&lt;/p&gt;&#8990;
			&lt;/div&gt;&#8990;
		&lt;/div&gt;&lt;/li&gt;&#8990;
		&lt;li class="gallerybox" style="width: 155px"&gt;&lt;div style="width: 155px"&gt;&#8990;
			&lt;div style="height: 150px;"&gt;* image6&lt;/div&gt;&#8990;
			&lt;div class="gallerytext"&gt;&#8990;
			&lt;/div&gt;&#8990;
		&lt;/div&gt;&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;gallery&amp;gt;&#8990;
image1.png |&#8990;
image2.gif|||||&#8990;
&lt;/p&gt;&lt;p&gt;image3|&#8990;
image4    |300px| centre&#8990;
&lt;/p&gt;&lt;pre&gt;image5.svg| &lt;a rel="nofollow" class="external free" href="http://///////"&gt;http://///////&lt;/a&gt;&#8990;
&lt;/pre&gt;&lt;p&gt;&lt;a href="/wiki/x" title="x"&gt;xx&lt;/a&gt;]]&#8990;
&lt;/p&gt;&lt;ul&gt;&lt;li&gt; image6&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;p&gt;&amp;lt;/gallery&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">851</th>
<td class="status">fail</td>
<td class="description">Gallery (with options)</td>
<td class="input"><pre>&lt;gallery widths='70px' heights='40px' perrow='2' caption='Foo [[Main Page]]' &gt;&#8990;
File:Nonexistant.jpg|caption&#8990;
File:Nonexistant.jpg&#8990;
image:foobar.jpg|some '''caption''' [[Main Page]]&#8990;
image:foobar.jpg&#8990;
image:foobar.jpg|Blabla|alt=This is a foo-bar.|blabla.&#8990;
&lt;/gallery&gt;</pre></td>
<td class="expect"><pre>&lt;ul class="gallery" style="max-width: 226px;_width: 226px;"&gt;&#8990;
	&lt;li class='gallerycaption'&gt;Foo &lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt;&lt;/li&gt;&#8990;
		&lt;li class="gallerybox" style="width: 105px"&gt;&lt;div style="width: 105px"&gt;&#8990;
			&lt;div style="height: 70px;"&gt;Nonexistant.jpg&lt;/div&gt;&#8990;
			&lt;div class="gallerytext"&gt;&#8990;
&lt;p&gt;caption&#8990;
&lt;/p&gt;&#8990;
			&lt;/div&gt;&#8990;
		&lt;/div&gt;&lt;/li&gt;&#8990;
		&lt;li class="gallerybox" style="width: 105px"&gt;&lt;div style="width: 105px"&gt;&#8990;
			&lt;div style="height: 70px;"&gt;Nonexistant.jpg&lt;/div&gt;&#8990;
			&lt;div class="gallerytext"&gt;&#8990;
			&lt;/div&gt;&#8990;
		&lt;/div&gt;&lt;/li&gt;&#8990;
		&lt;li class="gallerybox" style="width: 105px"&gt;&lt;div style="width: 105px"&gt;&#8990;
			&lt;div class="thumb" style="width: 100px;"&gt;&lt;div style="margin:31px auto;"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image"&gt;&lt;img alt="" src="http://example.com/images/thumb/3/3a/Foobar.jpg/70px-Foobar.jpg" width="70" height="8" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&#8990;
			&lt;div class="gallerytext"&gt;&#8990;
&lt;p&gt;some &lt;b&gt;caption&lt;/b&gt; &lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt;&#8990;
&lt;/p&gt;&#8990;
			&lt;/div&gt;&#8990;
		&lt;/div&gt;&lt;/li&gt;&#8990;
		&lt;li class="gallerybox" style="width: 105px"&gt;&lt;div style="width: 105px"&gt;&#8990;
			&lt;div class="thumb" style="width: 100px;"&gt;&lt;div style="margin:31px auto;"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image"&gt;&lt;img alt="Foobar.jpg" src="http://example.com/images/thumb/3/3a/Foobar.jpg/70px-Foobar.jpg" width="70" height="8" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&#8990;
			&lt;div class="gallerytext"&gt;&#8990;
			&lt;/div&gt;&#8990;
		&lt;/div&gt;&lt;/li&gt;&#8990;
		&lt;li class="gallerybox" style="width: 105px"&gt;&lt;div style="width: 105px"&gt;&#8990;
			&lt;div class="thumb" style="width: 100px;"&gt;&lt;div style="margin:31px auto;"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image"&gt;&lt;img alt="This is a foo-bar." src="http://example.com/images/thumb/3/3a/Foobar.jpg/70px-Foobar.jpg" width="70" height="8" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&#8990;
			&lt;div class="gallerytext"&gt;&#8990;
&lt;p&gt;Blabla|blabla.&#8990;
&lt;/p&gt;&#8990;
			&lt;/div&gt;&#8990;
		&lt;/div&gt;&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;gallery widths='70px' heights='40px' perrow='2' caption='Foo &lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page'&lt;/a&gt; &amp;gt;&#8990;
File:Nonexistant.jpg|caption&#8990;
File:Nonexistant.jpg&#8990;
image:foobar.jpg|some &lt;b&gt;caption&lt;/b&gt; &lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt;&#8990;
image:foobar.jpg&#8990;
image:foobar.jpg|Blabla|alt=This is a foo-bar.|blabla.&#8990;
&amp;lt;/gallery&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">852</th>
<td class="status">fail</td>
<td class="description">Gallery with wikitext inside caption</td>
<td class="input"><pre>&lt;gallery&gt;&#8990;
File:foobar.jpg|[[File:foobar.jpg|20px|desc|alt=inneralt]]|alt=galleryalt&#8990;
File:foobar.jpg|{{Test|unamedParam|alt=param}}|alt=galleryalt&#8990;
&lt;/gallery&gt;</pre></td>
<td class="expect"><pre>&lt;ul class="gallery"&gt;&#8990;
		&lt;li class="gallerybox" style="width: 155px"&gt;&lt;div style="width: 155px"&gt;&#8990;
			&lt;div class="thumb" style="width: 150px;"&gt;&lt;div style="margin:68px auto;"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image"&gt;&lt;img alt="galleryalt" src="http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg" width="120" height="14" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&#8990;
			&lt;div class="gallerytext"&gt;&#8990;
&lt;p&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image" title="desc"&gt;&lt;img alt="inneralt" src="http://example.com/images/thumb/3/3a/Foobar.jpg/20px-Foobar.jpg" width="20" height="2" srcset="http://example.com/images/thumb/3/3a/Foobar.jpg/30px-Foobar.jpg 1.5x, http://example.com/images/thumb/3/3a/Foobar.jpg/40px-Foobar.jpg 2x" /&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;&#8990;
			&lt;/div&gt;&#8990;
		&lt;/div&gt;&lt;/li&gt;&#8990;
		&lt;li class="gallerybox" style="width: 155px"&gt;&lt;div style="width: 155px"&gt;&#8990;
			&lt;div class="thumb" style="width: 150px;"&gt;&lt;div style="margin:68px auto;"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image"&gt;&lt;img alt="galleryalt" src="http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg" width="120" height="14" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&#8990;
			&lt;div class="gallerytext"&gt;&#8990;
&lt;p&gt;This is a test template&#8990;
&lt;/p&gt;&#8990;
			&lt;/div&gt;&#8990;
		&lt;/div&gt;&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;gallery&amp;gt;&#8990;
File:foobar.jpg|&lt;a href="/wiki/File:foobar.jpg" title="File:foobar.jpg"&gt;20px|desc|alt=inneralt&lt;/a&gt;|alt=galleryalt&#8990;
File:foobar.jpg|This is a test template|alt=galleryalt&#8990;
&amp;lt;/gallery&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">853</th>
<td class="status">fail</td>
<td class="description">gallery (with showfilename option)</td>
<td class="input"><pre>&lt;gallery showfilename&gt;&#8990;
File:Nonexistant.jpg|caption&#8990;
File:Nonexistant.jpg&#8990;
image:foobar.jpg|some '''caption''' [[Main Page]]&#8990;
File:Foobar.jpg&#8990;
&lt;/gallery&gt;</pre></td>
<td class="expect"><pre>&lt;ul class="gallery"&gt;&#8990;
		&lt;li class="gallerybox" style="width: 155px"&gt;&lt;div style="width: 155px"&gt;&#8990;
			&lt;div style="height: 150px;"&gt;Nonexistant.jpg&lt;/div&gt;&#8990;
			&lt;div class="gallerytext"&gt;&#8990;
&lt;p&gt;&lt;a href="/wiki/File:Nonexistant.jpg" title="File:Nonexistant.jpg"&gt;Nonexistant.jpg&lt;/a&gt;&lt;br /&gt;&#8990;
caption&#8990;
&lt;/p&gt;&#8990;
			&lt;/div&gt;&#8990;
		&lt;/div&gt;&lt;/li&gt;&#8990;
		&lt;li class="gallerybox" style="width: 155px"&gt;&lt;div style="width: 155px"&gt;&#8990;
			&lt;div style="height: 150px;"&gt;Nonexistant.jpg&lt;/div&gt;&#8990;
			&lt;div class="gallerytext"&gt;&#8990;
&lt;p&gt;&lt;a href="/wiki/File:Nonexistant.jpg" title="File:Nonexistant.jpg"&gt;Nonexistant.jpg&lt;/a&gt;&lt;br /&gt;&#8990;
&lt;/p&gt;&#8990;
			&lt;/div&gt;&#8990;
		&lt;/div&gt;&lt;/li&gt;&#8990;
		&lt;li class="gallerybox" style="width: 155px"&gt;&lt;div style="width: 155px"&gt;&#8990;
			&lt;div class="thumb" style="width: 150px;"&gt;&lt;div style="margin:68px auto;"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image"&gt;&lt;img alt="" src="http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg" width="120" height="14" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&#8990;
			&lt;div class="gallerytext"&gt;&#8990;
&lt;p&gt;&lt;a href="/wiki/File:Foobar.jpg" title="File:Foobar.jpg"&gt;Foobar.jpg&lt;/a&gt;&lt;br /&gt;&#8990;
some &lt;b&gt;caption&lt;/b&gt; &lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt;&#8990;
&lt;/p&gt;&#8990;
			&lt;/div&gt;&#8990;
		&lt;/div&gt;&lt;/li&gt;&#8990;
		&lt;li class="gallerybox" style="width: 155px"&gt;&lt;div style="width: 155px"&gt;&#8990;
			&lt;div class="thumb" style="width: 150px;"&gt;&lt;div style="margin:68px auto;"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image"&gt;&lt;img alt="Foobar.jpg" src="http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg" width="120" height="14" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&#8990;
			&lt;div class="gallerytext"&gt;&#8990;
&lt;p&gt;&lt;a href="/wiki/File:Foobar.jpg" title="File:Foobar.jpg"&gt;Foobar.jpg&lt;/a&gt;&lt;br /&gt;&#8990;
&lt;/p&gt;&#8990;
			&lt;/div&gt;&#8990;
		&lt;/div&gt;&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;gallery showfilename&amp;gt;&#8990;
File:Nonexistant.jpg|caption&#8990;
File:Nonexistant.jpg&#8990;
image:foobar.jpg|some &lt;b&gt;caption&lt;/b&gt; &lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt;&#8990;
File:Foobar.jpg&#8990;
&amp;lt;/gallery&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">854</th>
<td class="status">fail</td>
<td class="description">Gallery (with namespace-less filenames)</td>
<td class="input"><pre>&lt;gallery&gt;&#8990;
File:Nonexistant.jpg&#8990;
Nonexistant.jpg&#8990;
image:foobar.jpg&#8990;
foobar.jpg&#8990;
&lt;/gallery&gt;</pre></td>
<td class="expect"><pre>&lt;ul class="gallery"&gt;&#8990;
		&lt;li class="gallerybox" style="width: 155px"&gt;&lt;div style="width: 155px"&gt;&#8990;
			&lt;div style="height: 150px;"&gt;Nonexistant.jpg&lt;/div&gt;&#8990;
			&lt;div class="gallerytext"&gt;&#8990;
			&lt;/div&gt;&#8990;
		&lt;/div&gt;&lt;/li&gt;&#8990;
		&lt;li class="gallerybox" style="width: 155px"&gt;&lt;div style="width: 155px"&gt;&#8990;
			&lt;div style="height: 150px;"&gt;Nonexistant.jpg&lt;/div&gt;&#8990;
			&lt;div class="gallerytext"&gt;&#8990;
			&lt;/div&gt;&#8990;
		&lt;/div&gt;&lt;/li&gt;&#8990;
		&lt;li class="gallerybox" style="width: 155px"&gt;&lt;div style="width: 155px"&gt;&#8990;
			&lt;div class="thumb" style="width: 150px;"&gt;&lt;div style="margin:68px auto;"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image"&gt;&lt;img alt="Foobar.jpg" src="http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg" width="120" height="14" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&#8990;
			&lt;div class="gallerytext"&gt;&#8990;
			&lt;/div&gt;&#8990;
		&lt;/div&gt;&lt;/li&gt;&#8990;
		&lt;li class="gallerybox" style="width: 155px"&gt;&lt;div style="width: 155px"&gt;&#8990;
			&lt;div class="thumb" style="width: 150px;"&gt;&lt;div style="margin:68px auto;"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image"&gt;&lt;img alt="Foobar.jpg" src="http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg" width="120" height="14" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&#8990;
			&lt;div class="gallerytext"&gt;&#8990;
			&lt;/div&gt;&#8990;
		&lt;/div&gt;&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;gallery&amp;gt;&#8990;
File:Nonexistant.jpg&#8990;
Nonexistant.jpg&#8990;
image:foobar.jpg&#8990;
foobar.jpg&#8990;
&amp;lt;/gallery&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">855</th>
<td class="status">tidy</td>
<td class="description">HTML Hex character encoding (spells the word "JavaScript")</td>
<td class="input"><pre>&amp;#x4A;&amp;#x061;&amp;#x0076;&amp;#x00061;&amp;#x000053;&amp;#x0000063;&amp;#114;&amp;#x0000069;&amp;#00000112;&amp;#x0000000074;</pre></td>
<td class="expect"><pre>&lt;p&gt;&amp;#x4a;&amp;#x61;&amp;#x76;&amp;#x61;&amp;#x53;&amp;#x63;&amp;#114;&amp;#x69;&amp;#112;&amp;#x74;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;JavaScript&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">856</th>
<td class="status">pass</td>
<td class="description">HTML Hex character encoding bogus encoding (bug 26437 regression check)</td>
<td class="input"><pre>&amp;#xsee;&amp;#XSEE;</pre></td>
<td class="expect"><pre>&lt;p&gt;&amp;amp;#xsee;&amp;amp;#XSEE;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;amp;#xsee;&amp;amp;#XSEE;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">857</th>
<td class="status">tidy</td>
<td class="description">HTML Hex character encoding mixed case</td>
<td class="input"><pre>&amp;#xEE;&amp;#Xee;</pre></td>
<td class="expect"><pre>&lt;p&gt;&amp;#xee;&amp;#xee;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;#238;&amp;#238;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">858</th>
<td class="status">fail</td>
<td class="description">__FORCETOC__ override</td>
<td class="input"><pre>__NEWSECTIONLINK__&#8990;
__FORCETOC__</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;br /&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;__NEWSECTIONLINK__&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">859</th>
<td class="status">fail</td>
<td class="description">ISBN code coverage</td>
<td class="input"><pre>ISBN  978-0-1234-56&amp;#x20;789</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/Special:BookSources/9780123456" class="internal mw-magiclink-isbn"&gt;ISBN 978-0-1234-56&lt;/a&gt;&amp;#x20;789&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;ISBN  978-0-1234-56 789&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">860</th>
<td class="status">pass</td>
<td class="description">ISBN followed by 5 spaces</td>
<td class="input"><pre>ISBN    </pre></td>
<td class="expect"><pre>&lt;p&gt;ISBN    &#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;ISBN    &#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">861</th>
<td class="status">fail</td>
<td class="description">Double ISBN</td>
<td class="input"><pre>ISBN ISBN 1234567890</pre></td>
<td class="expect"><pre>&lt;p&gt;ISBN &lt;a href="/wiki/Special:BookSources/1234567890" class="internal mw-magiclink-isbn"&gt;ISBN 1234567890&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;ISBN ISBN 1234567890&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">862</th>
<td class="status">fail</td>
<td class="description">Bug 22905: &lt;abbr&gt; followed by ISBN followed by &lt;/a&gt;</td>
<td class="input"><pre>&lt;abbr&gt;(fr)&lt;/abbr&gt; ISBN 2753300917 [http://www.example.com example.com]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;abbr&gt;(fr)&lt;/abbr&gt; &lt;a href="/wiki/Special:BookSources/2753300917" class="internal mw-magiclink-isbn"&gt;ISBN 2753300917&lt;/a&gt; &lt;a rel="nofollow" class="external text" href="http://www.example.com"&gt;example.com&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;abbr&gt;(fr)&lt;/abbr&gt; ISBN 2753300917 &lt;a rel="nofollow" class="external text" href="http://www.example.com"&gt;example.com&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">863</th>
<td class="status">fail</td>
<td class="description">Double RFC</td>
<td class="input"><pre>RFC RFC 1234</pre></td>
<td class="expect"><pre>&lt;p&gt;RFC &lt;a class="external mw-magiclink-rfc" rel="nofollow" href="//tools.ietf.org/html/rfc1234"&gt;RFC 1234&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;RFC RFC 1234&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">864</th>
<td class="status">fail</td>
<td class="description">Double RFC with a wiki link</td>
<td class="input"><pre>RFC [[RFC 1234]]</pre></td>
<td class="expect"><pre>&lt;p&gt;RFC &lt;a href="/index.php?title=RFC_1234&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="RFC 1234 (page does not exist)"&gt;RFC 1234&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;RFC &lt;a href="/wiki/RFC_1234" title="RFC 1234"&gt;RFC 1234&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">865</th>
<td class="status">fail</td>
<td class="description">RFC code coverage</td>
<td class="input"><pre>RFC   983&amp;#x20;987</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a class="external mw-magiclink-rfc" rel="nofollow" href="//tools.ietf.org/html/rfc983"&gt;RFC 983&lt;/a&gt;&amp;#x20;987&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;RFC   983 987&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">866</th>
<td class="status">fail</td>
<td class="description">Centre-aligned image</td>
<td class="input"><pre>[[Image:foobar.jpg|centre]]</pre></td>
<td class="expect"><pre>&lt;div class="center"&gt;&lt;div class="floatnone"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image"&gt;&lt;img alt="Foobar.jpg" src="http://example.com/images/3/3a/Foobar.jpg" width="1941" height="220" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:foobar.jpg" title="Image:foobar.jpg"&gt;centre&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">867</th>
<td class="status">fail</td>
<td class="description">None-aligned image</td>
<td class="input"><pre>[[Image:foobar.jpg|none]]</pre></td>
<td class="expect"><pre>&lt;div class="floatnone"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image"&gt;&lt;img alt="Foobar.jpg" src="http://example.com/images/3/3a/Foobar.jpg" width="1941" height="220" /&gt;&lt;/a&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:foobar.jpg" title="Image:foobar.jpg"&gt;none&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">868</th>
<td class="status">fail</td>
<td class="description">Width + Height sized image (using px) (height is ignored)</td>
<td class="input"><pre>[[Image:foobar.jpg|640x480px]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image"&gt;&lt;img alt="Foobar.jpg" src="http://example.com/images/thumb/3/3a/Foobar.jpg/640px-Foobar.jpg" width="640" height="73" srcset="http://example.com/images/thumb/3/3a/Foobar.jpg/960px-Foobar.jpg 1.5x, http://example.com/images/thumb/3/3a/Foobar.jpg/1280px-Foobar.jpg 2x" /&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:foobar.jpg" title="Image:foobar.jpg"&gt;640x480px&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">869</th>
<td class="status">fail</td>
<td class="description">Width-sized image (using px, no following whitespace)</td>
<td class="input"><pre>[[Image:foobar.jpg|640px]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image"&gt;&lt;img alt="Foobar.jpg" src="http://example.com/images/thumb/3/3a/Foobar.jpg/640px-Foobar.jpg" width="640" height="73" srcset="http://example.com/images/thumb/3/3a/Foobar.jpg/960px-Foobar.jpg 1.5x, http://example.com/images/thumb/3/3a/Foobar.jpg/1280px-Foobar.jpg 2x" /&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:foobar.jpg" title="Image:foobar.jpg"&gt;640px&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">870</th>
<td class="status">fail</td>
<td class="description">Width-sized image (using px, with following whitespace - test regression from r39467)</td>
<td class="input"><pre>[[Image:foobar.jpg|640px ]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image"&gt;&lt;img alt="Foobar.jpg" src="http://example.com/images/thumb/3/3a/Foobar.jpg/640px-Foobar.jpg" width="640" height="73" srcset="http://example.com/images/thumb/3/3a/Foobar.jpg/960px-Foobar.jpg 1.5x, http://example.com/images/thumb/3/3a/Foobar.jpg/1280px-Foobar.jpg 2x" /&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:foobar.jpg" title="Image:foobar.jpg"&gt;640px&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">871</th>
<td class="status">fail</td>
<td class="description">Width-sized image (using px, with preceding whitespace - test regression from r39467)</td>
<td class="input"><pre>[[Image:foobar.jpg| 640px]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image"&gt;&lt;img alt="Foobar.jpg" src="http://example.com/images/thumb/3/3a/Foobar.jpg/640px-Foobar.jpg" width="640" height="73" srcset="http://example.com/images/thumb/3/3a/Foobar.jpg/960px-Foobar.jpg 1.5x, http://example.com/images/thumb/3/3a/Foobar.jpg/1280px-Foobar.jpg 2x" /&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:foobar.jpg" title="Image:foobar.jpg"&gt;640px&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">872</th>
<td class="status">fail</td>
<td class="description">Another italics / bold test</td>
<td class="input"><pre> ''' ''x'</pre></td>
<td class="expect"><pre>&lt;pre&gt;'&lt;i&gt; &lt;/i&gt;x'&#8990;
&lt;/pre&gt;</pre></td>
<td class="output"><pre>&lt;pre&gt;&lt;b&gt; &lt;i&gt;x'&lt;/i&gt;&lt;/b&gt;&#8990;
&lt;/pre&gt;</pre></td>
</tr>
<tr class="skip">
<th class="index">873</th>
<td class="status">skip</td>
<td class="description">dt/dd/dl test<ul><li>disabled</li></ul>
</td>
<td class="input"><pre>:;;;::</pre></td>
<td class="expect"><pre>&lt;dl&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;dl&gt;&lt;dt&gt;&lt;dl&gt;&lt;dt&gt;&lt;dl&gt;&lt;dd&gt;&lt;dl&gt;&lt;dd&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;/dt&gt;&lt;/dl&gt;&#8990;
&lt;/dt&gt;&lt;/dl&gt;&#8990;
&lt;/dt&gt;&lt;/dl&gt;&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
<td class="output"> </td>
</tr>
<tr class="fail">
<th class="index">874</th>
<td class="status">fail</td>
<td class="description">Images with the "|" character in the comment</td>
<td class="input"><pre>[[image:Foobar.jpg|thumb|An [http://test/?param1=|left|&amp;param2=|x external] URL]]</pre></td>
<td class="expect"><pre>&lt;div class="thumb tright"&gt;&lt;div class="thumbinner" style="width:182px;"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image"&gt;&lt;img alt="" src="http://example.com/images/thumb/3/3a/Foobar.jpg/180px-Foobar.jpg" width="180" height="20" class="thumbimage" srcset="http://example.com/images/thumb/3/3a/Foobar.jpg/270px-Foobar.jpg 1.5x, http://example.com/images/thumb/3/3a/Foobar.jpg/360px-Foobar.jpg 2x" /&gt;&lt;/a&gt;  &lt;div class="thumbcaption"&gt;&lt;div class="magnify"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="internal" title="Enlarge"&gt;&lt;img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /&gt;&lt;/a&gt;&lt;/div&gt;An &lt;a rel="nofollow" class="external text" href="http://test/?param1=%7Cleft%7C&amp;amp;param2=%7Cx"&gt;external&lt;/a&gt; URL&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/image:Foobar.jpg" title="image:Foobar.jpg"&gt;thumb|An &lt;a rel="nofollow" class="external text" href="http://test/?param1=|left|&amp;amp;param2=|x"&gt;external&lt;/a&gt; URL&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">875</th>
<td class="status">pass</td>
<td class="description">[Before] HTML without raw HTML enabled ($wgRawHtml==false)</td>
<td class="input"><pre>&lt;html&gt;&lt;script&gt;alert(1);&lt;/script&gt;&lt;/html&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&amp;lt;html&amp;gt;&amp;lt;script&amp;gt;alert(1);&amp;lt;/script&amp;gt;&amp;lt;/html&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;html&amp;gt;&amp;lt;script&amp;gt;alert(1);&amp;lt;/script&amp;gt;&amp;lt;/html&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">876</th>
<td class="status">fail</td>
<td class="description">HTML with raw HTML ($wgRawHtml==true)<ul><li>wgrawhtml: 1</li></ul>
</td>
<td class="input"><pre>&lt;html&gt;&lt;script&gt;alert(1);&lt;/script&gt;&lt;/html&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;script&gt;alert(1);&lt;/script&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;html&amp;gt;&amp;lt;script&amp;gt;alert(1);&amp;lt;/script&amp;gt;&amp;lt;/html&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="skip">
<th class="index">877</th>
<td class="status">skip</td>
<td class="description">Parents of subpages, one level up<ul>
<li>subpage</li>
<li>title: Subpage test/L1/L2/L3</li>
</ul>
</td>
<td class="input"><pre>[[../|L2]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/index.php?title=Subpage_test/L1/L2&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Subpage test/L1/L2 (page does not exist)"&gt;L2&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">878</th>
<td class="status">skip</td>
<td class="description">Parents of subpages, one level up, not named<ul>
<li>subpage</li>
<li>title: Subpage test/L1/L2/L3</li>
</ul>
</td>
<td class="input"><pre>[[../]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/index.php?title=Subpage_test/L1/L2&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Subpage test/L1/L2 (page does not exist)"&gt;Subpage test/L1/L2&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">879</th>
<td class="status">skip</td>
<td class="description">Parents of subpages, two levels up<ul>
<li>subpage</li>
<li>title: Subpage test/L1/L2/L3</li>
</ul>
</td>
<td class="input"><pre>[[../../|L1]]2&#8990;
&#8990;
[[../../|L1]]l</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/index.php?title=Subpage_test/L1&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Subpage test/L1 (page does not exist)"&gt;L1&lt;/a&gt;2&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a href="/index.php?title=Subpage_test/L1&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Subpage test/L1 (page does not exist)"&gt;L1l&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">880</th>
<td class="status">skip</td>
<td class="description">Parents of subpages, two levels up, without trailing slash or name.<ul>
<li>subpage</li>
<li>title: Subpage test/L1/L2/L3</li>
</ul>
</td>
<td class="input"><pre>[[../..]]</pre></td>
<td class="expect"><pre>&lt;p&gt;[[../..]]&#8990;
&lt;/p&gt;</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">881</th>
<td class="status">skip</td>
<td class="description">Parents of subpages, two levels up, with lots of extra trailing slashes.<ul>
<li>subpage</li>
<li>title: Subpage test/L1/L2/L3</li>
</ul>
</td>
<td class="input"><pre>[[../../////]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/index.php?title=Subpage_test/L1////&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Subpage test/L1//// (page does not exist)"&gt;///&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">882</th>
<td class="status">skip</td>
<td class="description">Transclusion of a sibling page (one level up)<ul>
<li>subpage</li>
<li>title: Subpage test/L1/L2/L3</li>
</ul>
</td>
<td class="input"><pre>{{../L3Sibling}}</pre></td>
<td class="expect"><pre>&lt;p&gt;Sibling article&#8990;
&lt;/p&gt;</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">883</th>
<td class="status">skip</td>
<td class="description">Transclusion of a child page<ul>
<li>subpage</li>
<li>title: Subpage test/L1/L2</li>
</ul>
</td>
<td class="input"><pre>{{/L3Sibling}}</pre></td>
<td class="expect"><pre>&lt;p&gt;Sibling article&#8990;
&lt;/p&gt;</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">884</th>
<td class="status">skip</td>
<td class="description">Non-transclusion because of too many up levels<ul>
<li>subpage</li>
<li>title: Subpage test/L1/L2/L3</li>
</ul>
</td>
<td class="input"><pre>{{../../../../More than parent}}</pre></td>
<td class="expect"><pre>&lt;p&gt;{{../../../../More than parent}}&#8990;
&lt;/p&gt;</pre></td>
<td class="output"> </td>
</tr>
<tr class="tidy">
<th class="index">885</th>
<td class="status">tidy</td>
<td class="description">Definition list code coverage</td>
<td class="input"><pre>; title   : def&#8990;
; title : def&#8990;
;title: def</pre></td>
<td class="expect"><pre>&lt;dl&gt;&lt;dt&gt; title  &amp;#160;&lt;/dt&gt;&lt;dd&gt; def&#8990;
&lt;/dd&gt;&lt;dt&gt; title&amp;#160;&lt;/dt&gt;&lt;dd&gt; def&#8990;
&lt;/dd&gt;&lt;dt&gt;title&lt;/dt&gt;&lt;dd&gt; def&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;dl&gt;&lt;dt&gt; title   &lt;/dt&gt;&lt;dd&gt; def&#8990;
&lt;/dd&gt;&lt;dt&gt; title &lt;/dt&gt;&lt;dd&gt; def&#8990;
&lt;/dd&gt;&lt;dt&gt;title&lt;/dt&gt;&lt;dd&gt; def&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">886</th>
<td class="status">fail</td>
<td class="description">Don't fall for the self-closing div</td>
<td class="input"><pre>&lt;div&gt;hello world&lt;/div/&gt;</pre></td>
<td class="expect"><pre>&lt;div&gt;hello world&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div&gt;hello world&amp;lt;/div/&amp;gt;&lt;/div&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">887</th>
<td class="status">fail</td>
<td class="description">MSGNW magic word</td>
<td class="input"><pre>{{MSGNW:msg}}</pre></td>
<td class="expect"><pre>&lt;p&gt;&amp;#91;&amp;#91;:Template:Msg&amp;#93;&amp;#93;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:MSGNW:msg" title="Template:MSGNW:msg"&gt;Template:MSGNW:msg&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">888</th>
<td class="status">fail</td>
<td class="description">RAW magic word</td>
<td class="input"><pre>{{RAW:QUERTY}}</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/index.php?title=Template:QUERTY&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Template:QUERTY (page does not exist)"&gt;Template:QUERTY&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:RAW:QUERTY" title="Template:RAW:QUERTY"&gt;Template:RAW:QUERTY&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">889</th>
<td class="status">pass</td>
<td class="description">Always escape literal '&gt;' in output, not just after '&lt;'</td>
<td class="input"><pre>&gt;&lt;&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&amp;gt;&amp;lt;&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;gt;&amp;lt;&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">890</th>
<td class="status">pass</td>
<td class="description">Template caching</td>
<td class="input"><pre>{{Test}}&#8990;
{{Test}}</pre></td>
<td class="expect"><pre>&lt;p&gt;This is a test template&#8990;
This is a test template&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;This is a test template&#8990;
This is a test template&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">891</th>
<td class="status">fail</td>
<td class="description">Inclusion of !userCanEdit() content</td>
<td class="input"><pre>{{MediaWiki:Fake}}</pre></td>
<td class="expect"><pre>&lt;h2&gt;&lt;span class="mw-headline" id="header"&gt;header&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=MediaWiki:Fake&amp;amp;action=edit&amp;amp;section=T-1" title="MediaWiki:Fake"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:MediaWiki:Fake" title="Template:MediaWiki:Fake"&gt;Template:MediaWiki:Fake&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">892</th>
<td class="status">fail</td>
<td class="description">Out-of-order TOC heading levels</td>
<td class="input"><pre>==2==&#8990;
======6======&#8990;
===3===&#8990;
=1=&#8990;
=====5=====&#8990;
==2==</pre></td>
<td class="expect"><pre>&lt;div id="toc" class="toc"&gt;&lt;div id="toctitle"&gt;&lt;h2&gt;Contents&lt;/h2&gt;&lt;/div&gt;&#8990;
&lt;ul&gt;&#8990;
&lt;li class="toclevel-1 tocsection-1"&gt;&lt;a href="#2"&gt;&lt;span class="tocnumber"&gt;1&lt;/span&gt; &lt;span class="toctext"&gt;2&lt;/span&gt;&lt;/a&gt;&#8990;
&lt;ul&gt;&#8990;
&lt;li class="toclevel-2 tocsection-2"&gt;&lt;a href="#6"&gt;&lt;span class="tocnumber"&gt;1.1&lt;/span&gt; &lt;span class="toctext"&gt;6&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;li class="toclevel-2 tocsection-3"&gt;&lt;a href="#3"&gt;&lt;span class="tocnumber"&gt;1.2&lt;/span&gt; &lt;span class="toctext"&gt;3&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
&lt;/li&gt;&#8990;
&lt;li class="toclevel-1 tocsection-4"&gt;&lt;a href="#1"&gt;&lt;span class="tocnumber"&gt;2&lt;/span&gt; &lt;span class="toctext"&gt;1&lt;/span&gt;&lt;/a&gt;&#8990;
&lt;ul&gt;&#8990;
&lt;li class="toclevel-2 tocsection-5"&gt;&lt;a href="#5"&gt;&lt;span class="tocnumber"&gt;2.1&lt;/span&gt; &lt;span class="toctext"&gt;5&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;li class="toclevel-2 tocsection-6"&gt;&lt;a href="#2_2"&gt;&lt;span class="tocnumber"&gt;2.2&lt;/span&gt; &lt;span class="toctext"&gt;2&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
&lt;/div&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="2"&gt;2&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=1" title="Edit section: 2"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h6&gt;&lt;span class="mw-headline" id="6"&gt;6&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=2" title="Edit section: 6"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h6&gt;&#8990;
&lt;h3&gt;&lt;span class="mw-headline" id="3"&gt;3&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=3" title="Edit section: 3"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;&#8990;
&lt;h1&gt;&lt;span class="mw-headline" id="1"&gt;1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=4" title="Edit section: 1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt;&#8990;
&lt;h5&gt;&lt;span class="mw-headline" id="5"&gt;5&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=5" title="Edit section: 5"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h5&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="2_2"&gt;2&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=6" title="Edit section: 2"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;h2&gt;&lt;span class="mw-headline" id="2"&gt;2&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: 2"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h6&gt;&lt;span class="mw-headline" id="6"&gt;6&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: 6"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h6&gt;&#8990;
&lt;h3&gt;&lt;span class="mw-headline" id="3"&gt;3&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: 3"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;&#8990;
&lt;h1&gt;&lt;span class="mw-headline" id="1"&gt;1&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: 1"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt;&#8990;
&lt;h5&gt;&lt;span class="mw-headline" id="5"&gt;5&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: 5"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h5&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="2_2"&gt;2&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: 2"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
</tr>
<tr class="pass">
<th class="index">893</th>
<td class="status">pass</td>
<td class="description">ISBN with a dummy number</td>
<td class="input"><pre>ISBN ---</pre></td>
<td class="expect"><pre>&lt;p&gt;ISBN ---&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;ISBN ---&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">894</th>
<td class="status">fail</td>
<td class="description">ISBN with space-delimited number</td>
<td class="input"><pre>ISBN 92 9017 032 8</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/Special:BookSources/9290170328" class="internal mw-magiclink-isbn"&gt;ISBN 92 9017 032 8&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;ISBN 92 9017 032 8&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">895</th>
<td class="status">pass</td>
<td class="description">ISBN with multiple spaces, no number</td>
<td class="input"><pre>ISBN  foo</pre></td>
<td class="expect"><pre>&lt;p&gt;ISBN  foo&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;ISBN  foo&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">896</th>
<td class="status">fail</td>
<td class="description">ISBN length</td>
<td class="input"><pre>ISBN 123456789&#8990;
&#8990;
ISBN 1234567890&#8990;
&#8990;
ISBN 12345678901</pre></td>
<td class="expect"><pre>&lt;p&gt;ISBN 123456789&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a href="/wiki/Special:BookSources/1234567890" class="internal mw-magiclink-isbn"&gt;ISBN 1234567890&lt;/a&gt;&#8990;
&lt;/p&gt;&lt;p&gt;ISBN 12345678901&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;ISBN 123456789&#8990;
&lt;/p&gt;&lt;p&gt;ISBN 1234567890&#8990;
&lt;/p&gt;&lt;p&gt;ISBN 12345678901&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">897</th>
<td class="status">fail</td>
<td class="description">ISBN with trailing year (bug 8110)</td>
<td class="input"><pre>ISBN 1-234-56789-0 - 2006&#8990;
&#8990;
ISBN 1 234 56789 0 - 2006</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/Special:BookSources/1234567890" class="internal mw-magiclink-isbn"&gt;ISBN 1-234-56789-0&lt;/a&gt; - 2006&#8990;
&lt;/p&gt;&lt;p&gt;&lt;a href="/wiki/Special:BookSources/1234567890" class="internal mw-magiclink-isbn"&gt;ISBN 1 234 56789 0&lt;/a&gt; - 2006&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;ISBN 1-234-56789-0 - 2006&#8990;
&lt;/p&gt;&lt;p&gt;ISBN 1 234 56789 0 - 2006&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">898</th>
<td class="status">fail</td>
<td class="description">anchorencode</td>
<td class="input"><pre>{{anchorencode:foo bar&#169;#%n}}</pre></td>
<td class="expect"><pre>&lt;p&gt;foo_bar.C2.A9.23.25n&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:Anchorencode:foo_bar&amp;#169;#%n" title="Template:Anchorencode:foo bar&amp;#169;#%n"&gt;Template:Anchorencode:foo bar&amp;#169;#%n&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">899</th>
<td class="status">fail</td>
<td class="description">anchorencode trims spaces</td>
<td class="input"><pre>{{anchorencode: __pretty__please__}}</pre></td>
<td class="expect"><pre>&lt;p&gt;pretty_please&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:Anchorencode:___pretty__please" title="Template:Anchorencode:   pretty  please"&gt;Template:Anchorencode:   pretty  please&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">900</th>
<td class="status">fail</td>
<td class="description">anchorencode deals with links</td>
<td class="input"><pre>{{anchorencode: [[hello|world]] [[hi]]}}</pre></td>
<td class="expect"><pre>&lt;p&gt;world_hi&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/BROKEN" title="BROKEN"&gt;BROKEN&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">901</th>
<td class="status">fail</td>
<td class="description">anchorencode deals with templates</td>
<td class="input"><pre>{{anchorencode: {{Foo}} }}</pre></td>
<td class="expect"><pre>&lt;p&gt;FOO&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:Anchorencode:_FOO" title="Template:Anchorencode: FOO"&gt;Template:Anchorencode: FOO&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">902</th>
<td class="status">fail</td>
<td class="description">anchorencode encodes like the TOC generator: (bug 18431)</td>
<td class="input"><pre>=== _ +:.3A%3A&amp;&amp;amp;]] ===&#8990;
{{anchorencode: _ +:.3A%3A&amp;&amp;amp;]] }}&#8990;
__NOEDITSECTION__</pre></td>
<td class="expect"><pre>&lt;h3&gt;&lt;span class="mw-headline" id=".2B:.3A.253A.26.26.5D.5D"&gt;_ +:.3A%3A&amp;amp;&amp;amp;]]&lt;/span&gt;&lt;/h3&gt;&#8990;
&lt;p&gt;.2B:.3A.253A.26.26.5D.5D&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;h3&gt;&lt;span class="mw-headline" id="_ +:.3A%3A&amp;amp;&amp;amp;amp;]]"&gt;_ +:.3A%3A&amp;amp;&amp;amp;amp;]]&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: _ +:.3A%3A&amp;amp;&amp;amp;amp;]]"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;&#8990;
&lt;p&gt;&lt;a href="/wiki/Template:Anchorencode:___+:.3A%3A&amp;amp;&amp;amp;" title="Template:Anchorencode:   +:.3A%3A&amp;amp;&amp;amp;"&gt;Template:Anchorencode:   +:.3A%3A&amp;amp;&amp;amp;&lt;/a&gt;]]&#8990;
__NOEDITSECTION__&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">903</th>
<td class="status">tidy</td>
<td class="description">Bug 6200: blockquotes and paragraph formatting</td>
<td class="input"><pre>&lt;blockquote&gt;&#8990;
foo&#8990;
&lt;/blockquote&gt;&#8990;
&#8990;
bar&#8990;
&#8990;
 baz</pre></td>
<td class="expect"><pre>&lt;blockquote&gt;&#8990;
foo&#8990;
&lt;/blockquote&gt;&#8990;
&lt;p&gt;bar&#8990;
&lt;/p&gt;&#8990;
&lt;pre&gt;baz&#8990;
&lt;/pre&gt;</pre></td>
<td class="output"><pre>&lt;blockquote&gt;foo&lt;/blockquote&gt;&lt;p&gt;bar&#8990;
&lt;/p&gt;&lt;pre&gt;baz&#8990;
&lt;/pre&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">904</th>
<td class="status">fail</td>
<td class="description">Bug 8293: Use of center tag ruins paragraph formatting</td>
<td class="input"><pre>&lt;center&gt;&#8990;
foo&#8990;
&lt;/center&gt;&#8990;
&#8990;
bar&#8990;
&#8990;
 baz</pre></td>
<td class="expect"><pre>&lt;center&gt;&#8990;
&lt;p&gt;foo&#8990;
&lt;/p&gt;&#8990;
&lt;/center&gt;&#8990;
&lt;p&gt;bar&#8990;
&lt;/p&gt;&#8990;
&lt;pre&gt;baz&#8990;
&lt;/pre&gt;</pre></td>
<td class="output"><pre>&lt;center&gt;foo&lt;/center&gt;&lt;p&gt;bar&#8990;
&lt;/p&gt;&lt;pre&gt;baz&#8990;
&lt;/pre&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">905</th>
<td class="status">pass</td>
<td class="description">Parsing of overlapping (improperly nested) inline html tags (PHP parser)<ul><li>php</li></ul>
</td>
<td class="input"><pre>&lt;span&gt;&lt;s&gt;x&lt;/span&gt;&lt;/s&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;span&gt;&lt;s&gt;x&amp;lt;/span&amp;gt;&lt;/s&gt;&lt;/span&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;span&gt;&lt;s&gt;x&amp;lt;/span&amp;gt;&lt;/s&gt;&lt;/span&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">906</th>
<td class="status">fail</td>
<td class="description">Parsing of overlapping (improperly nested) inline html tags (Parsoid)<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>&lt;span&gt;&lt;s&gt;x&lt;/span&gt;&lt;/s&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;span&gt;&lt;s&gt;x&lt;/s&gt;&lt;/span&gt;&lt;s&gt;&lt;/s&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;span&gt;&lt;s&gt;x&amp;lt;/span&amp;gt;&lt;/s&gt;&lt;/span&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">907</th>
<td class="status">fail</td>
<td class="description">Self-link in language variants<ul>
<li>language: sr</li>
<li>title: Dunav</li>
</ul>
</td>
<td class="input"><pre>Both [[Dunav]] and [[&#1044;&#1091;&#1085;&#1072;&#1074;]] are names for this river.</pre></td>
<td class="expect"><pre>&lt;p&gt;Both &lt;strong class="selflink"&gt;Dunav&lt;/strong&gt; and &lt;strong class="selflink"&gt;&#1044;&#1091;&#1085;&#1072;&#1074;&lt;/strong&gt; are names for this river.&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Both &lt;a href="/wiki/Dunav" title="Dunav"&gt;Dunav&lt;/a&gt; and &lt;a href="/wiki/&amp;#1044;&amp;#1091;&amp;#1085;&amp;#1072;&amp;#1074;" title="&amp;#1044;&amp;#1091;&amp;#1085;&amp;#1072;&amp;#1074;"&gt;&amp;#1044;&amp;#1091;&amp;#1085;&amp;#1072;&amp;#1074;&lt;/a&gt; are names for this river.&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">908</th>
<td class="status">fail</td>
<td class="description">Link to another existing title shouldn't be parsed as self-link even if it's a variant of this title<ul>
<li>language: sr</li>
<li>title: Duna</li>
</ul>
</td>
<td class="input"><pre>[[&#1044;&#1091;&#1085;&#1072;]] is not a self-link while [[Duna]] and [[D&#1091;&#1085;&#1072;]] are still self-links.</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/%D0%94%D1%83%D0%BD%D0%B0" title="&#1044;&#1091;&#1085;&#1072;"&gt;&#1044;&#1091;&#1085;&#1072;&lt;/a&gt; is not a self-link while &lt;strong class="selflink"&gt;Duna&lt;/strong&gt; and &lt;strong class="selflink"&gt;D&#1091;&#1085;&#1072;&lt;/strong&gt; are still self-links.&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/&amp;#1044;&amp;#1091;&amp;#1085;&amp;#1072;" title="&amp;#1044;&amp;#1091;&amp;#1085;&amp;#1072;"&gt;&amp;#1044;&amp;#1091;&amp;#1085;&amp;#1072;&lt;/a&gt; is not a self-link while &lt;a href="/wiki/Duna" title="Duna"&gt;Duna&lt;/a&gt; and &lt;a href="/wiki/D&amp;#1091;&amp;#1085;&amp;#1072;" title="D&amp;#1091;&amp;#1085;&amp;#1072;"&gt;D&amp;#1091;&amp;#1085;&amp;#1072;&lt;/a&gt; are still self-links.&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">909</th>
<td class="status">fail</td>
<td class="description">Link to pages in language variants<ul><li>language: sr</li></ul>
</td>
<td class="input"><pre>Main Page can be written as [[&#1052;&#1072;&#1080;&#1085; &#1055;&#1072;&#1075;&#1077;]]</pre></td>
<td class="expect"><pre>&lt;p&gt;Main Page can be written as &lt;a href="/wiki/Main_Page" title="Main Page"&gt;&#1052;&#1072;&#1080;&#1085; &#1055;&#1072;&#1075;&#1077;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Main Page can be written as &lt;a href="/wiki/&amp;#1052;&amp;#1072;&amp;#1080;&amp;#1085;_&amp;#1055;&amp;#1072;&amp;#1075;&amp;#1077;" title="&amp;#1052;&amp;#1072;&amp;#1080;&amp;#1085; &amp;#1055;&amp;#1072;&amp;#1075;&amp;#1077;"&gt;&amp;#1052;&amp;#1072;&amp;#1080;&amp;#1085; &amp;#1055;&amp;#1072;&amp;#1075;&amp;#1077;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">910</th>
<td class="status">fail</td>
<td class="description">Multiple links to pages in language variants<ul><li>language: sr</li></ul>
</td>
<td class="input"><pre>[[Main Page]] can be written as [[&#1052;&#1072;&#1080;&#1085; &#1055;&#1072;&#1075;&#1077;]] same as [[&#1052;&#1072;&#1080;&#1085; &#1055;&#1072;&#1075;&#1077;]].</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt; can be written as &lt;a href="/wiki/Main_Page" title="Main Page"&gt;&#1052;&#1072;&#1080;&#1085; &#1055;&#1072;&#1075;&#1077;&lt;/a&gt; same as &lt;a href="/wiki/Main_Page" title="Main Page"&gt;&#1052;&#1072;&#1080;&#1085; &#1055;&#1072;&#1075;&#1077;&lt;/a&gt;.&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt; can be written as &lt;a href="/wiki/&amp;#1052;&amp;#1072;&amp;#1080;&amp;#1085;_&amp;#1055;&amp;#1072;&amp;#1075;&amp;#1077;" title="&amp;#1052;&amp;#1072;&amp;#1080;&amp;#1085; &amp;#1055;&amp;#1072;&amp;#1075;&amp;#1077;"&gt;&amp;#1052;&amp;#1072;&amp;#1080;&amp;#1085; &amp;#1055;&amp;#1072;&amp;#1075;&amp;#1077;&lt;/a&gt; same as &lt;a href="/wiki/&amp;#1052;&amp;#1072;&amp;#1080;&amp;#1085;_&amp;#1055;&amp;#1072;&amp;#1075;&amp;#1077;" title="&amp;#1052;&amp;#1072;&amp;#1080;&amp;#1085; &amp;#1055;&amp;#1072;&amp;#1075;&amp;#1077;"&gt;&amp;#1052;&amp;#1072;&amp;#1080;&amp;#1085; &amp;#1055;&amp;#1072;&amp;#1075;&amp;#1077;&lt;/a&gt;.&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">911</th>
<td class="status">fail</td>
<td class="description">Simple template in language variants<ul><li>language: sr</li></ul>
</td>
<td class="input"><pre>{{&#1090;&#1077;&#1089;&#1090;}}</pre></td>
<td class="expect"><pre>&lt;p&gt;This is a test template&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:&amp;#1058;&amp;#1077;&amp;#1089;&amp;#1090;" title="Template:&amp;#1058;&amp;#1077;&amp;#1089;&amp;#1090;"&gt;Template:&amp;#1058;&amp;#1077;&amp;#1089;&amp;#1090;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">912</th>
<td class="status">fail</td>
<td class="description">Template with explicit namespace in language variants<ul><li>language: sr</li></ul>
</td>
<td class="input"><pre>{{Template:&#1090;&#1077;&#1089;&#1090;}}</pre></td>
<td class="expect"><pre>&lt;p&gt;This is a test template&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:&amp;#1058;&amp;#1077;&amp;#1089;&amp;#1090;" title="Template:&amp;#1058;&amp;#1077;&amp;#1089;&amp;#1090;"&gt;Template:&amp;#1058;&amp;#1077;&amp;#1089;&amp;#1090;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">913</th>
<td class="status">fail</td>
<td class="description">Basic test for template parameter in language variants<ul><li>language: sr</li></ul>
</td>
<td class="input"><pre>{{&#1087;&#1072;&#1088;&#1072;&#1084;&#1090;&#1077;&#1089;&#1090;|param=foo}}</pre></td>
<td class="expect"><pre>&lt;p&gt;This is a test template with parameter foo&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:&amp;#1055;&amp;#1072;&amp;#1088;&amp;#1072;&amp;#1084;&amp;#1090;&amp;#1077;&amp;#1089;&amp;#1090;" title="Template:&amp;#1055;&amp;#1072;&amp;#1088;&amp;#1072;&amp;#1084;&amp;#1090;&amp;#1077;&amp;#1089;&amp;#1090;"&gt;Template:&amp;#1055;&amp;#1072;&amp;#1088;&amp;#1072;&amp;#1084;&amp;#1090;&amp;#1077;&amp;#1089;&amp;#1090;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">914</th>
<td class="status">fail</td>
<td class="description">Simple category in language variants<ul>
<li>language: sr</li>
<li>cat</li>
</ul>
</td>
<td class="input"><pre>[[Category:&#1052;&#1077;&#1076;&#1080;&#1072;W&#1080;&#1082;&#1080; &#1059;&#1089;&#1077;&#1088;'&#1089; &#1043;&#1091;&#1080;&#1076;&#1077;]]</pre></td>
<td class="expect"><pre>&lt;a href="/wiki/%D0%9A%D0%B0%D1%82%D0%B5%D0%B3%D0%BE%D1%80%D0%B8%D1%98%D0%B0:MediaWiki_User%27s_Guide" title="&#1050;&#1072;&#1090;&#1077;&#1075;&#1086;&#1088;&#1080;&#1112;&#1072;:MediaWiki User's Guide"&gt;MediaWiki User's Guide&lt;/a&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Category:&amp;#1052;&amp;#1077;&amp;#1076;&amp;#1080;&amp;#1072;W&amp;#1080;&amp;#1082;&amp;#1080;_&amp;#1059;&amp;#1089;&amp;#1077;&amp;#1088;'&amp;#1089;_&amp;#1043;&amp;#1091;&amp;#1080;&amp;#1076;&amp;#1077;" title="Category:&amp;#1052;&amp;#1077;&amp;#1076;&amp;#1080;&amp;#1072;W&amp;#1080;&amp;#1082;&amp;#1080; &amp;#1059;&amp;#1089;&amp;#1077;&amp;#1088;'&amp;#1089; &amp;#1043;&amp;#1091;&amp;#1080;&amp;#1076;&amp;#1077;"&gt;Category:&amp;#1052;&amp;#1077;&amp;#1076;&amp;#1080;&amp;#1072;W&amp;#1080;&amp;#1082;&amp;#1080; &amp;#1059;&amp;#1089;&amp;#1077;&amp;#1088;'&amp;#1089; &amp;#1043;&amp;#1091;&amp;#1080;&amp;#1076;&amp;#1077;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">915</th>
<td class="status">fail</td>
<td class="description">Don't convert blue categorylinks to another variant (bug 33210)<ul>
<li>language: zh</li>
<li>cat</li>
</ul>
</td>
<td class="input"><pre>[[A]][[Category:&#20998;&#31867;]]</pre></td>
<td class="expect"><pre>&lt;a href="/wiki/Category:%E5%88%86%E7%B1%BB" title="Category:&#20998;&#31867;"&gt;&#20998;&#31867;&lt;/a&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/A" title="A"&gt;A&lt;/a&gt;&lt;a href="/wiki/Category:&amp;#20998;&amp;#31867;" title="Category:&amp;#20998;&amp;#31867;"&gt;Category:&amp;#20998;&amp;#31867;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">916</th>
<td class="status">fail</td>
<td class="description">Stripping -{}- tags (language variants)<ul><li>language: sr</li></ul>
</td>
<td class="input"><pre>Latin proverb: -{Ne nuntium necare}-</pre></td>
<td class="expect"><pre>&lt;p&gt;Latin proverb: Ne nuntium necare&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Latin proverb: -{Ne nuntium necare}-&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">917</th>
<td class="status">fail</td>
<td class="description">Prevent conversion with -{}- tags (language variants)<ul>
<li>variant: sr-ec</li>
<li>language: sr</li>
</ul>
</td>
<td class="input"><pre>Latinski: -{Ne nuntium necare}-</pre></td>
<td class="expect"><pre>&lt;p&gt;&#1051;&#1072;&#1090;&#1080;&#1085;&#1089;&#1082;&#1080;: Ne nuntium necare&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Latinski: -{Ne nuntium necare}-&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">918</th>
<td class="status">fail</td>
<td class="description">Prevent conversion of text with -{}- tags (language variants)<ul>
<li>variant: sr-ec</li>
<li>language: sr</li>
</ul>
</td>
<td class="input"><pre>Latinski: -{Ne nuntium necare}-</pre></td>
<td class="expect"><pre>&lt;p&gt;&#1051;&#1072;&#1090;&#1080;&#1085;&#1089;&#1082;&#1080;: Ne nuntium necare&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Latinski: -{Ne nuntium necare}-&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">919</th>
<td class="status">fail</td>
<td class="description">Prevent conversion of links with -{}- tags (language variants)<ul>
<li>variant: sr-ec</li>
<li>language: sr</li>
</ul>
</td>
<td class="input"><pre>-{[[Main Page]]}-</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;-{&lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt;}-&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">920</th>
<td class="status">fail</td>
<td class="description">-{}- tags within headlines (within html for parserConvert())<ul>
<li>variant: sr-ec</li>
<li>language: sr</li>
</ul>
</td>
<td class="input"><pre>== -{Naslov}- ==</pre></td>
<td class="expect"><pre>&lt;h2&gt;&lt;span class="mw-headline" id="-.7BNaslov.7D-"&gt;Naslov&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=1" title="&#1059;&#1088;&#1077;&#1076;&#1080;&#1090;&#1077; &#1086;&#1076;&#1077;&#1113;&#1072;&#1082; &#8222;Naslov&#8220;"&gt;&#1091;&#1088;&#1077;&#1076;&#1080;&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;h2&gt;&lt;span class="mw-headline" id="-{Naslov}-"&gt;-{Naslov}-&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: -{Naslov}-"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">921</th>
<td class="status">fail</td>
<td class="description">Explicit definition of language variant alternatives<ul>
<li>variant: zh-tw</li>
<li>language: zh</li>
</ul>
</td>
<td class="input"><pre>-{zh:China;zh-tw:Taiwan}-, not China</pre></td>
<td class="expect"><pre>&lt;p&gt;Taiwan, not China&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;-{zh:China;zh-tw:Taiwan}-, not China&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">922</th>
<td class="status">fail</td>
<td class="description">Conversion around HTML tags<ul>
<li>variant: sr-ec</li>
<li>language: sr</li>
</ul>
</td>
<td class="input"><pre>-{H|span=&gt;sr-ec:script;title=&gt;sr-ec:src;}-&#8990;
&lt;span title="La-{sr-el:L;sr-ec:C;}-tin"&gt;ski&lt;/span&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&#8990;
&lt;span title="&#1051;&#1072;C&#1090;&#1080;&#1085;"&gt;&#1089;&#1082;&#1080;&lt;/span&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;-{H|span=&amp;gt;sr-ec:script;title=&amp;gt;sr-ec:src;}-&#8990;
&lt;span title="La-{sr-el:L;sr-ec:C;}-tin"&gt;ski&lt;/span&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">923</th>
<td class="status">fail</td>
<td class="description">Explicit session-wise language variant mapping (A flag and - flag)<ul>
<li>variant: zh-tw</li>
<li>language: zh</li>
</ul>
</td>
<td class="input"><pre>Taiwan is not China.&#8990;
But -{A|zh:China;zh-tw:Taiwan}- is China,&#8990;
(This-{-|zh:China;zh-tw:Taiwan}- should be stripped!)&#8990;
and -{China}- is China.</pre></td>
<td class="expect"><pre>&lt;p&gt;Taiwan is not China.&#8990;
But Taiwan is Taiwan,&#8990;
(This should be stripped!)&#8990;
and China is China.&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Taiwan is not China.&#8990;
But -{A|zh:China;zh-tw:Taiwan}- is China,&#8990;
(This-{-|zh:China;zh-tw:Taiwan}- should be stripped!)&#8990;
and -{China}- is China.&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">924</th>
<td class="status">fail</td>
<td class="description">Explicit session-wise language variant mapping (H flag for hide)<ul>
<li>variant: zh-tw</li>
<li>language: zh</li>
</ul>
</td>
<td class="input"><pre>(This-{H|zh:China;zh-tw:Taiwan}- should be stripped!)&#8990;
Taiwan is China.</pre></td>
<td class="expect"><pre>&lt;p&gt;(This should be stripped!)&#8990;
Taiwan is Taiwan.&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;(This-{H|zh:China;zh-tw:Taiwan}- should be stripped!)&#8990;
Taiwan is China.&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">925</th>
<td class="status">fail</td>
<td class="description">Adding explicit conversion rule for title (T flag)<ul>
<li>variant: zh-tw</li>
<li>language: zh</li>
<li>showtitle</li>
</ul>
</td>
<td class="input"><pre>Should be stripped-{T|zh:China;zh-tw:Taiwan}-!</pre></td>
<td class="expect"><pre>Taiwan&#8990;
&lt;p&gt;Should be stripped!&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Should be stripped-{T|zh:China;zh-tw:Taiwan}-!&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">926</th>
<td class="status">fail</td>
<td class="description">Testing that changing the language variant here in the tests actually works<ul>
<li>variant: zh</li>
<li>language: zh</li>
<li>showtitle</li>
</ul>
</td>
<td class="input"><pre>Should be stripped-{T|zh:China;zh-tw:Taiwan}-!</pre></td>
<td class="expect"><pre>China&#8990;
&lt;p&gt;Should be stripped!&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Should be stripped-{T|zh:China;zh-tw:Taiwan}-!&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">927</th>
<td class="status">fail</td>
<td class="description">Recursive conversion of alt and title attrs shouldn't clear converter state<ul>
<li>variant: zh-cn</li>
<li>language: zh</li>
<li>showtitle</li>
</ul>
</td>
<td class="input"><pre>-{H|zh-cn:Exclamation;zh-tw:exclamation;}-&#8990;
Should be stripped-{T|zh-cn:China;zh-tw:Taiwan}-&lt;span title="exclamation"&gt;!&lt;/span&gt;</pre></td>
<td class="expect"><pre>China&#8990;
&lt;p&gt;&#8990;
Should be stripped&lt;span title="Exclamation"&gt;!&lt;/span&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;-{H|zh-cn:Exclamation;zh-tw:exclamation;}-&#8990;
Should be stripped-{T|zh-cn:China;zh-tw:Taiwan}-&lt;span title="exclamation"&gt;!&lt;/span&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">928</th>
<td class="status">fail</td>
<td class="description">Bug 24072: more test on conversion rule for title<ul>
<li>variant: zh-tw</li>
<li>language: zh</li>
<li>showtitle</li>
</ul>
</td>
<td class="input"><pre>This should be stripped-{T|zh:China;zh-tw:Taiwan}-!&#8990;
This won't take interferes with the title rule-{H|zh:Beijing;zh-tw:Taipei}-.</pre></td>
<td class="expect"><pre>Taiwan&#8990;
&lt;p&gt;This should be stripped!&#8990;
This won't take interferes with the title rule.&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;This should be stripped-{T|zh:China;zh-tw:Taiwan}-!&#8990;
This won't take interferes with the title rule-{H|zh:Beijing;zh-tw:Taipei}-.&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">929</th>
<td class="status">fail</td>
<td class="description">Partly disable title conversion if variant == main language code<ul>
<li>variant: zh</li>
<li>language: zh</li>
<li>showtitle</li>
<li>title: ZH</li>
</ul>
</td>
<td class="input"><pre>-{T|zh-cn:CN;zh-tw:TW}-</pre></td>
<td class="expect"><pre>ZH&#8990;
&lt;p&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;-{T|zh-cn:CN;zh-tw:TW}-&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">930</th>
<td class="status">fail</td>
<td class="description">Partly disable title conversion if variant == main language code, more<ul>
<li>variant: zh</li>
<li>language: zh</li>
<li>showtitle</li>
<li>title: ZH</li>
</ul>
</td>
<td class="input"><pre>-{T|TW}-</pre></td>
<td class="expect"><pre>ZH&#8990;
&lt;p&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;-{T|TW}-&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">931</th>
<td class="status">fail</td>
<td class="description">Raw output of variant escape tags (R flag)<ul>
<li>variant: zh-tw</li>
<li>language: zh</li>
</ul>
</td>
<td class="input"><pre>Raw: -{R|zh:China;zh-tw:Taiwan}-</pre></td>
<td class="expect"><pre>&lt;p&gt;Raw: zh:China;zh-tw:Taiwan&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Raw: -{R|zh:China;zh-tw:Taiwan}-&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">932</th>
<td class="status">fail</td>
<td class="description">Nested using of manual convert syntax<ul>
<li>variant: zh-hk</li>
<li>language: zh</li>
</ul>
</td>
<td class="input"><pre>Nested: -{zh-hans:Hi -{zh-cn:China;zh-sg:Singapore;}-;zh-hant:Hello -{zh-tw:Taiwan;zh-hk:H-{ong}- K-{}-ong;}-;}-!</pre></td>
<td class="expect"><pre>&lt;p&gt;Nested: Hello Hong Kong!&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Nested: -{zh-hans:Hi -{zh-cn:China;zh-sg:Singapore;}-;zh-hant:Hello -{zh-tw:Taiwan;zh-hk:H-{ong}- K-{}-ong;}-;}-!&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">933</th>
<td class="status">fail</td>
<td class="description">Proper conversion of text in external links<ul>
<li>variant: sr-ec</li>
<li>language: sr</li>
</ul>
</td>
<td class="input"><pre>http://www.google.com&#8990;
gopher://www.google.com&#8990;
[http://www.google.com http://www.google.com]&#8990;
[gopher://www.google.com gopher://www.google.com]&#8990;
[https://www.google.com irc://www.google.com]&#8990;
[ftp://www.google.com www.google.com/ftp://dir]&#8990;
[//www.google.com www.google.com]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://www.google.com"&gt;http://www.google.com&lt;/a&gt;&#8990;
&lt;a rel="nofollow" class="external free" href="gopher://www.google.com"&gt;gopher://www.google.com&lt;/a&gt;&#8990;
&lt;a rel="nofollow" class="external free" href="http://www.google.com"&gt;http://www.google.com&lt;/a&gt;&#8990;
&lt;a rel="nofollow" class="external free" href="gopher://www.google.com"&gt;gopher://www.google.com&lt;/a&gt;&#8990;
&lt;a rel="nofollow" class="external text" href="https://www.google.com"&gt;irc://www.google.com&lt;/a&gt;&#8990;
&lt;a rel="nofollow" class="external text" href="ftp://www.google.com"&gt;www.&#1075;&#1086;&#1086;&#1075;&#1083;&#1077;.&#1094;&#1086;&#1084;/&#1092;&#1090;&#1087;://&#1076;&#1080;&#1088;&lt;/a&gt;&#8990;
&lt;a rel="nofollow" class="external text" href="//www.google.com"&gt;www.&#1075;&#1086;&#1086;&#1075;&#1083;&#1077;.&#1094;&#1086;&#1084;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://www.google.com"&gt;http://www.google.com&lt;/a&gt;&#8990;
gopher://www.google.com&#8990;
&lt;a rel="nofollow" class="external text" href="http://www.google.com"&gt;&lt;a rel="nofollow" class="external free" href="http://www.google.com"&gt;http://www.google.com&lt;/a&gt;&lt;/a&gt;&#8990;
[gopher://www.google.com gopher://www.google.com]&#8990;
&lt;a rel="nofollow" class="external text" href="https://www.google.com"&gt;&lt;a rel="nofollow" class="external free" href="irc://www.google.com"&gt;irc://www.google.com&lt;/a&gt;&lt;/a&gt;&#8990;
&lt;a rel="nofollow" class="external text" href="ftp://www.google.com"&gt;www.google.com/&lt;a rel="nofollow" class="external free" href="ftp://dir"&gt;ftp://dir&lt;/a&gt;&lt;/a&gt;&#8990;
&lt;a rel="nofollow" class="external text" href="//www.google.com"&gt;www.google.com&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">934</th>
<td class="status">fail</td>
<td class="description">Do not convert roman numbers to language variants<ul>
<li>variant: sr-ec</li>
<li>language: sr</li>
</ul>
</td>
<td class="input"><pre>Fridrih IV je car.</pre></td>
<td class="expect"><pre>&lt;p&gt;&#1060;&#1088;&#1080;&#1076;&#1088;&#1080;&#1093; IV &#1112;&#1077; &#1094;&#1072;&#1088;.&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Fridrih IV je car.&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">935</th>
<td class="status">pass</td>
<td class="description">Unclosed language converter markup "-{"<ul><li>language: sr</li></ul>
</td>
<td class="input"><pre>-{T|hello</pre></td>
<td class="expect"><pre>&lt;p&gt;-{T|hello&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;-{T|hello&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">936</th>
<td class="status">fail</td>
<td class="description">Don't convert raw rule "-{R|=&amp;gt;}-" to "=&gt;"<ul><li>language: sr</li></ul>
</td>
<td class="input"><pre>-{R|=&amp;gt;}-</pre></td>
<td class="expect"><pre>&lt;p&gt;=&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;-{R|=&amp;gt;}-&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">937</th>
<td class="status">pass</td>
<td class="description">Bug 529: Uncovered bullet</td>
<td class="input"><pre>* Foo {{bullet}}</pre></td>
<td class="expect"><pre>&lt;ul&gt;&lt;li&gt; Foo &#8990;
&lt;/li&gt;&lt;li&gt; Bar&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt; Foo &#8990;
&lt;/li&gt;&lt;li&gt; Bar&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
</tr>
<tr class="pass">
<th class="index">938</th>
<td class="status">pass</td>
<td class="description">Bug 529: Uncovered bullet leaving empty list, normally removed by tidy</td>
<td class="input"><pre>******* Foo {{bullet}}</pre></td>
<td class="expect"><pre>&lt;ul&gt;&lt;li&gt;&lt;ul&gt;&lt;li&gt;&lt;ul&gt;&lt;li&gt;&lt;ul&gt;&lt;li&gt;&lt;ul&gt;&lt;li&gt;&lt;ul&gt;&lt;li&gt;&lt;ul&gt;&lt;li&gt; Foo &#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;li&gt; Bar&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt;&lt;ul&gt;&lt;li&gt;&lt;ul&gt;&lt;li&gt;&lt;ul&gt;&lt;li&gt;&lt;ul&gt;&lt;li&gt;&lt;ul&gt;&lt;li&gt;&lt;ul&gt;&lt;li&gt; Foo &#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;/li&gt;&lt;li&gt; Bar&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
</tr>
<tr class="tidy">
<th class="index">939</th>
<td class="status">tidy</td>
<td class="description">Bug 529: Uncovered table already at line-start</td>
<td class="input"><pre>x&#8990;
&#8990;
{{table}}&#8990;
y</pre></td>
<td class="expect"><pre>&lt;p&gt;x&#8990;
&lt;/p&gt;&#8990;
&lt;table&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt; 1 &lt;/td&gt;&#8990;
&lt;td&gt; 2&#8990;
&lt;/td&gt;&lt;/tr&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt; 3 &lt;/td&gt;&#8990;
&lt;td&gt; 4&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
&lt;p&gt;y&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;x&#8990;
&lt;/p&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;2&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;3&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;p&gt;y&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">940</th>
<td class="status">fail</td>
<td class="description">Bug 529: Uncovered bullet in parser function result</td>
<td class="input"><pre>* Foo {{lc:{{bullet}} }}</pre></td>
<td class="expect"><pre>&lt;ul&gt;&lt;li&gt; Foo &#8990;
&lt;/li&gt;&lt;li&gt; bar&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt; Foo * bar&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
</tr>
<tr class="pass">
<th class="index">941</th>
<td class="status">pass</td>
<td class="description">Bug 5678: Double-parsed template argument</td>
<td class="input"><pre>{{lc:{{{1}}}|hello}}</pre></td>
<td class="expect"><pre>&lt;p&gt;{{{1}}}&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;{{{1}}}&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">942</th>
<td class="status">fail</td>
<td class="description">Bug 5678: Double-parsed template invocation</td>
<td class="input"><pre>{{lc:{{paramtest {{!}} param = hello }} }}</pre></td>
<td class="expect"><pre>&lt;p&gt;{{paramtest | param = hello }}&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/template:paramtest" title="template:paramtest"&gt;param = hello&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">943</th>
<td class="status">fail</td>
<td class="description">Case insensitivity of parser functions for non-ASCII characters (bug 8143)<ul>
<li>language: cs</li>
<li>title: Main Page</li>
</ul>
</td>
<td class="input"><pre>{{PRVN&#205;VELK&#201;:&#283;&#353;&#269;&#345;}}&#8990;
{{prvn&#237;velk&#233;:&#283;&#353;&#269;&#345;}}&#8990;
{{PRVN&#205;MAL&#201;:&#283;&#353;&#269;&#345;}}&#8990;
{{prvn&#237;mal&#233;:&#283;&#353;&#269;&#345;}}&#8990;
{{MAL&#193;:&#283;&#353;&#269;&#345;}}&#8990;
{{mal&#225;:&#283;&#353;&#269;&#345;}}&#8990;
{{VELK&#193;:&#283;&#353;&#269;&#345;}}&#8990;
{{velk&#225;:&#283;&#353;&#269;&#345;}}</pre></td>
<td class="expect"><pre>&lt;p&gt;&#282;&#353;&#269;&#345;&#8990;
&#282;&#353;&#269;&#345;&#8990;
&#283;&#353;&#269;&#345;&#8990;
&#283;&#353;&#269;&#345;&#8990;
&#283;&#353;&#269;&#345;&#8990;
&#283;&#353;&#269;&#345;&#8990;
&#282;&#352;&#268;&#344;&#8990;
&#282;&#352;&#268;&#344;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:PRVN&amp;#205;VELK&amp;#201;:&amp;#283;&amp;#353;&amp;#269;&amp;#345;" title="Template:PRVN&amp;#205;VELK&amp;#201;:&amp;#283;&amp;#353;&amp;#269;&amp;#345;"&gt;Template:PRVN&amp;#205;VELK&amp;#201;:&amp;#283;&amp;#353;&amp;#269;&amp;#345;&lt;/a&gt;&#8990;
&lt;a href="/wiki/Template:Prvn&amp;#237;velk&amp;#233;:&amp;#283;&amp;#353;&amp;#269;&amp;#345;" title="Template:Prvn&amp;#237;velk&amp;#233;:&amp;#283;&amp;#353;&amp;#269;&amp;#345;"&gt;Template:Prvn&amp;#237;velk&amp;#233;:&amp;#283;&amp;#353;&amp;#269;&amp;#345;&lt;/a&gt;&#8990;
&lt;a href="/wiki/Template:PRVN&amp;#205;MAL&amp;#201;:&amp;#283;&amp;#353;&amp;#269;&amp;#345;" title="Template:PRVN&amp;#205;MAL&amp;#201;:&amp;#283;&amp;#353;&amp;#269;&amp;#345;"&gt;Template:PRVN&amp;#205;MAL&amp;#201;:&amp;#283;&amp;#353;&amp;#269;&amp;#345;&lt;/a&gt;&#8990;
&lt;a href="/wiki/Template:Prvn&amp;#237;mal&amp;#233;:&amp;#283;&amp;#353;&amp;#269;&amp;#345;" title="Template:Prvn&amp;#237;mal&amp;#233;:&amp;#283;&amp;#353;&amp;#269;&amp;#345;"&gt;Template:Prvn&amp;#237;mal&amp;#233;:&amp;#283;&amp;#353;&amp;#269;&amp;#345;&lt;/a&gt;&#8990;
&lt;a href="/wiki/Template:MAL&amp;#193;:&amp;#283;&amp;#353;&amp;#269;&amp;#345;" title="Template:MAL&amp;#193;:&amp;#283;&amp;#353;&amp;#269;&amp;#345;"&gt;Template:MAL&amp;#193;:&amp;#283;&amp;#353;&amp;#269;&amp;#345;&lt;/a&gt;&#8990;
&lt;a href="/wiki/Template:Mal&amp;#225;:&amp;#283;&amp;#353;&amp;#269;&amp;#345;" title="Template:Mal&amp;#225;:&amp;#283;&amp;#353;&amp;#269;&amp;#345;"&gt;Template:Mal&amp;#225;:&amp;#283;&amp;#353;&amp;#269;&amp;#345;&lt;/a&gt;&#8990;
&lt;a href="/wiki/Template:VELK&amp;#193;:&amp;#283;&amp;#353;&amp;#269;&amp;#345;" title="Template:VELK&amp;#193;:&amp;#283;&amp;#353;&amp;#269;&amp;#345;"&gt;Template:VELK&amp;#193;:&amp;#283;&amp;#353;&amp;#269;&amp;#345;&lt;/a&gt;&#8990;
&lt;a href="/wiki/Template:Velk&amp;#225;:&amp;#283;&amp;#353;&amp;#269;&amp;#345;" title="Template:Velk&amp;#225;:&amp;#283;&amp;#353;&amp;#269;&amp;#345;"&gt;Template:Velk&amp;#225;:&amp;#283;&amp;#353;&amp;#269;&amp;#345;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">944</th>
<td class="status">tidy</td>
<td class="description">Morwen/13: Unclosed link followed by heading</td>
<td class="input"><pre>[[link&#8990;
==heading==</pre></td>
<td class="expect"><pre>&lt;p&gt;[[link&#8990;
&lt;/p&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="heading"&gt;heading&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=1" title="Edit section: heading"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;[[link&#8990;
&lt;/p&gt;&lt;h2&gt;&lt;span class="mw-headline" id="heading"&gt;heading&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: heading"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">945</th>
<td class="status">fail</td>
<td class="description">HHP2.1: Heuristics for headings in preprocessor parenthetical structures</td>
<td class="input"><pre>{{foo|&#8990;
=heading=</pre></td>
<td class="expect"><pre>&lt;p&gt;{{foo|&#8990;
&lt;/p&gt;&#8990;
&lt;h1&gt;&lt;span class="mw-headline" id="heading"&gt;heading&lt;/span&gt;&lt;/h1&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;{{foo|&#8990;
&lt;/p&gt;&lt;h1&gt;&lt;span class="mw-headline" id="heading"&gt;heading&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: heading"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt;&#8990;
</pre></td>
</tr>
<tr class="tidy">
<th class="index">946</th>
<td class="status">tidy</td>
<td class="description">HHP2.2: Heuristics for headings in preprocessor parenthetical structures</td>
<td class="input"><pre>{{foo|&#8990;
==heading==</pre></td>
<td class="expect"><pre>&lt;p&gt;{{foo|&#8990;
&lt;/p&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="heading"&gt;heading&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=1" title="Edit section: heading"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;{{foo|&#8990;
&lt;/p&gt;&lt;h2&gt;&lt;span class="mw-headline" id="heading"&gt;heading&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: heading"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
</tr>
<tr class="skip">
<th class="index">947</th>
<td class="status">skip</td>
<td class="description">Tildes in comments<ul><li>pst</li></ul>
</td>
<td class="input"><pre>&lt;!-- ~~~~ --&gt;</pre></td>
<td class="expect"><pre>&lt;!-- ~~~~ --&gt;</pre></td>
<td class="output"> </td>
</tr>
<tr class="fail">
<th class="index">948</th>
<td class="status">fail</td>
<td class="description">Paragraphs inside divs (no extra line breaks)</td>
<td class="input"><pre>&lt;div&gt;Line one&#8990;
&#8990;
Line two&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div&gt;Line one&#8990;
Line two&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div&gt;&lt;p&gt;Line one&#8990;
&lt;/p&gt;&lt;p&gt;Line two&#8990;
&lt;/p&gt;&lt;/div&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">949</th>
<td class="status">fail</td>
<td class="description">Paragraphs inside divs (extra line break on open)</td>
<td class="input"><pre>&lt;div&gt;&#8990;
Line one&#8990;
&#8990;
Line two&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div&gt;&#8990;
&lt;p&gt;Line one&#8990;
&lt;/p&gt;&#8990;
Line two&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div&gt;&lt;p&gt;Line one&#8990;
&lt;/p&gt;&lt;p&gt;Line two&#8990;
&lt;/p&gt;&lt;/div&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">950</th>
<td class="status">fail</td>
<td class="description">Paragraphs inside divs (extra line break on close)</td>
<td class="input"><pre>&lt;div&gt;Line one&#8990;
&#8990;
Line two&#8990;
&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div&gt;Line one&#8990;
&lt;p&gt;Line two&#8990;
&lt;/p&gt;&#8990;
&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div&gt;&lt;p&gt;Line one&#8990;
&lt;/p&gt;&lt;p&gt;Line two&#8990;
&lt;/p&gt;&lt;/div&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">951</th>
<td class="status">tidy</td>
<td class="description">Paragraphs inside divs (extra line break on open and close)</td>
<td class="input"><pre>&lt;div&gt;&#8990;
Line one&#8990;
&#8990;
Line two&#8990;
&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div&gt;&#8990;
&lt;p&gt;Line one&#8990;
&lt;/p&gt;&lt;p&gt;Line two&#8990;
&lt;/p&gt;&#8990;
&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div&gt;&lt;p&gt;Line one&#8990;
&lt;/p&gt;&lt;p&gt;Line two&#8990;
&lt;/p&gt;&lt;/div&gt;</pre></td>
</tr>
<tr class="skip">
<th class="index">952</th>
<td class="status">skip</td>
<td class="description">Nesting tags, paragraphs on lines which begin with &lt;div&gt;<ul><li>disabled</li></ul>
</td>
<td class="input"><pre>&lt;div&gt;&lt;/div&gt;&lt;strong&gt;A&#8990;
B&lt;/strong&gt;</pre></td>
<td class="expect"><pre>&lt;div&gt;&lt;/div&gt;&#8990;
&lt;p&gt;&lt;strong&gt;A&#8990;
B&lt;/strong&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">953</th>
<td class="status">skip</td>
<td class="description">Bug 6200: paragraphs inside blockquotes (no extra line breaks)<ul><li>disabled</li></ul>
</td>
<td class="input"><pre>&lt;blockquote&gt;Line one&#8990;
&#8990;
Line two&lt;/blockquote&gt;</pre></td>
<td class="expect"><pre>&lt;blockquote&gt;Line one&#8990;
Line two&lt;/blockquote&gt;&#8990;
</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">954</th>
<td class="status">skip</td>
<td class="description">Bug 6200: paragraphs inside blockquotes (extra line break on open)<ul><li>disabled</li></ul>
</td>
<td class="input"><pre>&lt;blockquote&gt;&#8990;
Line one&#8990;
&#8990;
Line two&lt;/blockquote&gt;</pre></td>
<td class="expect"><pre>&lt;blockquote&gt;&#8990;
&lt;p&gt;Line one&#8990;
&lt;/p&gt;&#8990;
Line two&lt;/blockquote&gt;&#8990;
</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">955</th>
<td class="status">skip</td>
<td class="description">Bug 6200: paragraphs inside blockquotes (extra line break on close)<ul><li>disabled</li></ul>
</td>
<td class="input"><pre>&lt;blockquote&gt;Line one&#8990;
&#8990;
Line two&#8990;
&lt;/blockquote&gt;</pre></td>
<td class="expect"><pre>&lt;blockquote&gt;Line one&#8990;
&lt;p&gt;Line two&#8990;
&lt;/p&gt;&#8990;
&lt;/blockquote&gt;&#8990;
</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">956</th>
<td class="status">skip</td>
<td class="description">Bug 6200: paragraphs inside blockquotes (extra line break on open and close)<ul><li>disabled</li></ul>
</td>
<td class="input"><pre>&lt;blockquote&gt;&#8990;
Line one&#8990;
&#8990;
Line two&#8990;
&lt;/blockquote&gt;</pre></td>
<td class="expect"><pre>&lt;blockquote&gt;&#8990;
&lt;p&gt;Line one&#8990;
&lt;/p&gt;&lt;p&gt;Line two&#8990;
&lt;/p&gt;&#8990;
&lt;/blockquote&gt;&#8990;
</pre></td>
<td class="output"> </td>
</tr>
<tr class="fail">
<th class="index">957</th>
<td class="status">fail</td>
<td class="description">Paragraphs inside blockquotes/divs (no extra line breaks)</td>
<td class="input"><pre>&lt;blockquote&gt;&lt;div&gt;Line one&#8990;
&#8990;
Line two&lt;/div&gt;&lt;/blockquote&gt;</pre></td>
<td class="expect"><pre>&lt;blockquote&gt;&lt;div&gt;Line one&#8990;
Line two&lt;/div&gt;&lt;/blockquote&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;blockquote&gt;&lt;div&gt;&lt;p&gt;Line one&#8990;
&lt;/p&gt;&lt;p&gt;Line two&#8990;
&lt;/p&gt;&lt;/div&gt;&lt;/blockquote&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">958</th>
<td class="status">fail</td>
<td class="description">Paragraphs inside blockquotes/divs (extra line break on open)</td>
<td class="input"><pre>&lt;blockquote&gt;&lt;div&gt;&#8990;
Line one&#8990;
&#8990;
Line two&lt;/div&gt;&lt;/blockquote&gt;</pre></td>
<td class="expect"><pre>&lt;blockquote&gt;&lt;div&gt;&#8990;
&lt;p&gt;Line one&#8990;
&lt;/p&gt;&#8990;
Line two&lt;/div&gt;&lt;/blockquote&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;blockquote&gt;&lt;div&gt;&lt;p&gt;Line one&#8990;
&lt;/p&gt;&lt;p&gt;Line two&#8990;
&lt;/p&gt;&lt;/div&gt;&lt;/blockquote&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">959</th>
<td class="status">fail</td>
<td class="description">Paragraphs inside blockquotes/divs (extra line break on close)</td>
<td class="input"><pre>&lt;blockquote&gt;&lt;div&gt;Line one&#8990;
&#8990;
Line two&#8990;
&lt;/div&gt;&lt;/blockquote&gt;</pre></td>
<td class="expect"><pre>&lt;blockquote&gt;&lt;div&gt;Line one&#8990;
&lt;p&gt;Line two&#8990;
&lt;/p&gt;&#8990;
&lt;/div&gt;&lt;/blockquote&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;blockquote&gt;&lt;div&gt;&lt;p&gt;Line one&#8990;
&lt;/p&gt;&lt;p&gt;Line two&#8990;
&lt;/p&gt;&lt;/div&gt;&lt;/blockquote&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">960</th>
<td class="status">tidy</td>
<td class="description">Paragraphs inside blockquotes/divs (extra line break on open and close)</td>
<td class="input"><pre>&lt;blockquote&gt;&lt;div&gt;&#8990;
Line one&#8990;
&#8990;
Line two&#8990;
&lt;/div&gt;&lt;/blockquote&gt;</pre></td>
<td class="expect"><pre>&lt;blockquote&gt;&lt;div&gt;&#8990;
&lt;p&gt;Line one&#8990;
&lt;/p&gt;&lt;p&gt;Line two&#8990;
&lt;/p&gt;&#8990;
&lt;/div&gt;&lt;/blockquote&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;blockquote&gt;&lt;div&gt;&lt;p&gt;Line one&#8990;
&lt;/p&gt;&lt;p&gt;Line two&#8990;
&lt;/p&gt;&lt;/div&gt;&lt;/blockquote&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">961</th>
<td class="status">fail</td>
<td class="description">Interwiki links trounced by replaceExternalLinks after early LinkHolderArray expansion<ul><li>wglinkholderbatchsize: 0</li></ul>
</td>
<td class="input"><pre>[[meatball:1]]&#8990;
[[meatball:2]]&#8990;
[[meatball:3]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="http://www.usemod.com/cgi-bin/mb.pl?1" class="extiw" title="meatball:1"&gt;meatball:1&lt;/a&gt;&#8990;
&lt;a href="http://www.usemod.com/cgi-bin/mb.pl?2" class="extiw" title="meatball:2"&gt;meatball:2&lt;/a&gt;&#8990;
&lt;a href="http://www.usemod.com/cgi-bin/mb.pl?3" class="extiw" title="meatball:3"&gt;meatball:3&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/meatball:1" title="meatball:1"&gt;meatball:1&lt;/a&gt;&#8990;
&lt;a href="/wiki/meatball:2" title="meatball:2"&gt;meatball:2&lt;/a&gt;&#8990;
&lt;a href="/wiki/meatball:3" title="meatball:3"&gt;meatball:3&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">962</th>
<td class="status">fail</td>
<td class="description">Free external link invading image caption</td>
<td class="input"><pre>[[Image:Foobar.jpg|thumb|http://x|hello]]</pre></td>
<td class="expect"><pre>&lt;div class="thumb tright"&gt;&lt;div class="thumbinner" style="width:182px;"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image"&gt;&lt;img alt="" src="http://example.com/images/thumb/3/3a/Foobar.jpg/180px-Foobar.jpg" width="180" height="20" class="thumbimage" srcset="http://example.com/images/thumb/3/3a/Foobar.jpg/270px-Foobar.jpg 1.5x, http://example.com/images/thumb/3/3a/Foobar.jpg/360px-Foobar.jpg 2x" /&gt;&lt;/a&gt;  &lt;div class="thumbcaption"&gt;&lt;div class="magnify"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="internal" title="Enlarge"&gt;&lt;img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /&gt;&lt;/a&gt;&lt;/div&gt;hello&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:Foobar.jpg" title="Image:Foobar.jpg"&gt;thumb|&lt;a rel="nofollow" class="external free" href="http://x|hello"&gt;http://x|hello&lt;/a&gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">963</th>
<td class="status">fail</td>
<td class="description">Bug 15196: localised external link numbers<ul><li>language: fa</li></ul>
</td>
<td class="input"><pre>[http://en.wikipedia.org/]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external autonumber" href="http://en.wikipedia.org/"&gt;[&#1777;]&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="http://en.wikipedia.org/"&gt;http://en.wikipedia.org/&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">964</th>
<td class="status">fail</td>
<td class="description">Multibyte character in padleft</td>
<td class="input"><pre>{{padleft:-Hello|7|&#198;}}</pre></td>
<td class="expect"><pre>&lt;p&gt;&#198;-Hello&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:Padleft:-Hello" title="Template:Padleft:-Hello"&gt;Template:Padleft:-Hello&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">965</th>
<td class="status">fail</td>
<td class="description">Multibyte character in padright</td>
<td class="input"><pre>{{padright:Hello-|7|&#198;}}</pre></td>
<td class="expect"><pre>&lt;p&gt;Hello-&#198;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:Padright:Hello-" title="Template:Padright:Hello-"&gt;Template:Padright:Hello-&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">966</th>
<td class="status">fail</td>
<td class="description">formatdate parser function</td>
<td class="input"><pre>{{#formatdate:2009-03-24}}</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;span class="mw-formatted-date" title="2009-03-24"&gt;2009-03-24&lt;/span&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:#formatdate:2009-03-24" title="Template:#formatdate:2009-03-24"&gt;Template:#formatdate:2009-03-24&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">967</th>
<td class="status">fail</td>
<td class="description">formatdate parser function, with default format</td>
<td class="input"><pre>{{#formatdate:2009-03-24|mdy}}</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;span class="mw-formatted-date" title="2009-03-24"&gt;March 24, 2009&lt;/span&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:#formatdate:2009-03-24" title="Template:#formatdate:2009-03-24"&gt;Template:#formatdate:2009-03-24&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">968</th>
<td class="status">fail</td>
<td class="description">Spacing of numbers in formatted dates</td>
<td class="input"><pre>{{#formatdate:January 15}}</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;span class="mw-formatted-date" title="01-15"&gt;January 15&lt;/span&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:#formatdate:January_15" title="Template:#formatdate:January 15"&gt;Template:#formatdate:January 15&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">969</th>
<td class="status">fail</td>
<td class="description">formatdate parser function, with default format and on a page of which the content language is always English and different from the wiki content language<ul>
<li>language: nl</li>
<li>title: MediaWiki:Common.css</li>
</ul>
</td>
<td class="input"><pre>{{#formatdate:2009-03-24|dmy}}</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;span class="mw-formatted-date" title="2009-03-24"&gt;24 March 2009&lt;/span&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:#formatdate:2009-03-24" title="Template:#formatdate:2009-03-24"&gt;Template:#formatdate:2009-03-24&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">970</th>
<td class="status">fail</td>
<td class="description">Edit comment with link<ul><li>comment</li></ul>
</td>
<td class="input"><pre>I like the [[Main Page]] a lot</pre></td>
<td class="expect"><pre>I like the &lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt; a lot</pre></td>
<td class="output"><pre>&lt;p&gt;I like the &lt;a href="/wiki/Main_Page" title="Main Page"&gt;Main Page&lt;/a&gt; a lot&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">971</th>
<td class="status">fail</td>
<td class="description">Edit comment with link and link text<ul><li>comment</li></ul>
</td>
<td class="input"><pre>I like the [[Main Page|best pages]] a lot</pre></td>
<td class="expect"><pre>I like the &lt;a href="/wiki/Main_Page" title="Main Page"&gt;best pages&lt;/a&gt; a lot</pre></td>
<td class="output"><pre>&lt;p&gt;I like the &lt;a href="/wiki/Main_Page" title="Main Page"&gt;best pages&lt;/a&gt; a lot&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">972</th>
<td class="status">fail</td>
<td class="description">Edit comment with link and link text with suffix<ul><li>comment</li></ul>
</td>
<td class="input"><pre>I like the [[Main Page|best page]]s a lot</pre></td>
<td class="expect"><pre>I like the &lt;a href="/wiki/Main_Page" title="Main Page"&gt;best pages&lt;/a&gt; a lot</pre></td>
<td class="output"><pre>&lt;p&gt;I like the &lt;a href="/wiki/Main_Page" title="Main Page"&gt;best pages&lt;/a&gt; a lot&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">973</th>
<td class="status">fail</td>
<td class="description">Edit comment with section link (non-local, eg in history list)<ul>
<li>comment</li>
<li>title: Main Page</li>
</ul>
</td>
<td class="input"><pre>/* External links */ removed bogus entries</pre></td>
<td class="expect"><pre>&lt;a href="/wiki/Main_Page#External_links" title="Main Page"&gt;&#8594;&lt;/a&gt;&#8206;&lt;span dir="auto"&gt;&lt;span class="autocomment"&gt;External links: &lt;/span&gt; removed bogus entries&lt;/span&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;/* External links */ removed bogus entries&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">974</th>
<td class="status">fail</td>
<td class="description">Edit comment with section link and text before it (non-local, eg in history list)<ul>
<li>comment</li>
<li>title: Main Page</li>
</ul>
</td>
<td class="input"><pre>pre-comment text /* External links */ removed bogus entries</pre></td>
<td class="expect"><pre>pre-comment text &lt;a href="/wiki/Main_Page#External_links" title="Main Page"&gt;&#8594;&lt;/a&gt;&#8206;&lt;span dir="auto"&gt;&lt;span class="autocomment"&gt;External links: &lt;/span&gt; removed bogus entries&lt;/span&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;pre-comment text /* External links */ removed bogus entries&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">975</th>
<td class="status">fail</td>
<td class="description">Edit comment with section link (local, eg in diff view)<ul>
<li>comment</li>
<li>local</li>
<li>title: Main Page</li>
</ul>
</td>
<td class="input"><pre>/* External links */ removed bogus entries</pre></td>
<td class="expect"><pre>&lt;a href="#External_links"&gt;&#8594;&lt;/a&gt;&#8206;&lt;span dir="auto"&gt;&lt;span class="autocomment"&gt;External links: &lt;/span&gt; removed bogus entries&lt;/span&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;/* External links */ removed bogus entries&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="skip">
<th class="index">976</th>
<td class="status">skip</td>
<td class="description">Edit comment with subpage link (bug 14080)<ul>
<li>comment</li>
<li>subpage</li>
<li>title: Subpage test</li>
</ul>
</td>
<td class="input"><pre>Poked at a [[/subpage]] here...</pre></td>
<td class="expect"><pre>Poked at a &lt;a href="/wiki/Subpage_test/subpage" title="Subpage test/subpage"&gt;/subpage&lt;/a&gt; here...</pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">977</th>
<td class="status">skip</td>
<td class="description">Edit comment with subpage link and link text (bug 14080)<ul>
<li>comment</li>
<li>subpage</li>
<li>title: Subpage test</li>
</ul>
</td>
<td class="input"><pre>Poked at a [[/subpage|neat little page]] here...</pre></td>
<td class="expect"><pre>Poked at a &lt;a href="/wiki/Subpage_test/subpage" title="Subpage test/subpage"&gt;neat little page&lt;/a&gt; here...</pre></td>
<td class="output"> </td>
</tr>
<tr class="fail">
<th class="index">978</th>
<td class="status">fail</td>
<td class="description">Edit comment with bogus subpage link in non-subpage NS (bug 14080)<ul>
<li>comment</li>
<li>title: Subpage test</li>
</ul>
</td>
<td class="input"><pre>Poked at a [[/subpage]] here...</pre></td>
<td class="expect"><pre>Poked at a &lt;a href="/index.php?title=/subpage&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="/subpage (page does not exist)"&gt;/subpage&lt;/a&gt; here...</pre></td>
<td class="output"><pre>&lt;p&gt;Poked at a &lt;a href="/wiki//subpage" title="/subpage"&gt;/subpage&lt;/a&gt; here...&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">979</th>
<td class="status">fail</td>
<td class="description">Edit comment with bare anchor link (local, as on diff)<ul>
<li>comment</li>
<li>local</li>
<li>title: Main Page</li>
</ul>
</td>
<td class="input"><pre>[[#section]]</pre></td>
<td class="expect"><pre>&lt;a href="#section"&gt;#section&lt;/a&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/#section" title="#section"&gt;#section&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">980</th>
<td class="status">fail</td>
<td class="description">Edit comment with bare anchor link (non-local, as on history)<ul>
<li>comment</li>
<li>title: Main Page</li>
</ul>
</td>
<td class="input"><pre>[[#section]]</pre></td>
<td class="expect"><pre>&lt;a href="/wiki/Main_Page#section" title="Main Page"&gt;#section&lt;/a&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/#section" title="#section"&gt;#section&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">981</th>
<td class="status">fail</td>
<td class="description">Anchor starting with underscore</td>
<td class="input"><pre>[[#_ref|One]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="#_ref"&gt;One&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/#_ref" title="#_ref"&gt;One&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">982</th>
<td class="status">fail</td>
<td class="description">Id starting with underscore</td>
<td class="input"><pre>&lt;div id="_ref"&gt;&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div id="_ref"&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;div id="_ref"/&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">983</th>
<td class="status">fail</td>
<td class="description">Space normalisation on autocomment (bug 22784)<ul>
<li>comment</li>
<li>title: Main Page</li>
</ul>
</td>
<td class="input"><pre>/* __hello__world__ */</pre></td>
<td class="expect"><pre>&lt;a href="/wiki/Main_Page#hello_world" title="Main Page"&gt;&#8594;&lt;/a&gt;&#8206;&lt;span dir="auto"&gt;&lt;span class="autocomment"&gt;__hello__world__&lt;/span&gt;&lt;/span&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;/* __hello__world__ */&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">984</th>
<td class="status">fail</td>
<td class="description">percent-encoding and + signs in comments (Bug 26410)<ul><li>comment</li></ul>
</td>
<td class="input"><pre>[[ABC%33D% ++]] [[ABC%33D% ++|+%20]]</pre></td>
<td class="expect"><pre>&lt;a href="/index.php?title=ABC3D%25_%2B%2B&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="ABC3D% ++ (page does not exist)"&gt;ABC3D% ++&lt;/a&gt; &lt;a href="/index.php?title=ABC3D%25_%2B%2B&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="ABC3D% ++ (page does not exist)"&gt;+%20&lt;/a&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/ABC%33D%_++" title="ABC%33D% ++"&gt;ABC%33D% ++&lt;/a&gt; &lt;a href="/wiki/ABC%33D%_++" title="ABC%33D% ++"&gt;+%20&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="skip">
<th class="index">985</th>
<td class="status">skip</td>
<td class="description">Bad images - basic functionality<ul><li>disabled</li></ul>
</td>
<td class="input"><pre>[[File:Bad.jpg]]</pre></td>
<td class="expect"><pre></pre></td>
<td class="output"> </td>
</tr>
<tr class="skip">
<th class="index">986</th>
<td class="status">skip</td>
<td class="description">Bad images - bug 16039: text after bad image disappears<ul><li>disabled</li></ul>
</td>
<td class="input"><pre>Foo bar&#8990;
[[File:Bad.jpg]]&#8990;
Bar foo</pre></td>
<td class="expect"><pre>&lt;p&gt;Foo bar&#8990;
&lt;/p&gt;&lt;p&gt;Bar foo&#8990;
&lt;/p&gt;</pre></td>
<td class="output"> </td>
</tr>
<tr class="fail">
<th class="index">987</th>
<td class="status">fail</td>
<td class="description">Verify that displaytitle works (bug #22501) no displaytitle<ul><li>showtitle</li></ul>
</td>
<td class="input"><pre>this is not the the title</pre></td>
<td class="expect"><pre>Parser test&#8990;
&lt;p&gt;this is not the the title&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;this is not the the title&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">988</th>
<td class="status">fail</td>
<td class="description">Verify that displaytitle works (bug #22501) RestrictDisplayTitle=false<ul>
<li>showtitle</li>
<li>title: Screen</li>
</ul>
</td>
<td class="input"><pre>this is not the the title&#8990;
{{DISPLAYTITLE:whatever}}</pre></td>
<td class="expect"><pre>whatever&#8990;
&lt;p&gt;this is not the the title&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;this is not the the title&#8990;
&lt;a href="/wiki/Template:DISPLAYTITLE:whatever" title="Template:DISPLAYTITLE:whatever"&gt;Template:DISPLAYTITLE:whatever&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">989</th>
<td class="status">fail</td>
<td class="description">Verify that displaytitle works (bug #22501) RestrictDisplayTitle=true mismatch<ul>
<li>showtitle</li>
<li>title: Screen</li>
</ul>
</td>
<td class="input"><pre>this is not the the title&#8990;
{{DISPLAYTITLE:whatever}}</pre></td>
<td class="expect"><pre>Screen&#8990;
&lt;p&gt;this is not the the title&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;this is not the the title&#8990;
&lt;a href="/wiki/Template:DISPLAYTITLE:whatever" title="Template:DISPLAYTITLE:whatever"&gt;Template:DISPLAYTITLE:whatever&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">990</th>
<td class="status">fail</td>
<td class="description">Verify that displaytitle works (bug #22501) RestrictDisplayTitle=true matching<ul>
<li>showtitle</li>
<li>title: Screen</li>
</ul>
</td>
<td class="input"><pre>this is not the the title&#8990;
{{DISPLAYTITLE:screen}}</pre></td>
<td class="expect"><pre>screen&#8990;
&lt;p&gt;this is not the the title&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;this is not the the title&#8990;
&lt;a href="/wiki/Template:DISPLAYTITLE:screen" title="Template:DISPLAYTITLE:screen"&gt;Template:DISPLAYTITLE:screen&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">991</th>
<td class="status">fail</td>
<td class="description">Verify that displaytitle works (bug #22501) AllowDisplayTitle=false<ul>
<li>showtitle</li>
<li>title: Screen</li>
</ul>
</td>
<td class="input"><pre>this is not the the title&#8990;
{{DISPLAYTITLE:screen}}</pre></td>
<td class="expect"><pre>Screen&#8990;
&lt;p&gt;this is not the the title&#8990;
&lt;a href="/index.php?title=Template:DISPLAYTITLE:screen&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Template:DISPLAYTITLE:screen (page does not exist)"&gt;Template:DISPLAYTITLE:screen&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;this is not the the title&#8990;
&lt;a href="/wiki/Template:DISPLAYTITLE:screen" title="Template:DISPLAYTITLE:screen"&gt;Template:DISPLAYTITLE:screen&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">992</th>
<td class="status">fail</td>
<td class="description">Verify that displaytitle works (bug #22501) AllowDisplayTitle=false no DISPLAYTITLE<ul>
<li>showtitle</li>
<li>title: Screen</li>
</ul>
</td>
<td class="input"><pre>this is not the the title</pre></td>
<td class="expect"><pre>Screen&#8990;
&lt;p&gt;this is not the the title&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;this is not the the title&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">993</th>
<td class="status">fail</td>
<td class="description">Verify that displaytitle handles inline CSS styles (bug 26547) - rejected value<ul>
<li>showtitle</li>
<li>title: Screen</li>
</ul>
</td>
<td class="input"><pre>this is not the the title&#8990;
{{DISPLAYTITLE:&lt;span style="display: none;"&gt;s&lt;/span&gt;creen}}</pre></td>
<td class="expect"><pre>&lt;span style="/* attempt to bypass $wgRestrictDisplayTitle */"&gt;s&lt;/span&gt;creen&#8990;
&lt;p&gt;this is not the the title&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;this is not the the title&#8990;
&lt;a href="/wiki/BROKEN" title="BROKEN"&gt;BROKEN&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">994</th>
<td class="status">fail</td>
<td class="description">Verify that displaytitle handles inline CSS styles (bug 26547) - accepted value<ul>
<li>showtitle</li>
<li>title: Screen</li>
</ul>
</td>
<td class="input"><pre>this is not the the title&#8990;
{{DISPLAYTITLE:&lt;span style="color: red;"&gt;s&lt;/span&gt;creen}}</pre></td>
<td class="expect"><pre>&lt;span style="color: red;"&gt;s&lt;/span&gt;creen&#8990;
&lt;p&gt;this is not the the title&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;this is not the the title&#8990;
&lt;a href="/wiki/BROKEN" title="BROKEN"&gt;BROKEN&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">995</th>
<td class="status">fail</td>
<td class="description">preload: check &lt;noinclude&gt; and &lt;includeonly&gt;<ul><li>preload</li></ul>
</td>
<td class="input"><pre>Hello &lt;noinclude&gt;cruel&lt;/noinclude&gt;&lt;includeonly&gt;kind&lt;/includeonly&gt; world.</pre></td>
<td class="expect"><pre>Hello kind world.</pre></td>
<td class="output"><pre>&lt;p&gt;Hello cruel world.&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">996</th>
<td class="status">fail</td>
<td class="description">preload: check &lt;onlyinclude&gt;<ul><li>preload</li></ul>
</td>
<td class="input"><pre>Goodbye &lt;onlyinclude&gt;Hello world&lt;/onlyinclude&gt;</pre></td>
<td class="expect"><pre>Hello world</pre></td>
<td class="output"><pre>&lt;p&gt;Goodbye Hello world&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">997</th>
<td class="status">fail</td>
<td class="description">preload: can pass tags through if we want to<ul><li>preload</li></ul>
</td>
<td class="input"><pre>&lt;includeonly&gt;&lt;&lt;/includeonly&gt;includeonly&gt;Hello world&lt;includeonly&gt;&lt;&lt;/includeonly&gt;/includeonly&gt;</pre></td>
<td class="expect"><pre>&lt;includeonly&gt;Hello world&lt;/includeonly&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;includeonly&amp;gt;Hello world/includeonly&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">998</th>
<td class="status">fail</td>
<td class="description">preload: check that it doesn't try to do tricks<ul><li>preload</li></ul>
</td>
<td class="input"><pre>* &lt;!-- Hello --&gt; ''{{world}}'' {{&lt;includeonly&gt;subst:&lt;/includeonly&gt;How are you}}{{ {{{|safesubst:}}} #if:1|2|3}}</pre></td>
<td class="expect"><pre>* &lt;!-- Hello --&gt; ''{{world}}'' {{subst:How are you}}{{ {{{|safesubst:}}} #if:1|2|3}}</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt;  &lt;i&gt;&lt;a href="/wiki/Template:World" title="Template:World"&gt;Template:World&lt;/a&gt;&lt;/i&gt; &lt;a href="/wiki/Template:How_are_you" title="Template:How are you"&gt;Template:How are you&lt;/a&gt;&lt;a href="/wiki/Template:Safesubst:_#if:1" title="Template:Safesubst: #if:1"&gt;Template:Safesubst: #if:1&lt;/a&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
</tr>
<tr class="skip">
<th class="index">999</th>
<td class="status">skip</td>
<td class="description">Play a bit with r67090 and bug 3158<ul><li>disabled</li></ul>
</td>
<td class="input"><pre>&lt;div style="width:50% !important"&gt;&amp;nbsp;&lt;/div&gt;&#8990;
&lt;div style="width:50%&amp;nbsp;!important"&gt;&amp;nbsp;&lt;/div&gt;&#8990;
&lt;div style="width:50%&amp;#160;!important"&gt;&amp;nbsp;&lt;/div&gt;&#8990;
&lt;div style="border : solid;"&gt;&amp;nbsp;&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div style="width:50% !important"&gt;&amp;nbsp;&lt;/div&gt;&#8990;
&lt;div style="width:50% !important"&gt;&amp;nbsp;&lt;/div&gt;&#8990;
&lt;div style="width:50% !important"&gt;&amp;nbsp;&lt;/div&gt;&#8990;
&lt;div style="border&amp;#160;: solid;"&gt;&amp;nbsp;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"> </td>
</tr>
<tr class="tidy">
<th class="index">1000</th>
<td class="status">tidy</td>
<td class="description">HTML5 data attributes</td>
<td class="input"><pre>&lt;span data-foo="bar"&gt;Baz&lt;/span&gt;&#8990;
&lt;p data-abc-def_hij=""&gt;Quuz&lt;/p&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;span data-foo="bar"&gt;Baz&lt;/span&gt;&#8990;
&lt;/p&gt;&#8990;
&lt;p data-abc-def_hij=""&gt;Quuz&lt;/p&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;span data-foo="bar"&gt;Baz&lt;/span&gt;&#8990;
&lt;/p&gt;&lt;p data-abc-def_hij=""&gt;Quuz&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1001</th>
<td class="status">fail</td>
<td class="description">percent-encoding and + signs in internal links (Bug 26410)</td>
<td class="input"><pre>[[User:+%]] [[Page+title%]]&#8990;
[[%+]] [[%+|%20]] [[%+ ]] [[%+r]]&#8990;
[[%]] [[+]] [[image:%+abc%39|foo|[[bar]]]]&#8990;
[[%33%45]] [[%33%45+]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/index.php?title=User:%2B%25&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="User:+% (page does not exist)"&gt;User:+%&lt;/a&gt; &lt;a href="/index.php?title=Page%2Btitle%25&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Page+title% (page does not exist)"&gt;Page+title%&lt;/a&gt;&#8990;
&lt;a href="/index.php?title=%25%2B&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="%+ (page does not exist)"&gt;%+&lt;/a&gt; &lt;a href="/index.php?title=%25%2B&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="%+ (page does not exist)"&gt;%20&lt;/a&gt; &lt;a href="/index.php?title=%25%2B&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="%+ (page does not exist)"&gt;%+ &lt;/a&gt; &lt;a href="/index.php?title=%25%2Br&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="%+r (page does not exist)"&gt;%+r&lt;/a&gt;&#8990;
&lt;a href="/index.php?title=%25&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="% (page does not exist)"&gt;%&lt;/a&gt; &lt;a href="/index.php?title=%2B&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="+ (page does not exist)"&gt;+&lt;/a&gt; &lt;a href="/index.php?title=Special:Upload&amp;amp;wpDestFile=%25%2Babc9" class="new" title="File:%+abc9"&gt;bar&lt;/a&gt;&#8990;
&lt;a href="/index.php?title=3E&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="3E (page does not exist)"&gt;3E&lt;/a&gt; &lt;a href="/index.php?title=3E%2B&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="3E+ (page does not exist)"&gt;3E+&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/User:+%" title="User:+%"&gt;User:+%&lt;/a&gt; &lt;a href="/wiki/Page+title%" title="Page+title%"&gt;Page+title%&lt;/a&gt;&#8990;
&lt;a href="/wiki/%+" title="%+"&gt;%+&lt;/a&gt; &lt;a href="/wiki/%+" title="%+"&gt;%20&lt;/a&gt; &lt;a href="/wiki/%+" title="%+"&gt;%+&lt;/a&gt; &lt;a href="/wiki/%+r" title="%+r"&gt;%+r&lt;/a&gt;&#8990;
&lt;a href="/wiki/%" title="%"&gt;%&lt;/a&gt; &lt;a href="/wiki/+" title="+"&gt;+&lt;/a&gt; &lt;a href="/wiki/image:%+abc%39" title="image:%+abc%39"&gt;foo|&lt;a href="/wiki/bar" title="bar"&gt;bar&lt;/a&gt;&lt;/a&gt;&#8990;
&lt;a href="/wiki/%33%45" title="%33%45"&gt;%33%45&lt;/a&gt; &lt;a href="/wiki/%33%45+" title="%33%45+"&gt;%33%45+&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1002</th>
<td class="status">fail</td>
<td class="description">Special characters in embedded file links (bug 27679)</td>
<td class="input"><pre>[[File:Contains &amp; ampersand.jpg]]&#8990;
[[File:Does not exist.jpg|Title with &amp; ampersand]]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/index.php?title=Special:Upload&amp;amp;wpDestFile=Contains_%26_ampersand.jpg" class="new" title="File:Contains &amp;amp; ampersand.jpg"&gt;File:Contains &amp;amp; ampersand.jpg&lt;/a&gt;&#8990;
&lt;a href="/index.php?title=Special:Upload&amp;amp;wpDestFile=Does_not_exist.jpg" class="new" title="File:Does not exist.jpg"&gt;Title with &amp;amp; ampersand&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/File:Contains_&amp;amp;_ampersand.jpg" title="File:Contains &amp;amp; ampersand.jpg"&gt;File:Contains &amp;amp; ampersand.jpg&lt;/a&gt;&#8990;
&lt;a href="/wiki/File:Does_not_exist.jpg" title="File:Does not exist.jpg"&gt;Title with &amp;amp; ampersand&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">1003</th>
<td class="status">tidy</td>
<td class="description">Confirm that 'apos' named character reference doesn't make it to output (not legal in HTML 4)</td>
<td class="input"><pre>Text&amp;apos;s been normalized?</pre></td>
<td class="expect"><pre>&lt;p&gt;Text&amp;#39;s been normalized?&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Text's been normalized?&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1004</th>
<td class="status">fail</td>
<td class="description">Bug 19052 U+3000 IDEOGRAPHIC SPACE should terminate free external links</td>
<td class="input"><pre>http://www.example.org/&#12288;&lt;-- U+3000 (vim: ^Vu3000)</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://www.example.org/"&gt;http://www.example.org/&lt;/a&gt;&#12288;&amp;lt;-- U+3000 (vim: ^Vu3000)&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://www.example.org/&amp;#12288;&amp;lt;--"&gt;http://www.example.org/&amp;#12288;&amp;lt;--&lt;/a&gt; U+3000 (vim: ^Vu3000)&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1005</th>
<td class="status">fail</td>
<td class="description">Bug 19052 U+3000 IDEOGRAPHIC SPACE should terminate bracketed external links</td>
<td class="input"><pre>[http://www.example.org/&#12288;ideograms]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external text" href="http://www.example.org/"&gt;ideograms&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="http://www.example.org/&amp;#12288;ideograms"&gt;http://www.example.org/&amp;#12288;ideograms&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1006</th>
<td class="status">fail</td>
<td class="description">Bug 19052 U+3000 IDEOGRAPHIC SPACE should terminate external images links</td>
<td class="input"><pre>http://www.example.org/pic.png&#12288;&lt;-- U+3000 (vim: ^Vu3000)</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;img src="http://www.example.org/pic.png" alt="pic.png" /&gt;&#12288;&amp;lt;-- U+3000 (vim: ^Vu3000)&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="http://www.example.org/pic.png&amp;#12288;&amp;lt;--"&gt;http://www.example.org/pic.png&amp;#12288;&amp;lt;--&lt;/a&gt; U+3000 (vim: ^Vu3000)&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1007</th>
<td class="status">fail</td>
<td class="description">Bug 31098 Template which includes system messages which includes the template</td>
<td class="input"><pre>{{Identical}}</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;span class="error"&gt;Template loop detected: &lt;a href="/wiki/Template:Identical" title="Template:Identical"&gt;Template:Identical&lt;/a&gt;&lt;/span&gt;&#8990;
&lt;span class="error"&gt;Template loop detected: &lt;a href="/wiki/Template:Identical" title="Template:Identical"&gt;Template:Identical&lt;/a&gt;&lt;/span&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:Int:loop1" title="Template:Int:loop1"&gt;Template:Int:loop1&lt;/a&gt;&#8990;
&lt;a href="/wiki/Template:Int:loop2" title="Template:Int:loop2"&gt;Template:Int:loop2&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">1008</th>
<td class="status">pass</td>
<td class="description">Bug31490 Turkish: ucfirst 'blah'<ul><li>language: tr</li></ul>
</td>
<td class="input"><pre>{{ucfirst:blah}}</pre></td>
<td class="expect"><pre>&lt;p&gt;Blah&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Blah&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1009</th>
<td class="status">fail</td>
<td class="description">Bug31490 Turkish: ucfirst 'ix'<ul><li>language: tr</li></ul>
</td>
<td class="input"><pre>{{ucfirst:ix}}</pre></td>
<td class="expect"><pre>&lt;p&gt;&#304;x&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;Ix&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">1010</th>
<td class="status">pass</td>
<td class="description">Bug31490 Turkish: lcfirst 'BLAH'<ul><li>language: tr</li></ul>
</td>
<td class="input"><pre>{{lcfirst:BLAH}}</pre></td>
<td class="expect"><pre>&lt;p&gt;bLAH&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;bLAH&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1011</th>
<td class="status">fail</td>
<td class="description">Bug31490 Turkish: ucf&#305;rst (with a dotless i)<ul><li>language: tr</li></ul>
</td>
<td class="input"><pre>{{ucf&#305;rst:blah}}</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/index.php?title=%C5%9Eablon:Ucf%C4%B1rst:blah&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="&#350;ablon:Ucf&#305;rst:blah (sayfa mevcut de&#287;il)"&gt;&#350;ablon:Ucf&#305;rst:blah&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:Ucf&amp;#305;rst:blah" title="Template:Ucf&amp;#305;rst:blah"&gt;Template:Ucf&amp;#305;rst:blah&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1012</th>
<td class="status">fail</td>
<td class="description">Bug31490 ucf&#305;rst (with a dotless i) with English language<ul><li>language: en</li></ul>
</td>
<td class="input"><pre>{{ucf&#305;rst:blah}}</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a href="/index.php?title=Template:Ucf%C4%B1rst:blah&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Template:Ucf&#305;rst:blah (page does not exist)"&gt;Template:Ucf&#305;rst:blah&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:Ucf&amp;#305;rst:blah" title="Template:Ucf&amp;#305;rst:blah"&gt;Template:Ucf&amp;#305;rst:blah&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1013</th>
<td class="status">fail</td>
<td class="description">Bug 26375: TOC with italics<ul><li>title: Main Page</li></ul>
</td>
<td class="input"><pre>__TOC__&#8990;
== ''Lost'' episodes ==</pre></td>
<td class="expect"><pre>&lt;div id="toc" class="toc"&gt;&lt;div id="toctitle"&gt;&lt;h2&gt;Contents&lt;/h2&gt;&lt;/div&gt;&#8990;
&lt;ul&gt;&#8990;
&lt;li class="toclevel-1 tocsection-1"&gt;&lt;a href="#Lost_episodes"&gt;&lt;span class="tocnumber"&gt;1&lt;/span&gt; &lt;span class="toctext"&gt;&lt;i&gt;Lost&lt;/i&gt; episodes&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
&lt;/div&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="Lost_episodes"&gt;&lt;i&gt;Lost&lt;/i&gt; episodes&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Main_Page&amp;amp;action=edit&amp;amp;section=1" title="Edit section: Lost episodes"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;h2&gt;&lt;span class="mw-headline" id="''Lost'' episodes"&gt;''Lost'' episodes&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: ''Lost'' episodes"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">1014</th>
<td class="status">fail</td>
<td class="description">Bug 26375: TOC with bold<ul><li>title: Main Page</li></ul>
</td>
<td class="input"><pre>__TOC__&#8990;
== '''should be bold''' then normal text ==</pre></td>
<td class="expect"><pre>&lt;div id="toc" class="toc"&gt;&lt;div id="toctitle"&gt;&lt;h2&gt;Contents&lt;/h2&gt;&lt;/div&gt;&#8990;
&lt;ul&gt;&#8990;
&lt;li class="toclevel-1 tocsection-1"&gt;&lt;a href="#should_be_bold_then_normal_text"&gt;&lt;span class="tocnumber"&gt;1&lt;/span&gt; &lt;span class="toctext"&gt;&lt;b&gt;should be bold&lt;/b&gt; then normal text&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
&lt;/div&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="should_be_bold_then_normal_text"&gt;&lt;b&gt;should be bold&lt;/b&gt; then normal text&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Main_Page&amp;amp;action=edit&amp;amp;section=1" title="Edit section: should be bold then normal text"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;h2&gt;&lt;span class="mw-headline" id="'''should be bold''' then normal text"&gt;'''should be bold''' then normal text&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: '''should be bold''' then normal text"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">1015</th>
<td class="status">fail</td>
<td class="description">Bug 33845: Headings become cursive in TOC when they contain an image<ul><li>title: Main Page</li></ul>
</td>
<td class="input"><pre>__TOC__&#8990;
== Image [[Image:foobar.jpg]] ==</pre></td>
<td class="expect"><pre>&lt;div id="toc" class="toc"&gt;&lt;div id="toctitle"&gt;&lt;h2&gt;Contents&lt;/h2&gt;&lt;/div&gt;&#8990;
&lt;ul&gt;&#8990;
&lt;li class="toclevel-1 tocsection-1"&gt;&lt;a href="#Image"&gt;&lt;span class="tocnumber"&gt;1&lt;/span&gt; &lt;span class="toctext"&gt;Image&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
&lt;/div&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="Image"&gt;Image &lt;a href="/wiki/File:Foobar.jpg" class="image"&gt;&lt;img alt="Foobar.jpg" src="http://example.com/images/3/3a/Foobar.jpg" width="1941" height="220" /&gt;&lt;/a&gt;&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Main_Page&amp;amp;action=edit&amp;amp;section=1" title="Edit section: Image"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;h2&gt;&lt;span class="mw-headline" id="Image [[Image:foobar.jpg]]"&gt;Image [[Image:foobar.jpg]]&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: Image [[Image:foobar.jpg]]"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">1016</th>
<td class="status">fail</td>
<td class="description">Bug 33845 (2): Headings become bold in TOC when they contain a blockquote<ul><li>title: Main Page</li></ul>
</td>
<td class="input"><pre>__TOC__&#8990;
== &lt;blockquote&gt;Quote&lt;/blockquote&gt; ==</pre></td>
<td class="expect"><pre>&lt;div id="toc" class="toc"&gt;&lt;div id="toctitle"&gt;&lt;h2&gt;Contents&lt;/h2&gt;&lt;/div&gt;&#8990;
&lt;ul&gt;&#8990;
&lt;li class="toclevel-1 tocsection-1"&gt;&lt;a href="#Quote"&gt;&lt;span class="tocnumber"&gt;1&lt;/span&gt; &lt;span class="toctext"&gt;Quote&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
&lt;/div&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="Quote"&gt;&lt;blockquote&gt;Quote&lt;/blockquote&gt;&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Main_Page&amp;amp;action=edit&amp;amp;section=1" title="Edit section: Quote"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;h2&gt;&lt;span class="mw-headline" id="&amp;lt;blockquote&amp;gt;Quote&amp;lt;/blockquote&amp;gt;"&gt;&amp;lt;blockquote&amp;gt;Quote&amp;lt;/blockquote&amp;gt;&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: &amp;lt;blockquote&amp;gt;Quote&amp;lt;/blockquote&amp;gt;"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">1017</th>
<td class="status">fail</td>
<td class="description">Unclosed tags in TOC<ul><li>title: Main Page</li></ul>
</td>
<td class="input"><pre>__TOC__&#8990;
== Proof: 2 &lt; 3 ==&#8990;
&lt;small&gt;Hanc marginis exiguitas non caperet.&lt;/small&gt;&#8990;
QED</pre></td>
<td class="expect"><pre>&lt;div id="toc" class="toc"&gt;&lt;div id="toctitle"&gt;&lt;h2&gt;Contents&lt;/h2&gt;&lt;/div&gt;&#8990;
&lt;ul&gt;&#8990;
&lt;li class="toclevel-1 tocsection-1"&gt;&lt;a href="#Proof:_2_.3C_3"&gt;&lt;span class="tocnumber"&gt;1&lt;/span&gt; &lt;span class="toctext"&gt;Proof: 2 &amp;lt; 3&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
&lt;/div&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="Proof:_2_.3C_3"&gt;Proof: 2 &amp;lt; 3&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Main_Page&amp;amp;action=edit&amp;amp;section=1" title="Edit section: Proof: 2 &amp;lt; 3"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;p&gt;&lt;small&gt;Hanc marginis exiguitas non caperet.&lt;/small&gt;&#8990;
QED&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;h2&gt;&lt;span class="mw-headline" id="Proof: 2 &amp;lt; 3"&gt;Proof: 2 &amp;lt; 3&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: Proof: 2 &amp;lt; 3"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;p&gt;&lt;small&gt;Hanc marginis exiguitas non caperet.&lt;/small&gt;&#8990;
QED&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1018</th>
<td class="status">fail</td>
<td class="description">Multiple tags in TOC</td>
<td class="input"><pre>__TOC__&#8990;
== &lt;i&gt;Foo&lt;/i&gt; &lt;b&gt;Bar&lt;/b&gt; ==&#8990;
&#8990;
== &lt;i&gt;Foo&lt;/i&gt; &lt;blockquote&gt;Bar&lt;/blockquote&gt; ==</pre></td>
<td class="expect"><pre>&lt;div id="toc" class="toc"&gt;&lt;div id="toctitle"&gt;&lt;h2&gt;Contents&lt;/h2&gt;&lt;/div&gt;&#8990;
&lt;ul&gt;&#8990;
&lt;li class="toclevel-1 tocsection-1"&gt;&lt;a href="#Foo_Bar"&gt;&lt;span class="tocnumber"&gt;1&lt;/span&gt; &lt;span class="toctext"&gt;&lt;i&gt;Foo&lt;/i&gt; &lt;b&gt;Bar&lt;/b&gt;&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;li class="toclevel-1 tocsection-2"&gt;&lt;a href="#Foo_Bar_2"&gt;&lt;span class="tocnumber"&gt;2&lt;/span&gt; &lt;span class="toctext"&gt;&lt;i&gt;Foo&lt;/i&gt; Bar&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
&lt;/div&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="Foo_Bar"&gt;&lt;i&gt;Foo&lt;/i&gt; &lt;b&gt;Bar&lt;/b&gt;&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=1" title="Edit section: Foo Bar"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="Foo_Bar_2"&gt;&lt;i&gt;Foo&lt;/i&gt; &lt;blockquote&gt;Bar&lt;/blockquote&gt;&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=2" title="Edit section: Foo Bar"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;h2&gt;&lt;span class="mw-headline" id="&amp;lt;i&amp;gt;Foo&amp;lt;/i&amp;gt; &amp;lt;b&amp;gt;Bar&amp;lt;/b&amp;gt;"&gt;&amp;lt;i&amp;gt;Foo&amp;lt;/i&amp;gt; &amp;lt;b&amp;gt;Bar&amp;lt;/b&amp;gt;&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: &amp;lt;i&amp;gt;Foo&amp;lt;/i&amp;gt; &amp;lt;b&amp;gt;Bar&amp;lt;/b&amp;gt;"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="&amp;lt;i&amp;gt;Foo&amp;lt;/i&amp;gt; &amp;lt;blockquote&amp;gt;Bar&amp;lt;/blockquote&amp;gt;"&gt;&amp;lt;i&amp;gt;Foo&amp;lt;/i&amp;gt; &amp;lt;blockquote&amp;gt;Bar&amp;lt;/blockquote&amp;gt;&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: &amp;lt;i&amp;gt;Foo&amp;lt;/i&amp;gt; &amp;lt;blockquote&amp;gt;Bar&amp;lt;/blockquote&amp;gt;"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">1019</th>
<td class="status">fail</td>
<td class="description">Tags with parameters in TOC</td>
<td class="input"><pre>__TOC__&#8990;
== &lt;sup class="in-h2"&gt;Hello&lt;/sup&gt; ==&#8990;
&#8990;
== &lt;sup class="a &gt; b"&gt;Evilbye&lt;/sup&gt; ==</pre></td>
<td class="expect"><pre>&lt;div id="toc" class="toc"&gt;&lt;div id="toctitle"&gt;&lt;h2&gt;Contents&lt;/h2&gt;&lt;/div&gt;&#8990;
&lt;ul&gt;&#8990;
&lt;li class="toclevel-1 tocsection-1"&gt;&lt;a href="#Hello"&gt;&lt;span class="tocnumber"&gt;1&lt;/span&gt; &lt;span class="toctext"&gt;&lt;sup&gt;Hello&lt;/sup&gt;&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;li class="toclevel-1 tocsection-2"&gt;&lt;a href="#b.22.3EEvilbye"&gt;&lt;span class="tocnumber"&gt;2&lt;/span&gt; &lt;span class="toctext"&gt;&lt;sup&gt; b"&amp;gt;Evilbye&lt;/sup&gt;&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
&lt;/div&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="Hello"&gt;&lt;sup class="in-h2"&gt;Hello&lt;/sup&gt;&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=1" title="Edit section: Hello"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="b.22.3EEvilbye"&gt;&lt;sup&gt; b"&amp;gt;Evilbye&lt;/sup&gt;&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=2" title="Edit section: b&amp;quot;&gt;Evilbye"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;h2&gt;&lt;span class="mw-headline" id="&amp;lt;sup class=&amp;quot;in-h2&amp;quot;&amp;gt;Hello&amp;lt;/sup&amp;gt;"&gt;&amp;lt;sup class="in-h2"&amp;gt;Hello&amp;lt;/sup&amp;gt;&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: &amp;lt;sup class=&amp;quot;in-h2&amp;quot;&amp;gt;Hello&amp;lt;/sup&amp;gt;"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="&amp;lt;sup class=&amp;quot;a &amp;gt; b&amp;quot;&amp;gt;Evilbye&amp;lt;/sup&amp;gt;"&gt;&amp;lt;sup class="a &amp;gt; b"&amp;gt;Evilbye&amp;lt;/sup&amp;gt;&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: &amp;lt;sup class=&amp;quot;a &amp;gt; b&amp;quot;&amp;gt;Evilbye&amp;lt;/sup&amp;gt;"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">1020</th>
<td class="status">fail</td>
<td class="description">span tags with directionality in TOC</td>
<td class="input"><pre>__TOC__&#8990;
== &lt;span dir="ltr"&gt;C++&lt;/span&gt; ==&#8990;
&#8990;
== &lt;span dir="rtl"&gt;&#1494;&#1489;&#1504;&#1490;!&lt;/span&gt; ==&#8990;
&#8990;
== &lt;span style="font-style: italic"&gt;The attributes on these span tags must be deleted from the TOC&lt;/span&gt; ==&#8990;
&#8990;
== &lt;span style="font-style: italic" dir="ltr"&gt;All attributes on these span tags must be deleted from the TOC&lt;/span&gt; ==&#8990;
&#8990;
== &lt;span dir="ltr" style="font-style: italic"&gt;Attributes after dir on these span tags must be deleted from the TOC&lt;/span&gt; ==</pre></td>
<td class="expect"><pre>&lt;div id="toc" class="toc"&gt;&lt;div id="toctitle"&gt;&lt;h2&gt;Contents&lt;/h2&gt;&lt;/div&gt;&#8990;
&lt;ul&gt;&#8990;
&lt;li class="toclevel-1 tocsection-1"&gt;&lt;a href="#C.2B.2B"&gt;&lt;span class="tocnumber"&gt;1&lt;/span&gt; &lt;span class="toctext"&gt;&lt;span dir="ltr"&gt;C++&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;li class="toclevel-1 tocsection-2"&gt;&lt;a href="#.D7.96.D7.91.D7.A0.D7.92.21"&gt;&lt;span class="tocnumber"&gt;2&lt;/span&gt; &lt;span class="toctext"&gt;&lt;span dir="rtl"&gt;&#1494;&#1489;&#1504;&#1490;!&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;li class="toclevel-1 tocsection-3"&gt;&lt;a href="#The_attributes_on_these_span_tags_must_be_deleted_from_the_TOC"&gt;&lt;span class="tocnumber"&gt;3&lt;/span&gt; &lt;span class="toctext"&gt;&lt;span&gt;The attributes on these span tags must be deleted from the TOC&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;li class="toclevel-1 tocsection-4"&gt;&lt;a href="#All_attributes_on_these_span_tags_must_be_deleted_from_the_TOC"&gt;&lt;span class="tocnumber"&gt;4&lt;/span&gt; &lt;span class="toctext"&gt;&lt;span&gt;All attributes on these span tags must be deleted from the TOC&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;li class="toclevel-1 tocsection-5"&gt;&lt;a href="#Attributes_after_dir_on_these_span_tags_must_be_deleted_from_the_TOC"&gt;&lt;span class="tocnumber"&gt;5&lt;/span&gt; &lt;span class="toctext"&gt;&lt;span dir="ltr"&gt;Attributes after dir on these span tags must be deleted from the TOC&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
&lt;/div&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="C.2B.2B"&gt;&lt;span dir="ltr"&gt;C++&lt;/span&gt;&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=1" title="Edit section: C++"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id=".D7.96.D7.91.D7.A0.D7.92.21"&gt;&lt;span dir="rtl"&gt;&#1494;&#1489;&#1504;&#1490;!&lt;/span&gt;&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=2" title="Edit section: &#1494;&#1489;&#1504;&#1490;!"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="The_attributes_on_these_span_tags_must_be_deleted_from_the_TOC"&gt;&lt;span style="font-style: italic"&gt;The attributes on these span tags must be deleted from the TOC&lt;/span&gt;&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=3" title="Edit section: The attributes on these span tags must be deleted from the TOC"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="All_attributes_on_these_span_tags_must_be_deleted_from_the_TOC"&gt;&lt;span style="font-style: italic" dir="ltr"&gt;All attributes on these span tags must be deleted from the TOC&lt;/span&gt;&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=4" title="Edit section: All attributes on these span tags must be deleted from the TOC"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="Attributes_after_dir_on_these_span_tags_must_be_deleted_from_the_TOC"&gt;&lt;span dir="ltr" style="font-style: italic"&gt;Attributes after dir on these span tags must be deleted from the TOC&lt;/span&gt;&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=5" title="Edit section: Attributes after dir on these span tags must be deleted from the TOC"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;h2&gt;&lt;span class="mw-headline" id="&amp;lt;span dir=&amp;quot;ltr&amp;quot;&amp;gt;C++&amp;lt;/span&amp;gt;"&gt;&amp;lt;span dir="ltr"&amp;gt;C++&amp;lt;/span&amp;gt;&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: &amp;lt;span dir=&amp;quot;ltr&amp;quot;&amp;gt;C++&amp;lt;/span&amp;gt;"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="&amp;lt;span dir=&amp;quot;rtl&amp;quot;&amp;gt;&amp;#1494;&amp;#1489;&amp;#1504;&amp;#1490;!&amp;lt;/span&amp;gt;"&gt;&amp;lt;span dir="rtl"&amp;gt;&amp;#1494;&amp;#1489;&amp;#1504;&amp;#1490;!&amp;lt;/span&amp;gt;&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: &amp;lt;span dir=&amp;quot;rtl&amp;quot;&amp;gt;&amp;#1494;&amp;#1489;&amp;#1504;&amp;#1490;!&amp;lt;/span&amp;gt;"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="&amp;lt;span style=&amp;quot;font-style: italic&amp;quot;&amp;gt;The attributes on these span tags must be deleted from the TOC&amp;lt;/span&amp;gt;"&gt;&amp;lt;span style="font-style: italic"&amp;gt;The attributes on these span tags must be deleted from the TOC&amp;lt;/span&amp;gt;&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: &amp;lt;span style=&amp;quot;font-style: italic&amp;quot;&amp;gt;The attributes on these span tags must be deleted from the TOC&amp;lt;/span&amp;gt;"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="&amp;lt;span style=&amp;quot;font-style: italic&amp;quot; dir=&amp;quot;ltr&amp;quot;&amp;gt;All attributes on these span tags must be deleted from the TOC&amp;lt;/span&amp;gt;"&gt;&amp;lt;span style="font-style: italic" dir="ltr"&amp;gt;All attributes on these span tags must be deleted from the TOC&amp;lt;/span&amp;gt;&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: &amp;lt;span style=&amp;quot;font-style: italic&amp;quot; dir=&amp;quot;ltr&amp;quot;&amp;gt;All attributes on these span tags must be deleted from the TOC&amp;lt;/span&amp;gt;"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="&amp;lt;span dir=&amp;quot;ltr&amp;quot; style=&amp;quot;font-style: italic&amp;quot;&amp;gt;Attributes after dir on these span tags must be deleted from the TOC&amp;lt;/span&amp;gt;"&gt;&amp;lt;span dir="ltr" style="font-style: italic"&amp;gt;Attributes after dir on these span tags must be deleted from the TOC&amp;lt;/span&amp;gt;&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: &amp;lt;span dir=&amp;quot;ltr&amp;quot; style=&amp;quot;font-style: italic&amp;quot;&amp;gt;Attributes after dir on these span tags must be deleted from the TOC&amp;lt;/span&amp;gt;"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">1021</th>
<td class="status">fail</td>
<td class="description">Bug 32057: Title needed when expanding &lt;h&gt; nodes.<ul><li>title: Main Page</li></ul>
</td>
<td class="input"><pre>{{int:Bug32057}}</pre></td>
<td class="expect"><pre>&lt;h2&gt;&lt;span class="mw-headline" id="Headline_text"&gt;Headline text&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Main_Page&amp;amp;action=edit&amp;amp;section=1" title="Edit section: Headline text"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:Int:Bug32057" title="Template:Int:Bug32057"&gt;Template:Int:Bug32057&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1022</th>
<td class="status">fail</td>
<td class="description">Strip marker in urlencode</td>
<td class="input"><pre>{{urlencode:x&lt;nowiki/&gt;y}}&#8990;
{{urlencode:x&lt;nowiki/&gt;y|wiki}}&#8990;
{{urlencode:x&lt;nowiki/&gt;y|path}}</pre></td>
<td class="expect"><pre>&lt;p&gt;xy&#8990;
xy&#8990;
xy&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:Urlencode:xy" title="Template:Urlencode:xy"&gt;Template:Urlencode:xy&lt;/a&gt;&#8990;
&lt;a href="/wiki/Template:Urlencode:xy" title="Template:Urlencode:xy"&gt;Template:Urlencode:xy&lt;/a&gt;&#8990;
&lt;a href="/wiki/Template:Urlencode:xy" title="Template:Urlencode:xy"&gt;Template:Urlencode:xy&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">1023</th>
<td class="status">pass</td>
<td class="description">Strip marker in lc</td>
<td class="input"><pre>{{lc:x&lt;nowiki/&gt;y}}</pre></td>
<td class="expect"><pre>&lt;p&gt;xy&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;xy&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1024</th>
<td class="status">fail</td>
<td class="description">Strip marker in uc</td>
<td class="input"><pre>{{uc:x&lt;nowiki/&gt;y}}</pre></td>
<td class="expect"><pre>&lt;p&gt;XY&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;X&amp;lt;NOWIKI/&amp;gt;Y&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1025</th>
<td class="status">fail</td>
<td class="description">Strip marker in formatNum</td>
<td class="input"><pre>{{formatnum:1&lt;nowiki/&gt;2}}&#8990;
{{formatnum:1&lt;nowiki/&gt;2|R}}</pre></td>
<td class="expect"><pre>&lt;p&gt;12&#8990;
12&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:Formatnum:12" title="Template:Formatnum:12"&gt;Template:Formatnum:12&lt;/a&gt;&#8990;
&lt;a href="/wiki/Template:Formatnum:12" title="Template:Formatnum:12"&gt;Template:Formatnum:12&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1026</th>
<td class="status">fail</td>
<td class="description">Check noCommafy in formatNum<ul><li>language: be-tarask</li></ul>
</td>
<td class="input"><pre>{{formatnum:123456.78}}&#8990;
{{formatnum:123456.78|NOSEP}}</pre></td>
<td class="expect"><pre>&lt;p&gt;123&#160;456,78&#8990;
123456.78&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:Formatnum:123456.78" title="Template:Formatnum:123456.78"&gt;Template:Formatnum:123456.78&lt;/a&gt;&#8990;
&lt;a href="/wiki/Template:Formatnum:123456.78" title="Template:Formatnum:123456.78"&gt;Template:Formatnum:123456.78&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1027</th>
<td class="status">fail</td>
<td class="description">Strip marker in grammar<ul><li>language: fi</li></ul>
</td>
<td class="input"><pre>{{grammar:elative|foo&lt;nowiki/&gt;bar}}</pre></td>
<td class="expect"><pre>&lt;p&gt;foobarista&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:Grammar:elative" title="Template:Grammar:elative"&gt;Template:Grammar:elative&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1028</th>
<td class="status">fail</td>
<td class="description">Strip marker in padleft</td>
<td class="input"><pre>{{padleft:|2|x&lt;nowiki/&gt;y}}</pre></td>
<td class="expect"><pre>&lt;p&gt;xy&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:Padleft:" title="Template:Padleft:"&gt;Template:Padleft:&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1029</th>
<td class="status">fail</td>
<td class="description">Strip marker in padright</td>
<td class="input"><pre>{{padright:|2|x&lt;nowiki/&gt;y}}</pre></td>
<td class="expect"><pre>&lt;p&gt;xy&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:Padright:" title="Template:Padright:"&gt;Template:Padright:&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1030</th>
<td class="status">fail</td>
<td class="description">Strip marker in anchorencode</td>
<td class="input"><pre>{{anchorencode:x&lt;nowiki/&gt;y}}</pre></td>
<td class="expect"><pre>&lt;p&gt;xy&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:Anchorencode:xy" title="Template:Anchorencode:xy"&gt;Template:Anchorencode:xy&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1031</th>
<td class="status">fail</td>
<td class="description">nowiki inside link inside heading (bug 18295)</td>
<td class="input"><pre>==[[foo|x&lt;nowiki&gt;y&lt;/nowiki&gt;z]]==</pre></td>
<td class="expect"><pre>&lt;h2&gt;&lt;span class="mw-headline" id="xyz"&gt;&lt;a href="/index.php?title=Foo&amp;amp;action=edit&amp;amp;redlink=1" class="new" title="Foo (page does not exist)"&gt;xyz&lt;/a&gt;&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="/index.php?title=Parser_test&amp;amp;action=edit&amp;amp;section=1" title="Edit section: xyz"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;h2&gt;&lt;span class="mw-headline" id="[[foo|x&amp;lt;nowiki&amp;gt;y&amp;lt;/nowiki&amp;gt;z]]"&gt;[[foo|x&amp;lt;nowiki&amp;gt;y&amp;lt;/nowiki&amp;gt;z]]&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: [[foo|x&amp;lt;nowiki&amp;gt;y&amp;lt;/nowiki&amp;gt;z]]"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">1032</th>
<td class="status">fail</td>
<td class="description">new support for bdi element (bug 31817)</td>
<td class="input"><pre>&lt;p dir="rtl" lang="he"&gt;&#1493;&#1500;&#1491;&#1497;&#1502;&#1497;&#1512; &#1500;&#1504;&#1497;&#1503; (&#1489;&#1512;&#1493;&#1505;&#1497;&#1514;: &lt;bdi lang="ru"&gt;&#1042;&#1083;&#1072;&#1076;&#1080;&#1084;&#1080;&#1088; &#1051;&#1077;&#1085;&#1080;&#1085;&lt;/bdi&gt;, 24 &#1489;&#1488;&#1508;&#1512;&#1497;&#1500; 1870&#8211;22 &#1489;&#1497;&#1504;&#1493;&#1488;&#1512; 1924) &#1492;&#1493;&#1488; &#1502;&#1504;&#1492;&#1497;&#1490; &#1508;&#1493;&#1500;&#1497;&#1496;&#1497; &#1511;&#1493;&#1502;&#1493;&#1504;&#1497;&#1505;&#1496;&#1497; &#1512;&#1493;&#1505;&#1497;.&lt;/p&gt;</pre></td>
<td class="expect"><pre>&lt;p dir="rtl" lang="he"&gt;&#1493;&#1500;&#1491;&#1497;&#1502;&#1497;&#1512; &#1500;&#1504;&#1497;&#1503; (&#1489;&#1512;&#1493;&#1505;&#1497;&#1514;: &lt;bdi lang="ru"&gt;&#1042;&#1083;&#1072;&#1076;&#1080;&#1084;&#1080;&#1088; &#1051;&#1077;&#1085;&#1080;&#1085;&lt;/bdi&gt;, 24 &#1489;&#1488;&#1508;&#1512;&#1497;&#1500; 1870&#8211;22 &#1489;&#1497;&#1504;&#1493;&#1488;&#1512; 1924) &#1492;&#1493;&#1488; &#1502;&#1504;&#1492;&#1497;&#1490; &#1508;&#1493;&#1500;&#1497;&#1496;&#1497; &#1511;&#1493;&#1502;&#1493;&#1504;&#1497;&#1505;&#1496;&#1497; &#1512;&#1493;&#1505;&#1497;.&lt;/p&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p dir="rtl" lang="he"&gt;&amp;#1493;&amp;#1500;&amp;#1491;&amp;#1497;&amp;#1502;&amp;#1497;&amp;#1512; &amp;#1500;&amp;#1504;&amp;#1497;&amp;#1503; (&amp;#1489;&amp;#1512;&amp;#1493;&amp;#1505;&amp;#1497;&amp;#1514;: &amp;lt;bdi lang="ru"&amp;gt;&amp;#1042;&amp;#1083;&amp;#1072;&amp;#1076;&amp;#1080;&amp;#1084;&amp;#1080;&amp;#1088; &amp;#1051;&amp;#1077;&amp;#1085;&amp;#1080;&amp;#1085;&amp;lt;/bdi&amp;gt;, 24 &amp;#1489;&amp;#1488;&amp;#1508;&amp;#1512;&amp;#1497;&amp;#1500; 1870&amp;#8211;22 &amp;#1489;&amp;#1497;&amp;#1504;&amp;#1493;&amp;#1488;&amp;#1512; 1924) &amp;#1492;&amp;#1493;&amp;#1488; &amp;#1502;&amp;#1504;&amp;#1492;&amp;#1497;&amp;#1490; &amp;#1508;&amp;#1493;&amp;#1500;&amp;#1497;&amp;#1496;&amp;#1497; &amp;#1511;&amp;#1493;&amp;#1502;&amp;#1493;&amp;#1504;&amp;#1497;&amp;#1505;&amp;#1496;&amp;#1497; &amp;#1512;&amp;#1493;&amp;#1505;&amp;#1497;.&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">1033</th>
<td class="status">tidy</td>
<td class="description">Ignore pipe between table row attributes</td>
<td class="input"><pre>{|&#8990;
| quux&#8990;
|- id=foo | style='color: red'&#8990;
| bar&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt; quux&#8990;
&lt;/td&gt;&lt;/tr&gt;&#8990;
&lt;tr id="foo" style="color: red"&gt;&#8990;
&lt;td&gt; bar&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;quux&lt;/td&gt;&lt;/tr&gt;&lt;tr id="foo" style="color: red"&gt;&lt;td&gt;bar&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1034</th>
<td class="status">fail</td>
<td class="description">Gallery override link with WikiLink (bug 34852)</td>
<td class="input"><pre>&lt;gallery&gt;&#8990;
File:foobar.jpg|caption|alt=galleryalt|link=InterWikiLink&#8990;
&lt;/gallery&gt;</pre></td>
<td class="expect"><pre>&lt;ul class="gallery"&gt;&#8990;
		&lt;li class="gallerybox" style="width: 155px"&gt;&lt;div style="width: 155px"&gt;&#8990;
			&lt;div class="thumb" style="width: 150px;"&gt;&lt;div style="margin:68px auto;"&gt;&lt;a href="/wiki/InterWikiLink"&gt;&lt;img alt="galleryalt" src="http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg" width="120" height="14" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&#8990;
			&lt;div class="gallerytext"&gt;&#8990;
&lt;p&gt;caption&#8990;
&lt;/p&gt;&#8990;
			&lt;/div&gt;&#8990;
		&lt;/div&gt;&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;gallery&amp;gt;&#8990;
File:foobar.jpg|caption|alt=galleryalt|link=InterWikiLink&#8990;
&amp;lt;/gallery&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1035</th>
<td class="status">fail</td>
<td class="description">Gallery override link with absolute external link (bug 34852)</td>
<td class="input"><pre>&lt;gallery&gt;&#8990;
File:foobar.jpg|caption|alt=galleryalt|link=http://www.example.org&#8990;
&lt;/gallery&gt;</pre></td>
<td class="expect"><pre>&lt;ul class="gallery"&gt;&#8990;
		&lt;li class="gallerybox" style="width: 155px"&gt;&lt;div style="width: 155px"&gt;&#8990;
			&lt;div class="thumb" style="width: 150px;"&gt;&lt;div style="margin:68px auto;"&gt;&lt;a href="http://www.example.org"&gt;&lt;img alt="galleryalt" src="http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg" width="120" height="14" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&#8990;
			&lt;div class="gallerytext"&gt;&#8990;
&lt;p&gt;caption&#8990;
&lt;/p&gt;&#8990;
			&lt;/div&gt;&#8990;
		&lt;/div&gt;&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;gallery&amp;gt;&#8990;
File:foobar.jpg|caption|alt=galleryalt|link=&lt;a rel="nofollow" class="external free" href="http://www.example.org"&gt;http://www.example.org&lt;/a&gt;&#8990;
&amp;lt;/gallery&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1036</th>
<td class="status">fail</td>
<td class="description">Gallery override link with malicious javascript (bug 34852)</td>
<td class="input"><pre>&lt;gallery&gt;&#8990;
File:foobar.jpg|caption|alt=galleryalt|link=" onclick="alert('malicious javascript code!');&#8990;
&lt;/gallery&gt;</pre></td>
<td class="expect"><pre>&lt;ul class="gallery"&gt;&#8990;
		&lt;li class="gallerybox" style="width: 155px"&gt;&lt;div style="width: 155px"&gt;&#8990;
			&lt;div class="thumb" style="width: 150px;"&gt;&lt;div style="margin:68px auto;"&gt;&lt;a href="/wiki/%22_onclick%3D%22alert(%27malicious_javascript_code!%27);"&gt;&lt;img alt="galleryalt" src="http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg" width="120" height="14" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&#8990;
			&lt;div class="gallerytext"&gt;&#8990;
&lt;p&gt;caption&#8990;
&lt;/p&gt;&#8990;
			&lt;/div&gt;&#8990;
		&lt;/div&gt;&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;gallery&amp;gt;&#8990;
File:foobar.jpg|caption|alt=galleryalt|link=" onclick="alert('malicious javascript code!');&#8990;
&amp;lt;/gallery&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1037</th>
<td class="status">fail</td>
<td class="description">Gallery with invalid title as link (bug 43964)</td>
<td class="input"><pre>&lt;gallery&gt;&#8990;
File:foobar.jpg|link=&lt;&#8990;
&lt;/gallery&gt;</pre></td>
<td class="expect"><pre>&lt;ul class="gallery"&gt;&#8990;
		&lt;li class="gallerybox" style="width: 155px"&gt;&lt;div style="width: 155px"&gt;&#8990;
			&lt;div class="thumb" style="width: 150px;"&gt;&lt;div style="margin:68px auto;"&gt;&lt;a href="/wiki/File:Foobar.jpg" class="image"&gt;&lt;img alt="Foobar.jpg" src="http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg" width="120" height="14" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&#8990;
			&lt;div class="gallerytext"&gt;&#8990;
			&lt;/div&gt;&#8990;
		&lt;/div&gt;&lt;/li&gt;&#8990;
&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;gallery&amp;gt;&#8990;
File:foobar.jpg|link=&amp;lt;&#8990;
&amp;lt;/gallery&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1038</th>
<td class="status">fail</td>
<td class="description">Language parser function</td>
<td class="input"><pre>{{#language:ar}}</pre></td>
<td class="expect"><pre>&lt;p&gt;&#1575;&#1604;&#1593;&#1585;&#1576;&#1610;&#1577;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:#language:ar" title="Template:#language:ar"&gt;Template:#language:ar&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1039</th>
<td class="status">fail</td>
<td class="description">Padleft and padright as substr</td>
<td class="input"><pre>{{padleft:|3|abcde}}&#8990;
{{padright:|3|abcde}}</pre></td>
<td class="expect"><pre>&lt;p&gt;abc&#8990;
abc&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:Padleft:" title="Template:Padleft:"&gt;Template:Padleft:&lt;/a&gt;&#8990;
&lt;a href="/wiki/Template:Padright:" title="Template:Padright:"&gt;Template:Padright:&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1040</th>
<td class="status">fail</td>
<td class="description">Special parser function</td>
<td class="input"><pre>{{#special:RandomPage}}&#8990;
{{#special:BaDtItLe}}&#8990;
{{#special:Foobar}}</pre></td>
<td class="expect"><pre>&lt;p&gt;Special:Random&#8990;
Special:Badtitle&#8990;
Special:Foobar&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:#special:RandomPage" title="Template:#special:RandomPage"&gt;Template:#special:RandomPage&lt;/a&gt;&#8990;
&lt;a href="/wiki/Template:#special:BaDtItLe" title="Template:#special:BaDtItLe"&gt;Template:#special:BaDtItLe&lt;/a&gt;&#8990;
&lt;a href="/wiki/Template:#special:Foobar" title="Template:#special:Foobar"&gt;Template:#special:Foobar&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1041</th>
<td class="status">fail</td>
<td class="description">Bug 34939 - Case insensitive link parsing ([HttP://])</td>
<td class="input"><pre>[HttP://MediaWiki.Org/]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external autonumber" href="HttP://MediaWiki.Org/"&gt;[1]&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;[HttP://MediaWiki.Org/]&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1042</th>
<td class="status">fail</td>
<td class="description">Bug 34939 - Case insensitive link parsing ([HttP:// title])</td>
<td class="input"><pre>[HttP://MediaWiki.Org/ MediaWiki]</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external text" href="HttP://MediaWiki.Org/"&gt;MediaWiki&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;[HttP://MediaWiki.Org/ MediaWiki]&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1043</th>
<td class="status">fail</td>
<td class="description">Bug 34939 - Case insensitive link parsing (HttP://)</td>
<td class="input"><pre>HttP://MediaWiki.Org/</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external free" href="HttP://MediaWiki.Org/"&gt;HttP://MediaWiki.Org/&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;HttP://MediaWiki.Org/&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1044</th>
<td class="status">fail</td>
<td class="description">1. SOL-sensitive wikitext tokens as template-args<ul><li>parsoid: wt2html, wt2wt</li></ul>
</td>
<td class="input"><pre>{{echo|*a}}&#8990;
{{echo|#a}}&#8990;
{{echo|:a}}</pre></td>
<td class="expect"><pre>&lt;span about="#mwt1" typeof="mw:Transclusion"&gt;&#8990;
&lt;/span&gt;&lt;ul about="#mwt1"&gt;&lt;li&gt;a&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;span about="#mwt2" typeof="mw:Transclusion"&gt;&#8990;
&lt;/span&gt;&lt;ol about="#mwt2"&gt;&lt;li&gt;a&lt;/li&gt;&lt;/ol&gt;&#8990;
&lt;span about="#mwt3" typeof="mw:Transclusion"&gt;&#8990;
&lt;/span&gt;&lt;dl about="#mwt3"&gt;&lt;dd&gt;a&lt;/dd&gt;&lt;/dl&gt;</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt;a&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;ol&gt;&lt;li&gt;a&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
&lt;dl&gt;&lt;dd&gt;a&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">1045</th>
<td class="status">fail</td>
<td class="description">Ref: 1. ref-location should be replaced with an index span<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>A &lt;ref&gt;foo&lt;/ref&gt;&#8990;
B &lt;ref name="x"&gt;foo&lt;/ref&gt;&#8990;
C &lt;ref name="y" /&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;A &lt;span about="#mwt1" class="reference" data-mw='{"name":"ref","body":{"html":"foo"},"attrs":{}}' id="cite_ref-1-0" rel="dc:references" typeof="mw:Extension/ref"&gt;&lt;a href="#cite_note-1"&gt;[1]&lt;/a&gt;&lt;/span&gt;&#8990;
B &lt;span about="#mwt2" class="reference" data-mw='{"name":"ref","body":{"html":"foo"},"attrs":{"name":"x"}}' id="cite_ref-x-2-0" rel="dc:references" typeof="mw:Extension/ref"&gt;&lt;a href="#cite_note-x-2"&gt;[2]&lt;/a&gt;&lt;/span&gt;&#8990;
C &lt;span about="#mwt3" class="reference" data-mw='{"name":"ref","attrs":{"name":"y"}}' id="cite_ref-y-3-0" rel="dc:references" typeof="mw:Extension/ref"&gt;&lt;a href="#cite_note-y-3"&gt;[3]&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;A &lt;sup class="reference" id="cite_ref-1"&gt;&lt;a href="#cite_note-1"&gt;[1]&lt;/a&gt;&lt;/sup&gt;B &lt;sup class="reference" id="cite_ref-2"&gt;&lt;a href="#cite_note-2"&gt;[2]&lt;/a&gt;&lt;/sup&gt;C &lt;sup class="reference" id="cite_ref-3"&gt;&lt;a href="#cite_note-3"&gt;[3]&lt;/a&gt;&lt;/sup&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1046</th>
<td class="status">fail</td>
<td class="description">Ref: 2. ref-tags with identical names should all get the same index<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>A &lt;ref name="x"&gt;foo&lt;/ref&gt;&#8990;
B &lt;ref name="x" /&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;A &lt;span about="#mwt1" class="reference" data-mw='{"name":"ref","body":{"html":"foo"},"attrs":{"name":"x"}}' id="cite_ref-x-1-0" rel="dc:references" typeof="mw:Extension/ref"&gt;&lt;a href="#cite_note-x-1"&gt;[1]&lt;/a&gt;&lt;/span&gt;&#8990;
B &lt;span about="#mwt2" class="reference" data-mw='{"name":"ref","attrs":{"name":"x"}}' id="cite_ref-x-1-1" rel="dc:references" typeof="mw:Extension/ref"&gt;&lt;a href="#cite_note-x-1"&gt;[1]&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;A &lt;sup class="reference" id="cite_ref-1-1"&gt;&lt;a href="#cite_note-1"&gt;[1]&lt;/a&gt;&lt;/sup&gt;B &lt;sup class="reference" id="cite_ref-1-2"&gt;&lt;a href="#cite_note-1"&gt;[1]&lt;/a&gt;&lt;/sup&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1047</th>
<td class="status">fail</td>
<td class="description">Ref: 3. spaces in ref-names should be ignored<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>A &lt;ref name="x"&gt;foo&lt;/ref&gt;&#8990;
B &lt;ref name=" x " /&gt;&#8990;
C &lt;ref name= x  /&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;A &lt;span about="#mwt1" class="reference" data-mw='{"name":"ref","body":{"html":"foo"},"attrs":{"name":"x"}}' id="cite_ref-x-1-0" rel="dc:references" typeof="mw:Extension/ref"&gt;&lt;a href="#cite_note-x-1"&gt;[1]&lt;/a&gt;&lt;/span&gt;&#8990;
B &lt;span about="#mwt2" class="reference" data-mw='{"name":"ref","attrs":{"name":"x"}}' id="cite_ref-x-1-1" rel="dc:references" typeof="mw:Extension/ref"&gt;&lt;a href="#cite_note-x-1"&gt;[1]&lt;/a&gt;&lt;/span&gt;&#8990;
C &lt;span about="#mwt3" class="reference" data-mw='{"name":"ref","attrs":{"name":"x"}}' id="cite_ref-x-1-2" rel="dc:references" typeof="mw:Extension/ref"&gt;&lt;a href="#cite_note-x-1"&gt;[1]&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;A &lt;sup class="reference" id="cite_ref-1-1"&gt;&lt;a href="#cite_note-1"&gt;[1]&lt;/a&gt;&lt;/sup&gt;B &lt;sup class="reference" id="cite_ref-2"&gt;&lt;a href="#cite_note-2"&gt;[2]&lt;/a&gt;&lt;/sup&gt;C &lt;sup class="reference" id="cite_ref-1-2"&gt;&lt;a href="#cite_note-1"&gt;[1]&lt;/a&gt;&lt;/sup&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1048</th>
<td class="status">fail</td>
<td class="description">Ref: 4. 'constructor' should be accepted as a valid ref-name
(NOTE: constructor is a predefined property in JS and constructor as a ref-name can clash with it if not handled properly)<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>A &lt;ref name="constructor"&gt;foo&lt;/ref&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;A &lt;span about="#mwt1" class="reference" data-mw='{"name":"ref","body":{"html":"foo"},"attrs":{"name":"constructor"}}' id="cite_ref-constructor-1-0" rel="dc:references" typeof="mw:Extension/ref"&gt;&lt;a href="#cite_note-constructor-1"&gt;[1]&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;A &lt;sup class="reference" id="cite_ref-1"&gt;&lt;a href="#cite_note-1"&gt;[1]&lt;/a&gt;&lt;/sup&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1049</th>
<td class="status">fail</td>
<td class="description">Ref: 5. body should accept generic wikitext<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>A &lt;ref&gt;&#8990;
 This is a '''[[bolded link]]''' and this is a {{echo|transclusion}}&#8990;
&lt;/ref&gt;&#8990;
&#8990;
&lt;references /&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;A &lt;span about="#mwt1" class="reference" data-mw='{"name":"ref","body":{"html":"This is a &lt;b data-parsoid=\"{&amp;amp;quot;dsr&amp;amp;quot;:[19,40,3,3]}\"&gt;&lt;a rel=\"mw:WikiLink\" href=\"./Bolded_link\" data-parsoid=\"{&amp;amp;quot;a&amp;amp;quot;:{&amp;amp;quot;href&amp;amp;quot;:&amp;amp;quot;./Bolded_link&amp;amp;quot;},&amp;amp;quot;sa&amp;amp;quot;:{&amp;amp;quot;href&amp;amp;quot;:&amp;amp;quot;bolded link&amp;amp;quot;},&amp;amp;quot;stx&amp;amp;quot;:&amp;amp;quot;simple&amp;amp;quot;,&amp;amp;quot;dsr&amp;amp;quot;:[22,37,2,2]}\"&gt;bolded link&lt;/a&gt;&lt;/b&gt; and this is a &lt;span about=\"#mwt3\" typeof=\"mw:Transclusion\" data-mw=\"{&amp;amp;quot;target&amp;amp;quot;:{&amp;amp;quot;wt&amp;amp;quot;:&amp;amp;quot;echo&amp;amp;quot;,&amp;amp;quot;href&amp;amp;quot;:&amp;amp;quot;./Template:Echo&amp;amp;quot;},&amp;amp;quot;params&amp;amp;quot;:{&amp;amp;quot;1&amp;amp;quot;:{&amp;amp;quot;wt&amp;amp;quot;:&amp;amp;quot;transclusion&amp;amp;quot;}}}\" data-parsoid=\"{&amp;amp;quot;src&amp;amp;quot;:&amp;amp;quot;{{echo|transclusion}}&amp;amp;quot;,&amp;amp;quot;dsr&amp;amp;quot;:[55,76,null,null]}\"&gt;transclusion&lt;/span&gt;\n"},"attrs":{}}' id="cite_ref-1-0" rel="dc:references" typeof="mw:Extension/ref"&gt;&lt;a href="#cite_note-1"&gt;[1]&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&#8990;
&#8990;
&lt;ol about="#mwt2" class="references" data-mw='{"name":"references","attrs":{}}' typeof="mw:Extension/references"&gt;&#8990;
&lt;li about="#cite_note-1" id="cite_note-1"&gt;&lt;span rel="mw:referencedBy"&gt;&lt;a href="#cite_ref-1-0"&gt;&#8593;&lt;/a&gt;&lt;/span&gt; This is a &lt;b&gt;&lt;a rel="mw:WikiLink" href="./Bolded_link"&gt;bolded link&lt;/a&gt;&lt;/b&gt; and this is a &lt;span about="#mwt3" typeof="mw:Transclusion" data-mw='{"target":{"wt":"echo","href":"./Template:Echo"},"params":{"1":{"wt":"transclusion"}}}'&gt;transclusion&lt;/span&gt;&#8990;
&lt;/li&gt;&lt;/ol&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;A &lt;sup class="reference" id="cite_ref-1"&gt;&lt;a href="#cite_note-1"&gt;[1]&lt;/a&gt;&lt;/sup&gt;&#8990;
&lt;/p&gt;&lt;ol class="references"&gt;&lt;li id="cite_note-1"&gt;&lt;span class="mw-cite-backlink"&gt;&lt;a href="#cite_ref-1"&gt;&amp;#8593;&lt;/a&gt; &lt;/span&gt;&lt;span class="reference-text"&gt; This is a &lt;b&gt;&lt;a href="/wiki/bolded_link" title="bolded link"&gt;bolded link&lt;/a&gt;&lt;/b&gt; and this is a transclusion&#8990;
&lt;/span&gt;&lt;/li&gt;&lt;/ol&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1050</th>
<td class="status">fail</td>
<td class="description">Ref: 6. indent-pres should not be output in ref-body<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>A &lt;ref&gt;&#8990;
 foo&#8990;
 bar&#8990;
 baz&#8990;
&lt;/ref&gt;&#8990;
&#8990;
&lt;references /&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;A &lt;span about="#mwt1" class="reference" data-mw='{"name":"ref","body":{"html":"foo\n bar\n baz\n"},"attrs":{}}' id="cite_ref-1-0" rel="dc:references" typeof="mw:Extension/ref"&gt;&lt;a href="#cite_note-1"&gt;[1]&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&#8990;
&#8990;
&lt;ol about="#mwt2" class="references" data-mw='{"name":"references","attrs":{}}' typeof="mw:Extension/references"&gt;&#8990;
&lt;li about="#cite_note-1" id="cite_note-1"&gt;&lt;span rel="mw:referencedBy"&gt;&lt;a href="#cite_ref-1-0"&gt;&#8593;&lt;/a&gt;&lt;/span&gt; foo&#8990;
 bar&#8990;
 baz&#8990;
&lt;/li&gt;&lt;/ol&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;A &lt;sup class="reference" id="cite_ref-1"&gt;&lt;a href="#cite_note-1"&gt;[1]&lt;/a&gt;&lt;/sup&gt;&#8990;
&lt;/p&gt;&lt;ol class="references"&gt;&lt;li id="cite_note-1"&gt;&lt;span class="mw-cite-backlink"&gt;&lt;a href="#cite_ref-1"&gt;&amp;#8593;&lt;/a&gt; &lt;/span&gt;&lt;span class="reference-text"&gt; foo&#8990;
 bar&#8990;
 baz&lt;/span&gt;&lt;/li&gt;&lt;/ol&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1051</th>
<td class="status">fail</td>
<td class="description">Ref: 6. No p-wrapping in ref-body<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>A &lt;ref&gt;&#8990;
foo&#8990;
&#8990;
bar&#8990;
&#8990;
&#8990;
baz&#8990;
&#8990;
&#8990;
&#8990;
booz&#8990;
&lt;/ref&gt;&#8990;
&#8990;
&lt;references /&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;A &lt;span about="#mwt1" class="reference" data-mw='{"name":"ref","body":{"html":"foo\n\nbar\n\n\nbaz\n\n\n\nbooz\n"},"attrs":{}}' id="cite_ref-1-0" rel="dc:references" typeof="mw:Extension/ref"&gt;&lt;a href="#cite_note-1"&gt;[1]&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&#8990;
&#8990;
&lt;ol about="#mwt2" class="references" data-mw='{"name":"references","attrs":{}}' typeof="mw:Extension/references"&gt;&#8990;
&lt;li about="#cite_note-1" id="cite_note-1"&gt;&lt;span rel="mw:referencedBy"&gt;&lt;a href="#cite_ref-1-0"&gt;&#8593;&lt;/a&gt;&lt;/span&gt; foo&#8990;
&#8990;
bar&#8990;
&#8990;
&#8990;
baz&#8990;
&#8990;
&#8990;
&#8990;
booz&#8990;
&lt;/li&gt;&lt;/ol&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;A &lt;sup class="reference" id="cite_ref-1"&gt;&lt;a href="#cite_note-1"&gt;[1]&lt;/a&gt;&lt;/sup&gt;&#8990;
&lt;/p&gt;&lt;ol class="references"&gt;&lt;li id="cite_note-1"&gt;&lt;span class="mw-cite-backlink"&gt;&lt;a href="#cite_ref-1"&gt;&amp;#8593;&lt;/a&gt; &lt;/span&gt;&lt;span class="reference-text"&gt;&lt;p&gt;foo&#8990;
&lt;/p&gt;&lt;p&gt;bar&#8990;
&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&#8990;
baz&#8990;
&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&#8990;
&lt;/p&gt;&lt;p&gt;booz&#8990;
&lt;/p&gt;&lt;/span&gt;&lt;/li&gt;&lt;/ol&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1052</th>
<td class="status">fail</td>
<td class="description">Ref: 8. transclusion wikitext has lower precedence<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>A &lt;ref&gt; foo {{echo|&lt;/ref&gt; B C}}&#8990;
&#8990;
&lt;references /&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;A &lt;span about="#mwt1" class="reference" data-mw='{"name":"ref","body":{"html":"foo &lt;span typeof=\"mw:Nowiki\" data-parsoid=\"{&amp;amp;quot;src&amp;amp;quot;:&amp;amp;quot;{{&amp;amp;quot;,&amp;amp;quot;dsr&amp;amp;quot;:[12,14,2,null]}\"&gt;{{&lt;/span&gt;echo|"},"attrs":{}}' id="cite_ref-1-0" rel="dc:references" typeof="mw:Extension/ref"&gt;&lt;a href="#cite_note-1"&gt;[1]&lt;/a&gt;&lt;/span&gt; B C&lt;span typeof="mw:Nowiki"&gt;}}&lt;/span&gt;&lt;/p&gt;&#8990;
&#8990;
&lt;ol about="#mwt2" class="references" data-mw='{"name":"references","attrs":{}}' typeof="mw:Extension/references"&gt;&#8990;
&lt;li about="#cite_note-1" id="cite_note-1"&gt;&lt;span rel="mw:referencedBy"&gt;&lt;a href="#cite_ref-1-0"&gt;&#8593;&lt;/a&gt;&lt;/span&gt; foo &lt;span typeof="mw:Nowiki"&gt;{{&lt;/span&gt;echo|&lt;/li&gt;&lt;/ol&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;A &lt;sup class="reference" id="cite_ref-1"&gt;&lt;a href="#cite_note-1"&gt;[1]&lt;/a&gt;&lt;/sup&gt; B C&#8990;
&lt;/p&gt;&lt;ol class="references"&gt;&lt;li id="cite_note-1"&gt;&lt;span class="mw-cite-backlink"&gt;&lt;a href="#cite_ref-1"&gt;&amp;#8593;&lt;/a&gt; &lt;/span&gt;&lt;span class="reference-text"&gt; foo&lt;/span&gt;&lt;/li&gt;&lt;/ol&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1053</th>
<td class="status">fail</td>
<td class="description">Ref: 9. unclosed comments should not leak out of ref-body<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>A &lt;ref&gt; foo &lt;!--&lt;/ref&gt; B C&#8990;
&#8990;
&lt;references /&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;A &lt;span about="#mwt1" class="reference" data-mw='{"name":"ref","body":{"html":"foo &lt;!----&gt;"},"attrs":{}}' id="cite_ref-1-0" rel="dc:references" typeof="mw:Extension/ref"&gt;&lt;a href="#cite_note-1"&gt;[1]&lt;/a&gt;&lt;/span&gt; B C&lt;/p&gt;&#8990;
&#8990;
&lt;ol about="#mwt2" class="references" data-mw='{"name":"references","attrs":{}}' typeof="mw:Extension/references"&gt;&#8990;
&lt;li about="#cite_note-1" id="cite_note-1"&gt;&lt;span rel="mw:referencedBy"&gt;&lt;a href="#cite_ref-1-0"&gt;&#8593;&lt;/a&gt;&lt;/span&gt; foo &lt;!----&gt;&lt;/li&gt;&lt;/ol&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;A &lt;sup class="reference" id="cite_ref-1"&gt;&lt;a href="#cite_note-1"&gt;[1]&lt;/a&gt;&lt;/sup&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1054</th>
<td class="status">fail</td>
<td class="description">Ref: 10. Unclosed HTML tags should not leak out of ref-body<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>A &lt;ref&gt; &lt;b&gt; foo &lt;/ref&gt; B C&#8990;
&#8990;
&lt;references /&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;A &lt;span about="#mwt1" class="reference" data-mw='{"name":"ref","body":{"html":"&lt;b data-parsoid=\"{&amp;amp;quot;stx&amp;amp;quot;:&amp;amp;quot;html&amp;amp;quot;,&amp;amp;quot;autoInsertedEnd&amp;amp;quot;:true,&amp;amp;quot;dsr&amp;amp;quot;:[8,16,3,0]}\"&gt; foo &lt;/b&gt;"},"attrs":{}}' id="cite_ref-1-0" rel="dc:references" typeof="mw:Extension/ref"&gt;&lt;a href="#cite_note-1"&gt;[1]&lt;/a&gt;&lt;/span&gt; B C&lt;/p&gt;&#8990;
&#8990;
&lt;ol about="#mwt2" class="references" data-mw='{"name":"references","attrs":{}}' typeof="mw:Extension/references"&gt;&#8990;
&lt;li about="#cite_note-1" id="cite_note-1"&gt;&lt;span rel="mw:referencedBy"&gt;&lt;a href="#cite_ref-1-0"&gt;&#8593;&lt;/a&gt;&lt;/span&gt; &lt;b&gt; foo &lt;/b&gt;&lt;/li&gt;&lt;/ol&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;A &lt;sup class="reference" id="cite_ref-1"&gt;&lt;a href="#cite_note-1"&gt;[1]&lt;/a&gt;&lt;/sup&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1055</th>
<td class="status">fail</td>
<td class="description">Ref: 11. ref-tags acts like an inline element wrt P-wrapping<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>A &lt;ref&gt;foo&lt;/ref&gt; B&#8990;
C &lt;ref&gt;bar&lt;/ref&gt; D</pre></td>
<td class="expect"><pre>&lt;p&gt;A &lt;span about="#mwt1" class="reference" data-mw='{"name":"ref","body":{"html":"foo"},"attrs":{}}' id="cite_ref-1-0" rel="dc:references" typeof="mw:Extension/ref"&gt;&lt;a href="#cite_note-1"&gt;[1]&lt;/a&gt;&lt;/span&gt; B&#8990;
C &lt;span about="#mwt2" class="reference" data-mw='{"name":"ref","body":{"html":"bar"},"attrs":{}}' id="cite_ref-2-0" rel="dc:references" typeof="mw:Extension/ref"&gt;&lt;a href="#cite_note-2"&gt;[2]&lt;/a&gt;&lt;/span&gt; D&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;A &lt;sup class="reference" id="cite_ref-1"&gt;&lt;a href="#cite_note-1"&gt;[1]&lt;/a&gt;&lt;/sup&gt; B&#8990;
C &lt;sup class="reference" id="cite_ref-2"&gt;&lt;a href="#cite_note-2"&gt;[2]&lt;/a&gt;&lt;/sup&gt; D&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1056</th>
<td class="status">fail</td>
<td class="description">Ref: 12. ref-tags act as trailing newline migration barrier<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>&lt;!--the newline at the end of this line moves out of the p-tag--&gt;a&#8990;
&#8990;
b&lt;!--the newline at the end of this line stays inside the p-tag--&gt; &lt;ref /&gt;&#8990;
&lt;ref /&gt;&#8990;
&#8990;
c</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;!--the newline at the end of this line moves out of the p-tag--&gt;a&lt;/p&gt;&#8990;
&#8990;
&#8990;
&lt;p&gt;b&lt;!--the newline at the end of this line stays inside the p-tag--&gt; &lt;span about="#mwt1" class="reference" data-mw='{"name":"ref","attrs":{}}' id="cite_ref-1-0" rel="dc:references" typeof="mw:Extension/ref"&gt;&lt;a href="#cite_note-1"&gt;[1]&lt;/a&gt;&lt;/span&gt;&#8990;
&lt;span about="#mwt2" class="reference" data-mw='{"name":"ref","attrs":{}}' id="cite_ref-2-0" rel="dc:references" typeof="mw:Extension/ref"&gt;&lt;a href="#cite_note-2"&gt;[2]&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&#8990;
&#8990;
&#8990;
&lt;p&gt;c&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;a&#8990;
&lt;/p&gt;&lt;p&gt;b &lt;sup class="reference" id="cite_ref-1"&gt;&lt;a href="#cite_note-1"&gt;[1]&lt;/a&gt;&lt;/sup&gt;&lt;sup class="reference" id="cite_ref-2"&gt;&lt;a href="#cite_note-2"&gt;[2]&lt;/a&gt;&lt;/sup&gt;&#8990;
c&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1057</th>
<td class="status">fail</td>
<td class="description">Ref: 13. ref-tags are not SOL-transparent and block indent-pres<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>&lt;ref&gt;foo&lt;/ref&gt; A&#8990;
&lt;ref&gt;bar&#8990;
&lt;/ref&gt; B</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;span about="#mwt1" class="reference" data-mw='{"name":"ref","body":{"html":"foo"},"attrs":{}}' id="cite_ref-1-0" rel="dc:references" typeof="mw:Extension/ref"&gt;&lt;a href="#cite_note-1"&gt;[1]&lt;/a&gt;&lt;/span&gt; A&#8990;
&lt;span about="#mwt2" class="reference" data-mw='{"name":"ref","body":{"html":"bar\n"},"attrs":{}}' id="cite_ref-2-0" rel="dc:references" typeof="mw:Extension/ref"&gt;&lt;a href="#cite_note-2"&gt;[2]&lt;/a&gt;&lt;/span&gt; B&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;sup class="reference" id="cite_ref-1"&gt;&lt;a href="#cite_note-1"&gt;[1]&lt;/a&gt;&lt;/sup&gt; A&#8990;
&lt;sup class="reference" id="cite_ref-2"&gt;&lt;a href="#cite_note-2"&gt;[2]&lt;/a&gt;&lt;/sup&gt; B&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1058</th>
<td class="status">fail</td>
<td class="description">Ref: 14. A nested ref-tag should be emitted as plain text<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>&lt;ref&gt;foo &lt;ref&gt;bar&lt;/ref&gt; baz&lt;/ref&gt;&#8990;
&#8990;
&lt;references /&gt;</pre></td>
<td class="expect"><pre>&lt;span about="#mwt1" class="reference" data-mw="{&amp;quot;name&amp;quot;:&amp;quot;ref&amp;quot;,&amp;quot;body&amp;quot;:{&amp;quot;html&amp;quot;:&amp;quot;foo &amp;amp;lt;ref&amp;amp;gt;bar&amp;amp;lt;/ref&amp;amp;gt; baz&amp;quot;},&amp;quot;attrs&amp;quot;:{}}" id="cite_ref-1-0" rel="dc:references" typeof="mw:Extension/ref"&gt;&lt;a href="#cite_note-1"&gt;[1]&lt;/a&gt;&lt;/span&gt;&#8990;
&#8990;
&lt;ol class="references" typeof="mw:Extension/references" about="#mwt2" data-mw="{&amp;quot;name&amp;quot;:&amp;quot;references&amp;quot;,&amp;quot;attrs&amp;quot;:{}}"&gt;&#8990;
&lt;li about="#cite_note-1" id="cite_note-1" data-parsoid="{}"&gt;&lt;span rel="mw:referencedBy"&gt;&lt;a href="#cite_ref-1-0"&gt;&#8593;&lt;/a&gt;&lt;/span&gt; foo &amp;lt;ref&amp;gt;bar&amp;lt;/ref&amp;gt; baz&lt;/li&gt;&lt;/ol&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;sup class="reference" id="cite_ref-1"&gt;&lt;a href="#cite_note-1"&gt;[1]&lt;/a&gt;&lt;/sup&gt;&#8990;
&lt;/p&gt;&lt;ol class="references"&gt;&lt;li id="cite_note-1"&gt;&lt;span class="mw-cite-backlink"&gt;&lt;a href="#cite_ref-1"&gt;&amp;#8593;&lt;/a&gt; &lt;/span&gt;&lt;span class="reference-text"&gt;foo &lt;sup class="reference" id="cite_ref-2"&gt;&lt;a href="#cite_note-2"&gt;[2]&lt;/a&gt;&lt;/sup&gt; baz&#8990;
&lt;/span&gt;&lt;/li&gt;&lt;li id="cite_note-2"&gt;&lt;span class="mw-cite-backlink"&gt;&lt;a href="#cite_ref-2"&gt;&amp;#8593;&lt;/a&gt; &lt;/span&gt;&lt;span class="reference-text"&gt;bar&lt;/span&gt;&lt;/li&gt;&lt;/ol&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1059</th>
<td class="status">fail</td>
<td class="description">Ref: 15. ref-tags with identical names should get identical indexes<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>A1 &lt;ref name="a"&gt;foo&lt;/ref&gt; A2 &lt;ref name="a" /&gt;&#8990;
B1 &lt;ref name="b" /&gt; B2 &lt;ref name="b"&gt;bar&lt;/ref&gt;&#8990;
&#8990;
&lt;references /&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;A1 &lt;span about="#mwt3" class="reference" data-mw='{"name":"ref","body":{"html":"foo"},"attrs":{"name":"a"}}' id="cite_ref-a-1-0" rel="dc:references" typeof="mw:Extension/ref"&gt;&lt;a href="#cite_note-a-1"&gt;[1]&lt;/a&gt;&lt;/span&gt; A2 &lt;span about="#mwt4" class="reference" data-mw='{"name":"ref","attrs":{"name":"a"}}' id="cite_ref-a-1-1" rel="dc:references" typeof="mw:Extension/ref"&gt;&lt;a href="#cite_note-a-1"&gt;[1]&lt;/a&gt;&lt;/span&gt;&#8990;
B1 &lt;span about="#mwt7" class="reference" data-mw='{"name":"ref","attrs":{"name":"b"}}' id="cite_ref-b-2-0" rel="dc:references" typeof="mw:Extension/ref"&gt;&lt;a href="#cite_note-b-2"&gt;[2]&lt;/a&gt;&lt;/span&gt; B2 &lt;span about="#mwt8" class="reference" data-mw='{"name":"ref","body":{"html":"bar"},"attrs":{"name":"b"}}' id="cite_ref-b-2-1" rel="dc:references" typeof="mw:Extension/ref"&gt;&lt;a href="#cite_note-b-2"&gt;[2]&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&#8990;
&#8990;
&lt;ol about="#mwt10" class="references" data-mw='{"name":"references","attrs":{}}' typeof="mw:Extension/references"&gt;&lt;li about="#cite_note-a-1" id="cite_note-a-1"&gt;&lt;span rel="mw:referencedBy"&gt;&#8593; &lt;a href="#cite_ref-a-1-0"&gt;1.0&lt;/a&gt; &lt;a href="#cite_ref-a-1-1"&gt;1.1&lt;/a&gt;&lt;/span&gt; foo&lt;/li&gt;&lt;li about="#cite_note-b-2" id="cite_note-b-2"&gt;&lt;span rel="mw:referencedBy"&gt;&#8593; &lt;a href="#cite_ref-b-2-0"&gt;2.0&lt;/a&gt; &lt;a href="#cite_ref-b-2-1"&gt;2.1&lt;/a&gt;&lt;/span&gt; bar&lt;/li&gt;&lt;/ol&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;A1 &lt;sup class="reference" id="cite_ref-1-1"&gt;&lt;a href="#cite_note-1"&gt;[1]&lt;/a&gt;&lt;/sup&gt; A2 &lt;sup class="reference" id="cite_ref-1-2"&gt;&lt;a href="#cite_note-1"&gt;[1]&lt;/a&gt;&lt;/sup&gt;B1 &lt;sup class="reference" id="cite_ref-2-1"&gt;&lt;a href="#cite_note-2"&gt;[2]&lt;/a&gt;&lt;/sup&gt; B2 &lt;sup class="reference" id="cite_ref-2-2"&gt;&lt;a href="#cite_note-2"&gt;[2]&lt;/a&gt;&lt;/sup&gt;&#8990;
&lt;/p&gt;&lt;ol class="references"&gt;&lt;li id="cite_note-1"&gt;&lt;span class="mw-cite-backlink"&gt;&amp;#8593; &lt;sup&gt;&lt;a href="#cite_ref-1-1"&gt;1.0&lt;/a&gt;&lt;/sup&gt; &lt;sup&gt;&lt;a href="#cite_ref-1-2"&gt;1.1&lt;/a&gt;&lt;/sup&gt; &lt;/span&gt;&lt;span class="reference-text"&gt;foo&lt;/span&gt;&lt;/li&gt;&lt;li id="cite_note-2"&gt;&lt;span class="mw-cite-backlink"&gt;&amp;#8593; &lt;sup&gt;&lt;a href="#cite_ref-2-1"&gt;2.0&lt;/a&gt;&lt;/sup&gt; &lt;sup&gt;&lt;a href="#cite_ref-2-2"&gt;2.1&lt;/a&gt;&lt;/sup&gt; &lt;/span&gt;&lt;span class="reference-text"&gt;bar&lt;/span&gt;&lt;/li&gt;&lt;/ol&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1060</th>
<td class="status">fail</td>
<td class="description">References: 1. references tag without any refs should be handled properly<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>&lt;references /&gt;</pre></td>
<td class="expect"><pre>&lt;ol about="#mwt2" class="references" data-mw='{"name":"references","attrs":{}}' typeof="mw:Extension/references"&gt;&lt;/ol&gt;</pre></td>
<td class="output"><pre></pre></td>
</tr>
<tr class="fail">
<th class="index">1061</th>
<td class="status">fail</td>
<td class="description">References: 2. references tag with group only outputs references from that group<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>A &lt;ref group="a"&gt;foo&lt;/ref&gt;&#8990;
B &lt;ref group="b"&gt;bar&lt;/ref&gt;&#8990;
&#8990;
&lt;references group='a' /&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;A &lt;span about="#mwt2" class="reference" data-mw='{"name":"ref","body":{"html":"foo"},"attrs":{"group":"a"}}' id="cite_ref-1-0" rel="dc:references" typeof="mw:Extension/ref"&gt;&lt;a href="#cite_note-1"&gt;[a 1]&lt;/a&gt;&lt;/span&gt;&#8990;
B &lt;span about="#mwt4" class="reference" data-mw='{"name":"ref","body":{"html":"bar"},"attrs":{"group":"b"}}' id="cite_ref-1-0" rel="dc:references" typeof="mw:Extension/ref"&gt;&lt;a href="#cite_note-1"&gt;[b 1]&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&#8990;
&#8990;
&lt;ol about="#mwt6" class="references" data-mw='{"name":"references","attrs":{"group":"a"}}' typeof="mw:Extension/references"&gt;&lt;li about="#cite_note-1" id="cite_note-1"&gt;&lt;span rel="mw:referencedBy"&gt;&lt;a href="#cite_ref-1-0"&gt;&#8593;&lt;/a&gt;&lt;/span&gt; foo&lt;/li&gt;&lt;/ol&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;A &lt;sup class="reference" id="cite_ref-1"&gt;&lt;a href="#cite_note-1"&gt;[a 1]&lt;/a&gt;&lt;/sup&gt;B &lt;sup class="reference" id="cite_ref-2"&gt;&lt;a href="#cite_note-2"&gt;[b 1]&lt;/a&gt;&lt;/sup&gt;&#8990;
&lt;/p&gt;&lt;ol class="references"&gt;&lt;li id="cite_note-1"&gt;&lt;span class="mw-cite-backlink"&gt;&lt;a href="#cite_ref-1"&gt;&amp;#8593;&lt;/a&gt; &lt;/span&gt;&lt;span class="reference-text"&gt;foo&lt;/span&gt;&lt;/li&gt;&lt;/ol&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1062</th>
<td class="status">fail</td>
<td class="description">References: 3. ref list should be cleared after processing references<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>A &lt;ref&gt;foo&lt;/ref&gt;&#8990;
&#8990;
&lt;references /&gt;&#8990;
&#8990;
B &lt;ref&gt;bar&lt;/ref&gt;&#8990;
&#8990;
&lt;references /&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;A &lt;span about="#mwt2" class="reference" data-mw='{"name":"ref","body":{"html":"foo"},"attrs":{}}' id="cite_ref-1-0" rel="dc:references" typeof="mw:Extension/ref"&gt;&lt;a href="#cite_note-1"&gt;[1]&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&#8990;
&#8990;
&lt;ol about="#mwt4" class="references" data-mw='{"name":"references","attrs":{}}' typeof="mw:Extension/references"&gt;&lt;li about="#cite_note-1" id="cite_note-1"&gt;&lt;span rel="mw:referencedBy"&gt;&lt;a href="#cite_ref-1-0"&gt;&#8593;&lt;/a&gt;&lt;/span&gt; foo&lt;/li&gt;&lt;/ol&gt;&#8990;
&#8990;
&lt;p&gt;B &lt;span about="#mwt6" class="reference" data-mw='{"name":"ref","body":{"html":"bar"},"attrs":{}}' id="cite_ref-1-0" rel="dc:references" typeof="mw:Extension/ref"&gt;&lt;a href="#cite_note-1"&gt;[1]&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&#8990;
&#8990;
&lt;ol about="#mwt8" class="references" data-mw='{"name":"references","attrs":{}}' typeof="mw:Extension/references"&gt;&lt;li about="#cite_note-1" id="cite_note-1"&gt;&lt;span rel="mw:referencedBy"&gt;&lt;a href="#cite_ref-1-0"&gt;&#8593;&lt;/a&gt;&lt;/span&gt; bar&lt;/li&gt;&lt;/ol&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;A &lt;sup class="reference" id="cite_ref-1"&gt;&lt;a href="#cite_note-1"&gt;[1]&lt;/a&gt;&lt;/sup&gt;&#8990;
&lt;/p&gt;&lt;ol class="references"&gt;&lt;li id="cite_note-1"&gt;&lt;span class="mw-cite-backlink"&gt;&lt;a href="#cite_ref-1"&gt;&amp;#8593;&lt;/a&gt; &lt;/span&gt;&lt;span class="reference-text"&gt;foo&lt;/span&gt;&lt;/li&gt;&lt;li id="cite_note-2"&gt;&lt;span class="mw-cite-backlink"&gt;&lt;a href="#cite_ref-2"&gt;&amp;#8593;&lt;/a&gt; &lt;/span&gt;&lt;span class="reference-text"&gt;bar&lt;/span&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;B &lt;sup class="reference" id="cite_ref-2"&gt;&lt;a href="#cite_note-2"&gt;[2]&lt;/a&gt;&lt;/sup&gt;&#8990;
&lt;/p&gt;&lt;ol class="references"&gt;&lt;li id="cite_note-1"&gt;&lt;span class="mw-cite-backlink"&gt;&lt;a href="#cite_ref-1"&gt;&amp;#8593;&lt;/a&gt; &lt;/span&gt;&lt;span class="reference-text"&gt;foo&lt;/span&gt;&lt;/li&gt;&lt;li id="cite_note-2"&gt;&lt;span class="mw-cite-backlink"&gt;&lt;a href="#cite_ref-2"&gt;&amp;#8593;&lt;/a&gt; &lt;/span&gt;&lt;span class="reference-text"&gt;bar&lt;/span&gt;&lt;/li&gt;&lt;/ol&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1063</th>
<td class="status">fail</td>
<td class="description">References: 4. only referenced group should be cleared after processing references<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>A &lt;ref group="a"&gt;afoo&lt;/ref&gt;&#8990;
B &lt;ref&gt;bfoo&lt;/ref&gt;&#8990;
&#8990;
&lt;references group="a"/&gt;&#8990;
&#8990;
C &lt;ref&gt;cfoo&lt;/ref&gt;&#8990;
&#8990;
&lt;references /&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;A &lt;span about="#mwt2" class="reference" data-mw='{"name":"ref","body":{"html":"afoo"},"attrs":{"group":"a"}}' id="cite_ref-1-0" rel="dc:references" typeof="mw:Extension/ref"&gt;&lt;a href="#cite_note-1"&gt;[a 1]&lt;/a&gt;&lt;/span&gt;&#8990;
B &lt;span about="#mwt4" class="reference" data-mw='{"name":"ref","body":{"html":"bfoo"},"attrs":{}}' id="cite_ref-1-0" rel="dc:references" typeof="mw:Extension/ref" data-parsoid='{"src":"&lt;ref&gt;bfoo&lt;/ref&gt;","dsr":[30,45,5,6]}'&gt;&lt;a href="#cite_note-1"&gt;[1]&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&#8990;
&#8990;
&lt;ol about="#mwt6" class="references" data-mw='{"name":"references","attrs":{"group":"a"}}' typeof="mw:Extension/references"&gt;&lt;li about="#cite_note-1" id="cite_note-1"&gt;&lt;span rel="mw:referencedBy"&gt;&lt;a href="#cite_ref-1-0"&gt;&#8593;&lt;/a&gt;&lt;/span&gt; afoo&lt;/li&gt;&lt;/ol&gt;&#8990;
&#8990;
&lt;p&gt;C &lt;span about="#mwt8" class="reference" data-mw='{"name":"ref","body":{"html":"cfoo"},"attrs":{}}' id="cite_ref-2-0" rel="dc:references" typeof="mw:Extension/ref"&gt;&lt;a href="#cite_note-2"&gt;[2]&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&#8990;
&#8990;
&lt;ol about="#mwt10" class="references" data-mw='{"name":"references","attrs":{}}' typeof="mw:Extension/references"&gt;&lt;li about="#cite_note-1" id="cite_note-1"&gt;&lt;span rel="mw:referencedBy"&gt;&lt;a href="#cite_ref-1-0"&gt;&#8593;&lt;/a&gt;&lt;/span&gt; bfoo&lt;/li&gt;&lt;li about="#cite_note-2" id="cite_note-2"&gt;&lt;span rel="mw:referencedBy"&gt;&lt;a href="#cite_ref-2-0"&gt;&#8593;&lt;/a&gt;&lt;/span&gt; cfoo&lt;/li&gt;&lt;/ol&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;A &lt;sup class="reference" id="cite_ref-1"&gt;&lt;a href="#cite_note-1"&gt;[a 1]&lt;/a&gt;&lt;/sup&gt;B &lt;sup class="reference" id="cite_ref-2"&gt;&lt;a href="#cite_note-2"&gt;[1]&lt;/a&gt;&lt;/sup&gt;&#8990;
&lt;/p&gt;&lt;ol class="references"&gt;&lt;li id="cite_note-1"&gt;&lt;span class="mw-cite-backlink"&gt;&lt;a href="#cite_ref-1"&gt;&amp;#8593;&lt;/a&gt; &lt;/span&gt;&lt;span class="reference-text"&gt;afoo&lt;/span&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;C &lt;sup class="reference" id="cite_ref-3"&gt;&lt;a href="#cite_note-3"&gt;[2]&lt;/a&gt;&lt;/sup&gt;&#8990;
&lt;/p&gt;&lt;ol class="references"&gt;&lt;li id="cite_note-2"&gt;&lt;span class="mw-cite-backlink"&gt;&lt;a href="#cite_ref-2"&gt;&amp;#8593;&lt;/a&gt; &lt;/span&gt;&lt;span class="reference-text"&gt;bfoo&lt;/span&gt;&lt;/li&gt;&lt;li id="cite_note-3"&gt;&lt;span class="mw-cite-backlink"&gt;&lt;a href="#cite_ref-3"&gt;&amp;#8593;&lt;/a&gt; &lt;/span&gt;&lt;span class="reference-text"&gt;cfoo&lt;/span&gt;&lt;/li&gt;&lt;/ol&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1064</th>
<td class="status">fail</td>
<td class="description">References: 5. ref tags in references should be processed while ignoring all other content<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>A &lt;ref name="a" /&gt;&#8990;
B &lt;ref name="b"&gt;bar&lt;/ref&gt;&#8990;
&#8990;
&lt;references&gt;&#8990;
&lt;ref name="a"&gt;foo&lt;/ref&gt;&#8990;
This should just get lost.&#8990;
&lt;/references&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;A &lt;span about="#mwt2" class="reference" data-mw='{"name":"ref","attrs":{"name":"a"}}' id="cite_ref-a-1-0" rel="dc:references" typeof="mw:Extension/ref"&gt;&lt;a href="#cite_note-a-1"&gt;[1]&lt;/a&gt;&lt;/span&gt;&#8990;
B &lt;span about="#mwt4" class="reference" data-mw='{"name":"ref","body":{"html":"bar"},"attrs":{"name":"b"}}' id="cite_ref-b-2-0" rel="dc:references" typeof="mw:Extension/ref"&gt;&lt;a href="#cite_note-b-2"&gt;[2]&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&#8990;
&#8990;
&lt;ol about="#mwt7" class="references" data-mw='{"name":"references","body":{"extsrc":"&lt;ref name=\"a\"&gt;foo&lt;/ref&gt;\nThis should just get lost."},"attrs":{}}' typeof="mw:Extension/references"&gt;&lt;li about="#cite_note-a-1" id="cite_note-a-1"&gt;&lt;span rel="mw:referencedBy"&gt;&lt;a href="#cite_ref-a-1-0"&gt;&#8593;&lt;/a&gt;&lt;/span&gt; foo&lt;/li&gt;&lt;li about="#cite_note-b-2" id="cite_note-b-2"&gt;&lt;span rel="mw:referencedBy"&gt;&lt;a href="#cite_ref-b-2-0"&gt;&#8593;&lt;/a&gt;&lt;/span&gt; bar&lt;/li&gt;&lt;/ol&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;A &lt;sup class="reference" id="cite_ref-1"&gt;&lt;a href="#cite_note-1"&gt;[1]&lt;/a&gt;&lt;/sup&gt;B &lt;sup class="reference" id="cite_ref-2"&gt;&lt;a href="#cite_note-2"&gt;[2]&lt;/a&gt;&lt;/sup&gt;&#8990;
&lt;/p&gt;&lt;ol class="references"&gt;&lt;li id="cite_note-1"&gt;&lt;span class="mw-cite-backlink"&gt;&lt;a href="#cite_ref-1"&gt;&amp;#8593;&lt;/a&gt; &lt;/span&gt;&lt;span class="reference-text"&gt;foo&lt;/span&gt;&lt;/li&gt;&lt;li id="cite_note-2"&gt;&lt;span class="mw-cite-backlink"&gt;&lt;a href="#cite_ref-2"&gt;&amp;#8593;&lt;/a&gt; &lt;/span&gt;&lt;span class="reference-text"&gt;bar&lt;/span&gt;&lt;/li&gt;&lt;/ol&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1065</th>
<td class="status">fail</td>
<td class="description">References: 6. &lt;references /&gt; from a transclusion<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>{{echo|&lt;references /&gt;}}</pre></td>
<td class="expect"><pre>&lt;ol class="references" about="#mwt2" typeof="mw:Transclusion" data-mw='{"target":{"wt":"echo","href":"./Template:Echo"},"params":{"1":{"wt":"&lt;references /&gt;"}},"i":0}'&gt;&lt;/ol&gt;</pre></td>
<td class="output"><pre></pre></td>
</tr>
<tr class="fail">
<th class="index">1066</th>
<td class="status">fail</td>
<td class="description">Headings: 0. Unnested<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>&lt;nowiki&gt;=foo=&lt;/nowiki&gt;&#8990;
&#8990;
&lt;nowiki&gt; =foo= &lt;/nowiki&gt;&#8990;
&lt;!--cmt--&gt;&#8990;
&lt;nowiki&gt;=foo=&lt;/nowiki&gt;&#8990;
&#8990;
=foo''a''&lt;nowiki&gt;=&lt;/nowiki&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;span typeof="mw:Nowiki"&gt;=foo=&lt;/span&gt;&lt;/p&gt;&#8990;
&#8990;
&lt;p&gt;&lt;span typeof="mw:Nowiki"&gt; =foo= &lt;/span&gt;&#8990;
&lt;!--cmt--&gt;&#8990;
&lt;span typeof="mw:Nowiki"&gt;=foo=&lt;/span&gt;&lt;/p&gt;&#8990;
&#8990;
&lt;p&gt;=foo&lt;i&gt;a&lt;/i&gt;&lt;span typeof="mw:Nowiki"&gt;=&lt;/span&gt;&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;=foo=&#8990;
&lt;/p&gt;&lt;p&gt; =foo= &#8990;
=foo=&#8990;
&lt;/p&gt;&lt;p&gt;=foo&lt;i&gt;a&lt;/i&gt;=&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1067</th>
<td class="status">fail</td>
<td class="description">Headings: 1. Nested inside html<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>=&lt;nowiki&gt;=foo=&lt;/nowiki&gt;=&#8990;
&#8990;
==&lt;nowiki&gt;=foo=&lt;/nowiki&gt;==&#8990;
&#8990;
===&lt;nowiki&gt;=foo=&lt;/nowiki&gt;===&#8990;
&#8990;
====&lt;nowiki&gt;=foo=&lt;/nowiki&gt;====&#8990;
&#8990;
=====&lt;nowiki&gt;=foo=&lt;/nowiki&gt;=====&#8990;
&#8990;
======&lt;nowiki&gt;=foo=&lt;/nowiki&gt;======</pre></td>
<td class="expect"><pre>&lt;h1&gt;&lt;span typeof="mw:Nowiki"&gt;=foo=&lt;/span&gt;&lt;/h1&gt;&#8990;
&lt;h2&gt;&lt;span typeof="mw:Nowiki"&gt;=foo=&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h3&gt;&lt;span typeof="mw:Nowiki"&gt;=foo=&lt;/span&gt;&lt;/h3&gt;&#8990;
&lt;h4&gt;&lt;span typeof="mw:Nowiki"&gt;=foo=&lt;/span&gt;&lt;/h4&gt;&#8990;
&lt;h5&gt;&lt;span typeof="mw:Nowiki"&gt;=foo=&lt;/span&gt;&lt;/h5&gt;&#8990;
&lt;h6&gt;&lt;span typeof="mw:Nowiki"&gt;=foo=&lt;/span&gt;&lt;/h6&gt;</pre></td>
<td class="output"><pre>&lt;h1&gt;&lt;span class="mw-headline" id="&amp;lt;nowiki&amp;gt;=foo=&amp;lt;/nowiki&amp;gt;"&gt;&amp;lt;nowiki&amp;gt;=foo=&amp;lt;/nowiki&amp;gt;&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: &amp;lt;nowiki&amp;gt;=foo=&amp;lt;/nowiki&amp;gt;"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="&amp;lt;nowiki&amp;gt;=foo=&amp;lt;/nowiki&amp;gt;_2"&gt;&amp;lt;nowiki&amp;gt;=foo=&amp;lt;/nowiki&amp;gt;&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: &amp;lt;nowiki&amp;gt;=foo=&amp;lt;/nowiki&amp;gt;"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h3&gt;&lt;span class="mw-headline" id="&amp;lt;nowiki&amp;gt;=foo=&amp;lt;/nowiki&amp;gt;_3"&gt;&amp;lt;nowiki&amp;gt;=foo=&amp;lt;/nowiki&amp;gt;&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: &amp;lt;nowiki&amp;gt;=foo=&amp;lt;/nowiki&amp;gt;"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;&#8990;
&lt;h4&gt;&lt;span class="mw-headline" id="&amp;lt;nowiki&amp;gt;=foo=&amp;lt;/nowiki&amp;gt;_4"&gt;&amp;lt;nowiki&amp;gt;=foo=&amp;lt;/nowiki&amp;gt;&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: &amp;lt;nowiki&amp;gt;=foo=&amp;lt;/nowiki&amp;gt;"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h4&gt;&#8990;
&lt;h5&gt;&lt;span class="mw-headline" id="&amp;lt;nowiki&amp;gt;=foo=&amp;lt;/nowiki&amp;gt;_5"&gt;&amp;lt;nowiki&amp;gt;=foo=&amp;lt;/nowiki&amp;gt;&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: &amp;lt;nowiki&amp;gt;=foo=&amp;lt;/nowiki&amp;gt;"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h5&gt;&#8990;
&lt;h6&gt;&lt;span class="mw-headline" id="&amp;lt;nowiki&amp;gt;=foo=&amp;lt;/nowiki&amp;gt;_6"&gt;&amp;lt;nowiki&amp;gt;=foo=&amp;lt;/nowiki&amp;gt;&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: &amp;lt;nowiki&amp;gt;=foo=&amp;lt;/nowiki&amp;gt;"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h6&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">1068</th>
<td class="status">fail</td>
<td class="description">Headings: 2. Outside heading nest on a single line &lt;h1&gt;foo&lt;/h1&gt;*bar<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>=foo=&#8990;
&lt;nowiki&gt;*&lt;/nowiki&gt;bar&#8990;
&#8990;
=foo=&#8990;
=bar&#8990;
&#8990;
=foo=&#8990;
&lt;nowiki&gt;=bar=&lt;/nowiki&gt;</pre></td>
<td class="expect"><pre>&lt;h1&gt;foo&lt;/h1&gt;*bar&#8990;
&lt;h1&gt;foo&lt;/h1&gt;=bar&#8990;
&lt;h1&gt;foo&lt;/h1&gt;=bar=</pre></td>
<td class="output"><pre>&lt;h1&gt;&lt;span class="mw-headline" id="foo"&gt;foo&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: foo"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt;&#8990;
&lt;p&gt;*bar&#8990;
&lt;/p&gt;&lt;h1&gt;&lt;span class="mw-headline" id="foo_2"&gt;foo&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: foo"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt;&#8990;
&lt;p&gt;=bar&#8990;
&lt;/p&gt;&lt;h1&gt;&lt;span class="mw-headline" id="foo_3"&gt;foo&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: foo"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt;&#8990;
&lt;p&gt;=bar=&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1069</th>
<td class="status">fail</td>
<td class="description">Headings: 3. Nested inside html with wikitext split by html tags<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>=='''bold'''&lt;nowiki&gt;foo=&lt;/nowiki&gt;=</pre></td>
<td class="expect"><pre>&lt;h1&gt;=&lt;b&gt;bold&lt;/b&gt;&lt;span typeof="mw:Nowiki"&gt;foo=&lt;/span&gt;&lt;/h1&gt;</pre></td>
<td class="output"><pre>&lt;h1&gt;&lt;span class="mw-headline" id="='''bold'''&amp;lt;nowiki&amp;gt;foo=&amp;lt;/nowiki&amp;gt;"&gt;='''bold'''&amp;lt;nowiki&amp;gt;foo=&amp;lt;/nowiki&amp;gt;&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: ='''bold'''&amp;lt;nowiki&amp;gt;foo=&amp;lt;/nowiki&amp;gt;"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">1070</th>
<td class="status">fail</td>
<td class="description">Headings: 4a. No escaping needed (testing just h1 and h2)<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>==foo=&#8990;
&#8990;
=foo==&#8990;
&#8990;
= =foo= =&#8990;
&#8990;
==foo= bar=&#8990;
&#8990;
===foo==&#8990;
&#8990;
==foo===&#8990;
&#8990;
=''=''foo==&#8990;
&#8990;
=&lt;nowiki&gt;=&lt;/nowiki&gt;=</pre></td>
<td class="expect"><pre>&lt;h1&gt;=foo&lt;/h1&gt;&#8990;
&lt;h1&gt;foo=&lt;/h1&gt;&#8990;
&lt;h1&gt; =foo= &lt;/h1&gt;&#8990;
&lt;h1&gt;=foo= bar&lt;/h1&gt;&#8990;
&lt;h2&gt;=foo&lt;/h2&gt;&#8990;
&lt;h2&gt;foo=&lt;/h2&gt;&#8990;
&lt;h1&gt;&lt;i&gt;=&lt;/i&gt;foo=&lt;/h1&gt;&#8990;
&lt;h1&gt;&lt;span typeof="mw:Nowiki"&gt;=&lt;/span&gt;&lt;/h1&gt;</pre></td>
<td class="output"><pre>&lt;h1&gt;&lt;span class="mw-headline" id="=foo"&gt;=foo&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: =foo"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt;&#8990;
&lt;h1&gt;&lt;span class="mw-headline" id="foo="&gt;foo=&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: foo="&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt;&#8990;
&lt;h1&gt;&lt;span class="mw-headline" id="=foo="&gt;=foo=&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: =foo="&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt;&#8990;
&lt;h1&gt;&lt;span class="mw-headline" id="=foo= bar"&gt;=foo= bar&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: =foo= bar"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="=foo_2"&gt;=foo&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: =foo"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="foo=_2"&gt;foo=&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: foo="&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h1&gt;&lt;span class="mw-headline" id="''=''foo="&gt;''=''foo=&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: ''=''foo="&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt;&#8990;
&lt;h1&gt;&lt;span class="mw-headline" id="&amp;lt;nowiki&amp;gt;=&amp;lt;/nowiki&amp;gt;"&gt;&amp;lt;nowiki&amp;gt;=&amp;lt;/nowiki&amp;gt;&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: &amp;lt;nowiki&amp;gt;=&amp;lt;/nowiki&amp;gt;"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">1071</th>
<td class="status">fail</td>
<td class="description">Headings: 4b. No escaping needed (inside p-tags)<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>===&#8990;
=foo= x&#8990;
=foo= &lt;s&gt;&lt;/s&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;===&#8990;
=foo= x&#8990;
=foo= &lt;s&gt;&lt;/s&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;h1&gt;&lt;span class="mw-headline" id="="&gt;=&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: ="&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt;&#8990;
&lt;p&gt;=foo= x&#8990;
=foo= &lt;s/&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1072</th>
<td class="status">fail</td>
<td class="description">Headings: 5. Empty headings<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>=&lt;nowiki/&gt;=&#8990;
&#8990;
==&lt;nowiki/&gt;==&#8990;
&#8990;
===&lt;nowiki/&gt;===&#8990;
&#8990;
====&lt;nowiki/&gt;====&#8990;
&#8990;
=====&lt;nowiki/&gt;=====&#8990;
&#8990;
======&lt;nowiki/&gt;======</pre></td>
<td class="expect"><pre>&lt;h1&gt;&lt;/h1&gt;&#8990;
&lt;h2&gt;&lt;/h2&gt;&#8990;
&lt;h3&gt;&lt;/h3&gt;&#8990;
&lt;h4&gt;&lt;/h4&gt;&#8990;
&lt;h5&gt;&lt;/h5&gt;&#8990;
&lt;h6&gt;&lt;/h6&gt;</pre></td>
<td class="output"><pre>&lt;h1&gt;&lt;span class="mw-headline" id="&amp;lt;nowiki/&amp;gt;"&gt;&amp;lt;nowiki/&amp;gt;&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: &amp;lt;nowiki/&amp;gt;"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt;&#8990;
&lt;h2&gt;&lt;span class="mw-headline" id="&amp;lt;nowiki/&amp;gt;_2"&gt;&amp;lt;nowiki/&amp;gt;&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: &amp;lt;nowiki/&amp;gt;"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&#8990;
&lt;h3&gt;&lt;span class="mw-headline" id="&amp;lt;nowiki/&amp;gt;_3"&gt;&amp;lt;nowiki/&amp;gt;&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: &amp;lt;nowiki/&amp;gt;"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;&#8990;
&lt;h4&gt;&lt;span class="mw-headline" id="&amp;lt;nowiki/&amp;gt;_4"&gt;&amp;lt;nowiki/&amp;gt;&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: &amp;lt;nowiki/&amp;gt;"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h4&gt;&#8990;
&lt;h5&gt;&lt;span class="mw-headline" id="&amp;lt;nowiki/&amp;gt;_5"&gt;&amp;lt;nowiki/&amp;gt;&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: &amp;lt;nowiki/&amp;gt;"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h5&gt;&#8990;
&lt;h6&gt;&lt;span class="mw-headline" id="&amp;lt;nowiki/&amp;gt;_6"&gt;&amp;lt;nowiki/&amp;gt;&lt;/span&gt;&lt;span class="mw-editsection"&gt;&lt;span class="mw-editsection-bracket"&gt;[&lt;/span&gt;&lt;a href="" title="Edit section: &amp;lt;nowiki/&amp;gt;"&gt;edit&lt;/a&gt;&lt;span class="mw-editsection-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h6&gt;&#8990;
</pre></td>
</tr>
<tr class="tidy">
<th class="index">1073</th>
<td class="status">tidy</td>
<td class="description">Headings: 6a. Heading chars in SOL context (with trailing spaces)<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>&lt;nowiki&gt;=a=&lt;/nowiki&gt;&#8990;
&#8990;
&lt;nowiki&gt;=a=&lt;/nowiki&gt; &#8990;
&#8990;
&lt;nowiki&gt;=a=&lt;/nowiki&gt;	&#8990;
&#8990;
&lt;nowiki&gt;=a=&lt;/nowiki&gt; 	</pre></td>
<td class="expect"><pre>&lt;p&gt;=a=&lt;/p&gt;&#8990;
&lt;p&gt;=a= &lt;/p&gt;&#8990;
&lt;p&gt;=a=	&lt;/p&gt;&#8990;
&lt;p&gt;=a= 	&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;=a=&#8990;
&lt;/p&gt;&lt;p&gt;=a= &#8990;
&lt;/p&gt;&lt;p&gt;=a=	&#8990;
&lt;/p&gt;&lt;p&gt;=a= 	&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">1074</th>
<td class="status">tidy</td>
<td class="description">Headings: 6b. Heading chars in SOL context (with trailing newlines)<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>&lt;nowiki&gt;=a=&#8990;
b&lt;/nowiki&gt;&#8990;
&#8990;
&lt;nowiki&gt;=a= &#8990;
b&lt;/nowiki&gt;&#8990;
&#8990;
&lt;nowiki&gt;=a=	&#8990;
b&lt;/nowiki&gt;&#8990;
&#8990;
&lt;nowiki&gt;=a=	 &#8990;
b&lt;/nowiki&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;=a=&#8990;
b&lt;/p&gt;&#8990;
&lt;p&gt;=a= &#8990;
b&lt;/p&gt;&#8990;
&lt;p&gt;=a=	&#8990;
b&lt;/p&gt;&#8990;
&lt;p&gt;=a=	 &#8990;
b&lt;/p&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;=a=&#8990;
b&#8990;
&lt;/p&gt;&lt;p&gt;=a= &#8990;
b&#8990;
&lt;/p&gt;&lt;p&gt;=a=	&#8990;
b&#8990;
&lt;/p&gt;&lt;p&gt;=a=	 &#8990;
b&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">1075</th>
<td class="status">tidy</td>
<td class="description">Headings: 6c. Heading chars in SOL context (leading newline break)<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>a&#8990;
&lt;nowiki&gt;=b=&lt;/nowiki&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;a&#8990;
=b=&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;a&#8990;
=b=&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1076</th>
<td class="status">fail</td>
<td class="description">Headings: 6d. Heading chars in SOL context (with interspersed comments)<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>&lt;!--c0--&gt;&lt;nowiki&gt;=a=&lt;/nowiki&gt;&#8990;
&lt;!--c1--&gt;&#8990;
&lt;nowiki&gt;=a=&lt;/nowiki&gt; &lt;!--c2--&gt;	 &lt;!--c3--&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;!--c0--&gt;=a=&lt;/p&gt;&#8990;
&lt;p&gt;&lt;!--c1--&gt;=a= &lt;!--c2--&gt;	 &lt;!--c3--&gt;&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;=a=&#8990;
=a= 	 &#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1077</th>
<td class="status">fail</td>
<td class="description">Headings: 6d. Heading chars in SOL context (No escaping needed)<ul><li>parsoid: html2wt</li></ul>
</td>
<td class="input"><pre>=a=&lt;div&gt;b&lt;/div&gt;</pre></td>
<td class="expect"><pre>=a=&lt;div&gt;b&lt;/div&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;=a=&#8990;
&lt;/p&gt;&lt;div&gt;b&lt;/div&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">1078</th>
<td class="status">pass</td>
<td class="description">Lists: 0. Outside nests</td>
<td class="input"><pre>&lt;nowiki&gt;*&lt;/nowiki&gt;foo&#8990;
&#8990;
&lt;nowiki&gt;#&lt;/nowiki&gt;foo</pre></td>
<td class="expect"><pre>&lt;p&gt;*foo&#8990;
&lt;/p&gt;&lt;p&gt;#foo&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;*foo&#8990;
&lt;/p&gt;&lt;p&gt;#foo&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">1079</th>
<td class="status">pass</td>
<td class="description">Lists: 1. Nested inside html</td>
<td class="input"><pre>*&lt;nowiki&gt;*foo&lt;/nowiki&gt;&#8990;
&#8990;
*&lt;nowiki&gt;#foo&lt;/nowiki&gt;&#8990;
&#8990;
*&lt;nowiki&gt;:foo&lt;/nowiki&gt;&#8990;
&#8990;
*&lt;nowiki&gt;;foo&lt;/nowiki&gt;&#8990;
&#8990;
#&lt;nowiki&gt;*foo&lt;/nowiki&gt;&#8990;
&#8990;
#&lt;nowiki&gt;#foo&lt;/nowiki&gt;&#8990;
&#8990;
#&lt;nowiki&gt;:foo&lt;/nowiki&gt;&#8990;
&#8990;
#&lt;nowiki&gt;;foo&lt;/nowiki&gt;</pre></td>
<td class="expect"><pre>&lt;ul&gt;&lt;li&gt;*foo&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;ul&gt;&lt;li&gt;#foo&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;ul&gt;&lt;li&gt;:foo&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;ul&gt;&lt;li&gt;;foo&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;ol&gt;&lt;li&gt;*foo&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
&lt;ol&gt;&lt;li&gt;#foo&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
&lt;ol&gt;&lt;li&gt;:foo&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
&lt;ol&gt;&lt;li&gt;;foo&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt;*foo&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;ul&gt;&lt;li&gt;#foo&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;ul&gt;&lt;li&gt;:foo&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;ul&gt;&lt;li&gt;;foo&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;ol&gt;&lt;li&gt;*foo&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
&lt;ol&gt;&lt;li&gt;#foo&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
&lt;ol&gt;&lt;li&gt;:foo&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
&lt;ol&gt;&lt;li&gt;;foo&#8990;
&lt;/li&gt;&lt;/ol&gt;&#8990;
</pre></td>
</tr>
<tr class="pass">
<th class="index">1080</th>
<td class="status">pass</td>
<td class="description">Lists: 2. Inside definition lists</td>
<td class="input"><pre>;&lt;nowiki&gt;;foo&lt;/nowiki&gt;&#8990;
&#8990;
;&lt;nowiki&gt;:foo&lt;/nowiki&gt;&#8990;
&#8990;
;&lt;nowiki&gt;:foo&lt;/nowiki&gt;&#8990;
:bar&#8990;
&#8990;
:&lt;nowiki&gt;:foo&lt;/nowiki&gt;</pre></td>
<td class="expect"><pre>&lt;dl&gt;&lt;dt&gt;;foo&#8990;
&lt;/dt&gt;&lt;/dl&gt;&#8990;
&lt;dl&gt;&lt;dt&gt;:foo&#8990;
&lt;/dt&gt;&lt;/dl&gt;&#8990;
&lt;dl&gt;&lt;dt&gt;:foo&#8990;
&lt;/dt&gt;&lt;dd&gt;bar&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;dl&gt;&lt;dd&gt;:foo&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;dl&gt;&lt;dt&gt;;foo&#8990;
&lt;/dt&gt;&lt;/dl&gt;&#8990;
&lt;dl&gt;&lt;dt&gt;:foo&#8990;
&lt;/dt&gt;&lt;/dl&gt;&#8990;
&lt;dl&gt;&lt;dt&gt;:foo&#8990;
&lt;/dt&gt;&lt;dd&gt;bar&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
&lt;dl&gt;&lt;dd&gt;:foo&#8990;
&lt;/dd&gt;&lt;/dl&gt;&#8990;
</pre></td>
</tr>
<tr class="pass">
<th class="index">1081</th>
<td class="status">pass</td>
<td class="description">Lists: 3. Only bullets at start of text should be escaped</td>
<td class="input"><pre>*&lt;nowiki&gt;*foo*bar&lt;/nowiki&gt;&#8990;
&#8990;
*&lt;nowiki&gt;*foo&lt;/nowiki&gt;''it''*bar</pre></td>
<td class="expect"><pre>&lt;ul&gt;&lt;li&gt;*foo*bar&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;ul&gt;&lt;li&gt;*foo&lt;i&gt;it&lt;/i&gt;*bar&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt;*foo*bar&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;ul&gt;&lt;li&gt;*foo&lt;i&gt;it&lt;/i&gt;*bar&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">1082</th>
<td class="status">fail</td>
<td class="description">Lists: 4. No escapes needed<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>*foo*bar&#8990;
&#8990;
*''foo''*bar&#8990;
&#8990;
*[[Foo]]: bar</pre></td>
<td class="expect"><pre>&lt;ul&gt;&lt;li&gt;foo*bar&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;ul&gt;&lt;li&gt;&lt;i&gt;foo&lt;/i&gt;*bar&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;ul&gt;&lt;li&gt;&lt;a rel="mw:WikiLink" href="Foo"&gt;Foo&lt;/a&gt;: bar&#8990;
&lt;/li&gt;&lt;/ul&gt;</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt;foo*bar&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;ul&gt;&lt;li&gt;&lt;i&gt;foo&lt;/i&gt;*bar&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;ul&gt;&lt;li&gt;&lt;a href="/wiki/Foo" title="Foo"&gt;Foo&lt;/a&gt;: bar&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
</tr>
<tr class="tidy">
<th class="index">1083</th>
<td class="status">tidy</td>
<td class="description">Lists: 5. No unnecessary escapes</td>
<td class="input"><pre>* bar &lt;span&gt;&lt;nowiki&gt;[[foo]]&lt;/nowiki&gt;&lt;/span&gt;&#8990;
&#8990;
*=bar &lt;span&gt;&lt;nowiki&gt;[[foo]]&lt;/nowiki&gt;&lt;/span&gt;&#8990;
&#8990;
*[[bar &lt;span&gt;&lt;nowiki&gt;[[foo]]&lt;/nowiki&gt;&lt;/span&gt;&#8990;
&#8990;
*]]bar &lt;span&gt;&lt;nowiki&gt;[[foo]]&lt;/nowiki&gt;&lt;/span&gt;&#8990;
&#8990;
*=bar &lt;span&gt;foo]]&lt;/span&gt;=&#8990;
&#8990;
* &lt;s&gt;&lt;/s&gt;: a</pre></td>
<td class="expect"><pre>&lt;ul&gt;&lt;li&gt; bar &lt;span&gt;[[foo]]&lt;/span&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;ul&gt;&lt;li&gt;=bar &lt;span&gt;[[foo]]&lt;/span&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;ul&gt;&lt;li&gt;[[bar &lt;span&gt;[[foo]]&lt;/span&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;ul&gt;&lt;li&gt;]]bar &lt;span&gt;[[foo]]&lt;/span&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;ul&gt;&lt;li&gt;=bar &lt;span&gt;foo]]&lt;/span&gt;=&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;ul&gt;&lt;li&gt; &lt;s&gt;&lt;/s&gt;: a&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt; bar &lt;span&gt;[[foo]]&lt;/span&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;ul&gt;&lt;li&gt;=bar &lt;span&gt;[[foo]]&lt;/span&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;ul&gt;&lt;li&gt;[[bar &lt;span&gt;[[foo]]&lt;/span&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;ul&gt;&lt;li&gt;]]bar &lt;span&gt;[[foo]]&lt;/span&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;ul&gt;&lt;li&gt;=bar &lt;span&gt;foo]]&lt;/span&gt;=&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
&lt;ul&gt;&lt;li&gt; &lt;s/&gt;: a&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">1084</th>
<td class="status">fail</td>
<td class="description">Lists: 6. Escape bullets in SOL position<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>&lt;!--cmt--&gt;&lt;nowiki&gt;*foo&lt;/nowiki&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;!--cmt--&gt;&lt;span typeof="mw:Nowiki"&gt;*foo&lt;/span&gt;&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;*foo&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">1085</th>
<td class="status">pass</td>
<td class="description">Lists: 7. Escape bullets in a multi-line context</td>
<td class="input"><pre>a&#8990;
&lt;nowiki&gt;*&lt;/nowiki&gt;b</pre></td>
<td class="expect"><pre>&lt;p&gt;a&#8990;
*b&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;a&#8990;
*b&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1086</th>
<td class="status">fail</td>
<td class="description">HRs: 1. Single line<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>----&lt;nowiki&gt;----&lt;/nowiki&gt;&#8990;
----=foo=&#8990;
----*foo</pre></td>
<td class="expect"><pre>&lt;hr&gt;&lt;span typeof="mw:Nowiki"&gt;----&lt;/span&gt;&#8990;
&lt;hr&gt;=foo=&#8990;
&lt;hr&gt;*foo</pre></td>
<td class="output"><pre>&lt;hr/&gt;&#8990;
&lt;p&gt;----&#8990;
&lt;/p&gt;&lt;hr/&gt;&#8990;
&lt;p&gt;=foo=&#8990;
&lt;/p&gt;&lt;hr/&gt;&#8990;
&lt;p&gt;*foo&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">1087</th>
<td class="status">pass</td>
<td class="description">Tables: 1a. Simple example</td>
<td class="input"><pre>&lt;nowiki&gt;{|&#8990;
|}&lt;/nowiki&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;{|&#8990;
|}&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;{|&#8990;
|}&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">1088</th>
<td class="status">pass</td>
<td class="description">Tables: 1b. No escaping needed</td>
<td class="input"><pre>!foo</pre></td>
<td class="expect"><pre>&lt;p&gt;!foo&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;!foo&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">1089</th>
<td class="status">pass</td>
<td class="description">Tables: 1c. No escaping needed</td>
<td class="input"><pre>|foo</pre></td>
<td class="expect"><pre>&lt;p&gt;|foo&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;|foo&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">1090</th>
<td class="status">pass</td>
<td class="description">Tables: 1d. No escaping needed</td>
<td class="input"><pre>|}foo</pre></td>
<td class="expect"><pre>&lt;p&gt;|}foo&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;|}foo&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1091</th>
<td class="status">fail</td>
<td class="description">Tables: 2a. Nested in td<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>{|&#8990;
|&lt;nowiki&gt;foo|bar&lt;/nowiki&gt;&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&#8990;
&lt;td&gt;&lt;span typeof="mw:Nowiki"&gt;foo|bar&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;foo|bar&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1092</th>
<td class="status">fail</td>
<td class="description">Tables: 2b. Nested in td<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>{|&#8990;
|&lt;nowiki&gt;foo||bar&lt;/nowiki&gt;&#8990;
|''it''&lt;nowiki&gt;foo||bar&lt;/nowiki&gt;&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&#8990;
&lt;td&gt;&lt;span typeof="mw:Nowiki"&gt;foo||bar&lt;/span&gt;&lt;/td&gt;&#8990;
&lt;td&gt;&lt;i&gt;it&lt;/i&gt;&lt;span typeof="mw:Nowiki"&gt;foo||bar&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;foo||bar&lt;/td&gt;&lt;td&gt;&lt;i&gt;it&lt;/i&gt;foo||bar&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1093</th>
<td class="status">fail</td>
<td class="description">Tables: 2c. Nested in td -- no escaping needed<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>{|&#8990;
|foo!!bar&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;foo!!bar&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;foo!!bar&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1094</th>
<td class="status">fail</td>
<td class="description">Tables: 3a. Nested in th<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>{|&#8990;
!foo!bar&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;th&gt;foo!bar&#8990;
&lt;/th&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;th&gt;foo!bar&lt;/th&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1095</th>
<td class="status">fail</td>
<td class="description">Tables: 3b. Nested in th<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>{|&#8990;
!&lt;nowiki&gt;foo!!bar&lt;/nowiki&gt;&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;tbody&gt;&lt;tr&gt;&lt;th&gt;&lt;span typeof="mw:Nowiki"&gt;foo!!bar&lt;/span&gt;&lt;/th&gt;&lt;/tr&gt;&#8990;
&lt;/tbody&gt;&lt;/table&gt;</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;th&gt;foo!!bar&lt;/th&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1096</th>
<td class="status">fail</td>
<td class="description">Tables: 3c. Nested in th -- no escaping needed<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>{|&#8990;
!&lt;nowiki&gt;foo||bar&lt;/nowiki&gt;&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&#8990;
&lt;th&gt;&lt;span typeof="mw:Nowiki"&gt;foo||bar&lt;/span&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;th&gt;foo||bar&lt;/th&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1097</th>
<td class="status">fail</td>
<td class="description">Tables: 4a. Escape -<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>{|&#8990;
|-&#8990;
!-bar&#8990;
|-&#8990;
|&lt;nowiki&gt;-bar&lt;/nowiki&gt;&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&lt;tbody&gt;&#8990;
&lt;tr&gt;&lt;th&gt;-bar&lt;/th&gt;&lt;/tr&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt;&lt;span typeof="mw:Nowiki"&gt;-bar&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;th&gt;-bar&lt;/th&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;-bar&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1098</th>
<td class="status">fail</td>
<td class="description">Tables: 4b. Escape +<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>{|&#8990;
|-&#8990;
!+bar&#8990;
|-&#8990;
|&lt;nowiki&gt;+bar&lt;/nowiki&gt;&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&lt;tbody&gt;&#8990;
&lt;tr&gt;&lt;th&gt;+bar&lt;/th&gt;&lt;/tr&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt;&lt;span typeof="mw:Nowiki"&gt;+bar&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;th&gt;+bar&lt;/th&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;+bar&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1099</th>
<td class="status">fail</td>
<td class="description">Tables: 4c. No escaping needed<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>{|&#8990;
|-&#8990;
|foo-bar&#8990;
|foo+bar&#8990;
|-&#8990;
|''foo''-bar&#8990;
|''foo''+bar&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&lt;tbody&gt;&#8990;
&lt;tr&gt;&lt;td&gt;foo-bar&lt;/td&gt;&lt;td&gt;foo+bar&lt;/td&gt;&lt;/tr&gt;&#8990;
&lt;tr&gt;&lt;td&gt;&lt;i&gt;foo&lt;/i&gt;-bar&lt;/td&gt;&lt;td&gt;&lt;i&gt;foo&lt;/i&gt;+bar&lt;/td&gt;&lt;/tr&gt;&#8990;
&lt;/tbody&gt;&lt;/table&gt;</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;foo-bar&lt;/td&gt;&lt;td&gt;foo+bar&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;i&gt;foo&lt;/i&gt;-bar&#8990;
&lt;/td&gt;&lt;td&gt;&lt;i&gt;foo&lt;/i&gt;+bar&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="skip">
<th class="index">1100</th>
<td class="status">skip</td>
<td class="description">Tables: 4d. No escaping needed<ul><li>disabled</li></ul>
</td>
<td class="input"><pre>{|&#8990;
||+1&#8990;
||-2&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt;+1&#8990;
&lt;/td&gt;&#8990;
&lt;td&gt;-2&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"> </td>
</tr>
<tr class="fail">
<th class="index">1101</th>
<td class="status">fail</td>
<td class="description">Links 1. Quote marks in link text<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>[[Foo|Foo&lt;nowiki&gt;''boo''&lt;/nowiki&gt;]]</pre></td>
<td class="expect"><pre>&lt;a rel="mw:WikiLink" href="Foo"&gt;Foo''boo''&lt;/a&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Foo" title="Foo"&gt;Foo''boo''&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1102</th>
<td class="status">fail</td>
<td class="description">Links 2. WikiLinks: Escapes needed<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>[[Foo|&lt;nowiki&gt;[Foobar]&lt;/nowiki&gt;]]&#8990;
[[Foo|&lt;nowiki&gt;Foobar]&lt;/nowiki&gt;]]&#8990;
[[Foo|x [Foobar] x]]&#8990;
[[Foo|&lt;nowiki&gt;x [http://google.com g] x&lt;/nowiki&gt;]]&#8990;
[[Foo|&lt;nowiki&gt;[[Bar]]&lt;/nowiki&gt;]]&#8990;
[[Foo|&lt;nowiki&gt;x [[Bar]] x&lt;/nowiki&gt;]]&#8990;
[[Foo|&lt;nowiki&gt;|Bar&lt;/nowiki&gt;]]&#8990;
[[Foo|&lt;nowiki&gt;]]bar&lt;/nowiki&gt;]]&#8990;
[[Foo|&lt;nowiki&gt;[[bar&lt;/nowiki&gt;]]&#8990;
[[Foo|&lt;nowiki&gt;x ]] y [[ z&lt;/nowiki&gt;]]</pre></td>
<td class="expect"><pre>&lt;a href="Foo" rel="mw:WikiLink"&gt;[Foobar]&lt;/a&gt;&#8990;
&lt;a href="Foo" rel="mw:WikiLink"&gt;Foobar]&lt;/a&gt;&#8990;
&lt;a href="Foo" rel="mw:WikiLink"&gt;x [Foobar] x&lt;/a&gt;&#8990;
&lt;a href="Foo" rel="mw:WikiLink"&gt;x [http://google.com g] x&lt;/a&gt;&#8990;
&lt;a href="Foo" rel="mw:WikiLink"&gt;[[Bar]]&lt;/a&gt;&#8990;
&lt;a href="Foo" rel="mw:WikiLink"&gt;x [[Bar]] x&lt;/a&gt;&#8990;
&lt;a href="Foo" rel="mw:WikiLink"&gt;|Bar&lt;/a&gt;&#8990;
&lt;a href="Foo" rel="mw:WikiLink"&gt;]]bar&lt;/a&gt;&#8990;
&lt;a href="Foo" rel="mw:WikiLink"&gt;[[bar&lt;/a&gt;&#8990;
&lt;a href="Foo" rel="mw:WikiLink"&gt;x ]] y [[ z&lt;/a&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Foo" title="Foo"&gt;[Foobar]&lt;/a&gt;&#8990;
&lt;a href="/wiki/Foo" title="Foo"&gt;Foobar]&lt;/a&gt;&#8990;
&lt;a href="/wiki/Foo" title="Foo"&gt;x [Foobar] x&lt;/a&gt;&#8990;
&lt;a href="/wiki/Foo" title="Foo"&gt;x [http://google.com g] x&lt;/a&gt;&#8990;
&lt;a href="/wiki/Foo" title="Foo"&gt;[[Bar]]&lt;/a&gt;&#8990;
&lt;a href="/wiki/Foo" title="Foo"&gt;x [[Bar]] x&lt;/a&gt;&#8990;
&lt;a href="/wiki/Foo" title="Foo"&gt;|Bar&lt;/a&gt;&#8990;
&lt;a href="/wiki/Foo" title="Foo"&gt;]]bar&lt;/a&gt;&#8990;
&lt;a href="/wiki/Foo" title="Foo"&gt;[[bar&lt;/a&gt;&#8990;
&lt;a href="/wiki/Foo" title="Foo"&gt;x ]] y [[ z&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1103</th>
<td class="status">fail</td>
<td class="description">Links 3. WikiLinks: No escapes needed<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>[[Foo|[Foobar]]&#8990;
[[Foo|foo|bar]]</pre></td>
<td class="expect"><pre>&lt;a href="Foo" rel="mw:WikiLink"&gt;[Foobar&lt;/a&gt;&#8990;
&lt;a href="Foo" rel="mw:WikiLink"&gt;foo|bar&lt;/a&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Foo" title="Foo"&gt;[Foobar&lt;/a&gt;&#8990;
&lt;a href="/wiki/Foo" title="Foo"&gt;foo|bar&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1104</th>
<td class="status">fail</td>
<td class="description">Links 4. ExtLinks: Escapes needed<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>[http://google.com &lt;nowiki&gt;[google]&lt;/nowiki&gt;]&#8990;
[http://google.com &lt;nowiki&gt;google]&lt;/nowiki&gt;]</pre></td>
<td class="expect"><pre>&lt;a href="http://google.com" rel="mw:ExtLink"&gt;[google]&lt;/a&gt;&#8990;
&lt;a href="http://google.com" rel="mw:ExtLink"&gt;google]&lt;/a&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external text" href="http://google.com"&gt;[google]&lt;/a&gt;&#8990;
&lt;a rel="nofollow" class="external text" href="http://google.com"&gt;google]&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1105</th>
<td class="status">fail</td>
<td class="description">Links 5. ExtLinks: No escapes needed<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>[http://google.com [google]</pre></td>
<td class="expect"><pre>&lt;a href="http://google.com" rel="mw:ExtLink"&gt;[google&lt;/a&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a rel="nofollow" class="external text" href="http://google.com"&gt;[google&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">1106</th>
<td class="status">pass</td>
<td class="description">1. Quotes inside &lt;b&gt; and &lt;i&gt;</td>
<td class="input"><pre>''&lt;nowiki&gt;'foo'&lt;/nowiki&gt;''&#8990;
''&lt;nowiki&gt;''foo''&lt;/nowiki&gt;''&#8990;
''&lt;nowiki&gt;'''foo'''&lt;/nowiki&gt;''&#8990;
''foo''&lt;nowiki&gt;'s&lt;/nowiki&gt;&#8990;
'''&lt;nowiki&gt;'foo'&lt;/nowiki&gt;'''&#8990;
'''&lt;nowiki&gt;''foo''&lt;/nowiki&gt;'''&#8990;
'''&lt;nowiki&gt;'''foo'''&lt;/nowiki&gt;'''&#8990;
'''&lt;nowiki&gt;foo'&lt;/nowiki&gt;''&lt;nowiki&gt;bar'&lt;/nowiki&gt;''baz'''&#8990;
'''foo'''&lt;nowiki&gt;'s&lt;/nowiki&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;i&gt;'foo'&lt;/i&gt;&#8990;
&lt;i&gt;''foo''&lt;/i&gt;&#8990;
&lt;i&gt;'''foo'''&lt;/i&gt;&#8990;
&lt;i&gt;foo&lt;/i&gt;'s&#8990;
&lt;b&gt;'foo'&lt;/b&gt;&#8990;
&lt;b&gt;''foo''&lt;/b&gt;&#8990;
&lt;b&gt;'''foo'''&lt;/b&gt;&#8990;
&lt;b&gt;foo'&lt;i&gt;bar'&lt;/i&gt;baz&lt;/b&gt;&#8990;
&lt;b&gt;foo&lt;/b&gt;'s&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;i&gt;'foo'&lt;/i&gt;&#8990;
&lt;i&gt;''foo''&lt;/i&gt;&#8990;
&lt;i&gt;'''foo'''&lt;/i&gt;&#8990;
&lt;i&gt;foo&lt;/i&gt;'s&#8990;
&lt;b&gt;'foo'&lt;/b&gt;&#8990;
&lt;b&gt;''foo''&lt;/b&gt;&#8990;
&lt;b&gt;'''foo'''&lt;/b&gt;&#8990;
&lt;b&gt;foo'&lt;i&gt;bar'&lt;/i&gt;baz&lt;/b&gt;&#8990;
&lt;b&gt;foo&lt;/b&gt;'s&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">1107</th>
<td class="status">pass</td>
<td class="description">2. Link fragments separated by &lt;i&gt; and &lt;b&gt; tags</td>
<td class="input"><pre>[[''foo''&lt;nowiki&gt;hello]]&lt;/nowiki&gt;&#8990;
&#8990;
[['''foo'''&lt;nowiki&gt;hello]]&lt;/nowiki&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;[[&lt;i&gt;foo&lt;/i&gt;hello]]&#8990;
&lt;/p&gt;&lt;p&gt;[[&lt;b&gt;foo&lt;/b&gt;hello]]&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;[[&lt;i&gt;foo&lt;/i&gt;hello]]&#8990;
&lt;/p&gt;&lt;p&gt;[[&lt;b&gt;foo&lt;/b&gt;hello]]&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">1108</th>
<td class="status">pass</td>
<td class="description">2. Link fragments inside &lt;i&gt; and &lt;b&gt;
(FIXME: Escaping one or both of [[ and ]] is also acceptable --
 this is one of the shortcomings of this format)</td>
<td class="input"><pre>''[[foo''&lt;nowiki&gt;]]&lt;/nowiki&gt;&#8990;
&#8990;
'''[[foo'''&lt;nowiki&gt;]]&lt;/nowiki&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;i&gt;[[foo&lt;/i&gt;]]&#8990;
&lt;/p&gt;&lt;p&gt;&lt;b&gt;[[foo&lt;/b&gt;]]&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;i&gt;[[foo&lt;/i&gt;]]&#8990;
&lt;/p&gt;&lt;p&gt;&lt;b&gt;[[foo&lt;/b&gt;]]&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">1109</th>
<td class="status">pass</td>
<td class="description">1. No unnecessary escapes</td>
<td class="input"><pre>bar &lt;span&gt;&lt;nowiki&gt;[[foo]]&lt;/nowiki&gt;&lt;/span&gt;&#8990;
&#8990;
=bar &lt;span&gt;&lt;nowiki&gt;[[foo]]&lt;/nowiki&gt;&lt;/span&gt;&#8990;
&#8990;
[[bar &lt;span&gt;&lt;nowiki&gt;[[foo]]&lt;/nowiki&gt;&lt;/span&gt;&#8990;
&#8990;
]]bar &lt;span&gt;&lt;nowiki&gt;[[foo]]&lt;/nowiki&gt;&lt;/span&gt;&#8990;
&#8990;
=bar &lt;span&gt;foo]]&lt;/span&gt;&lt;nowiki&gt;=&lt;/nowiki&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;bar &lt;span&gt;[[foo]]&lt;/span&gt;&#8990;
&lt;/p&gt;&lt;p&gt;=bar &lt;span&gt;[[foo]]&lt;/span&gt;&#8990;
&lt;/p&gt;&lt;p&gt;[[bar &lt;span&gt;[[foo]]&lt;/span&gt;&#8990;
&lt;/p&gt;&lt;p&gt;]]bar &lt;span&gt;[[foo]]&lt;/span&gt;&#8990;
&lt;/p&gt;&lt;p&gt;=bar &lt;span&gt;foo]]&lt;/span&gt;=&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;bar &lt;span&gt;[[foo]]&lt;/span&gt;&#8990;
&lt;/p&gt;&lt;p&gt;=bar &lt;span&gt;[[foo]]&lt;/span&gt;&#8990;
&lt;/p&gt;&lt;p&gt;[[bar &lt;span&gt;[[foo]]&lt;/span&gt;&#8990;
&lt;/p&gt;&lt;p&gt;]]bar &lt;span&gt;[[foo]]&lt;/span&gt;&#8990;
&lt;/p&gt;&lt;p&gt;=bar &lt;span&gt;foo]]&lt;/span&gt;=&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1110</th>
<td class="status">fail</td>
<td class="description">1. Leading whitespace in SOL context should be escaped<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>&lt;nowiki&gt; &lt;/nowiki&gt;a&#8990;
&#8990;
&lt;nowiki&gt; &lt;/nowiki&gt; a&#8990;
&#8990;
&lt;nowiki&gt;	&lt;/nowiki&gt;a(tab)&#8990;
&#8990;
&lt;nowiki&gt; &lt;/nowiki&gt;	a&#8990;
&lt;!--cmt--&gt;&#8990;
&lt;nowiki&gt; &lt;/nowiki&gt; a&#8990;
&#8990;
a&#8990;
&lt;nowiki&gt; &lt;/nowiki&gt;b&#8990;
&#8990;
a&#8990;
&lt;nowiki&gt;	&lt;/nowiki&gt;b&#8990;
&#8990;
a&#8990;
&lt;nowiki&gt;	&lt;/nowiki&gt; b</pre></td>
<td class="expect"><pre>&lt;p&gt; a&lt;/p&gt;&#8990;
&lt;p&gt;  a&lt;/p&gt;&#8990;
&lt;p&gt;	a(tab)&lt;/p&gt;&#8990;
&lt;p&gt; 	a&lt;/p&gt;&#8990;
&lt;p&gt;&lt;!--cmt--&gt;  a&lt;/p&gt;&#8990;
&lt;p&gt;a&#8990;
 b&lt;/p&gt;&#8990;
&lt;p&gt;a&#8990;
	b&lt;/p&gt;&#8990;
&lt;p&gt;a&#8990;
	 b&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt; a&#8990;
&lt;/p&gt;&lt;p&gt;  a&#8990;
&lt;/p&gt;&lt;p&gt;	a(tab)&#8990;
&lt;/p&gt;&lt;p&gt; 	a&#8990;
  a&#8990;
&lt;/p&gt;&lt;p&gt;a&#8990;
 b&#8990;
&lt;/p&gt;&lt;p&gt;a&#8990;
	b&#8990;
&lt;/p&gt;&lt;p&gt;a&#8990;
	 b&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1111</th>
<td class="status">fail</td>
<td class="description">1. a tags<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>&lt;a href="http://google.com"&gt;google&lt;/a&gt;</pre></td>
<td class="expect"><pre>&amp;lt;a href=&amp;quot;http://google.com&amp;quot;&amp;gt;google&amp;lt;/a&amp;gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;a href="&lt;a rel="nofollow" class="external free" href="http://google.com&amp;quot;&amp;gt;google&amp;lt;/a&amp;gt;"&gt;http://google.com"&amp;gt;google&amp;lt;/a&amp;gt;&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">1112</th>
<td class="status">tidy</td>
<td class="description">2. other tags</td>
<td class="input"><pre>&lt;nowiki&gt;&lt;div&gt;foo&lt;/div&gt;&#8990;
&lt;div style="color:red"&gt;foo&lt;/div&gt;&lt;/nowiki&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&amp;lt;div&amp;gt;foo&amp;lt;/div&amp;gt;&#8990;
&amp;lt;div style=&amp;quot;color:red&amp;quot;&amp;gt;foo&amp;lt;/div&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;div&amp;gt;foo&amp;lt;/div&amp;gt;&#8990;
&amp;lt;div style="color:red"&amp;gt;foo&amp;lt;/div&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">1113</th>
<td class="status">pass</td>
<td class="description">3. multi-line html tag</td>
<td class="input"><pre>&lt;nowiki&gt;&lt;div&#8990;
&gt;foo&lt;/div&#8990;
&gt;&lt;/nowiki&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&amp;lt;div&#8990;
&amp;gt;foo&amp;lt;/div&#8990;
&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;div&#8990;
&amp;gt;foo&amp;lt;/div&#8990;
&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">1114</th>
<td class="status">pass</td>
<td class="description">4. extension tags</td>
<td class="input"><pre>&lt;nowiki&gt;&lt;ref&gt;foo&lt;/ref&gt;&lt;/nowiki&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&amp;lt;ref&amp;gt;foo&amp;lt;/ref&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;ref&amp;gt;foo&amp;lt;/ref&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">1115</th>
<td class="status">pass</td>
<td class="description">Escaping nowikis</td>
<td class="input"><pre>&amp;lt;nowiki&amp;gt;foo&amp;lt;/nowiki&amp;gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&amp;lt;nowiki&amp;gt;foo&amp;lt;/nowiki&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;nowiki&amp;gt;foo&amp;lt;/nowiki&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">1116</th>
<td class="status">pass</td>
<td class="description">Tag-like HTML structures are passed through as text</td>
<td class="input"><pre>&lt;x y&gt;&#8990;
&#8990;
&lt;x.y&gt;&#8990;
&#8990;
&lt;x-y&gt;&#8990;
&#8990;
1&gt;2&#8990;
&#8990;
x&lt;y&#8990;
&#8990;
a&gt;b&#8990;
&#8990;
1&lt;d e&gt;f</pre></td>
<td class="expect"><pre>&lt;p&gt;&amp;lt;x y&amp;gt;&#8990;
&lt;/p&gt;&lt;p&gt;&amp;lt;x.y&amp;gt;&#8990;
&lt;/p&gt;&lt;p&gt;&amp;lt;x-y&amp;gt;&#8990;
&lt;/p&gt;&lt;p&gt;1&amp;gt;2&#8990;
&lt;/p&gt;&lt;p&gt;x&amp;lt;y&#8990;
&lt;/p&gt;&lt;p&gt;a&amp;gt;b&#8990;
&lt;/p&gt;&lt;p&gt;1&amp;lt;d e&amp;gt;f&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;x y&amp;gt;&#8990;
&lt;/p&gt;&lt;p&gt;&amp;lt;x.y&amp;gt;&#8990;
&lt;/p&gt;&lt;p&gt;&amp;lt;x-y&amp;gt;&#8990;
&lt;/p&gt;&lt;p&gt;1&amp;gt;2&#8990;
&lt;/p&gt;&lt;p&gt;x&amp;lt;y&#8990;
&lt;/p&gt;&lt;p&gt;a&amp;gt;b&#8990;
&lt;/p&gt;&lt;p&gt;1&amp;lt;d e&amp;gt;f&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">1117</th>
<td class="status">pass</td>
<td class="description">Tag names followed by punctuation should not be recognized as tags<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>&lt;s.ome&gt; text</pre></td>
<td class="expect"><pre>&lt;p&gt;&amp;lt;s.ome&amp;gt; text&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;s.ome&amp;gt; text&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">1118</th>
<td class="status">pass</td>
<td class="description">HTML tag with necessary entities in attributes</td>
<td class="input"><pre>&lt;span title="&amp;amp;amp;"&gt;foo&lt;/span&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;span title="&amp;amp;amp;"&gt;foo&lt;/span&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;span title="&amp;amp;amp;"&gt;foo&lt;/span&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">1119</th>
<td class="status">pass</td>
<td class="description">HTML tag with 'unnecessary' entity encoding in attributes</td>
<td class="input"><pre>&lt;span title="&amp;amp;"&gt;foo&lt;/span&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;span title="&amp;amp;"&gt;foo&lt;/span&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;span title="&amp;amp;"&gt;foo&lt;/span&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1120</th>
<td class="status">fail</td>
<td class="description">HTML tag with broken attribute value quoting</td>
<td class="input"><pre>&lt;span title="Hello world&gt;Foo&lt;/span&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;span&gt;Foo&lt;/span&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;span title="Hello world&amp;gt;Foo&amp;lt;/span&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1121</th>
<td class="status">fail</td>
<td class="description">Parsoid-only: HTML tag with broken attribute value quoting<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>&lt;span title="Hello world&gt;Foo&lt;/span&gt;</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;span title="Hello world"&gt;Foo&lt;/span&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&amp;lt;span title="Hello world&amp;gt;Foo&amp;lt;/span&amp;gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1122</th>
<td class="status">fail</td>
<td class="description">Table with broken attribute value quoting</td>
<td class="input"><pre>{|&#8990;
| title="Hello world|Foo&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt;Foo&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;title="Hello world|Foo&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1123</th>
<td class="status">fail</td>
<td class="description">Table with broken attribute value quoting on consecutive lines</td>
<td class="input"><pre>{|&#8990;
| title="Hello world|Foo&#8990;
| style="color:red|Bar&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt;Foo&#8990;
&lt;/td&gt;&#8990;
&lt;td&gt;Bar&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;title="Hello world|Foo&lt;/td&gt;&lt;td&gt;style="color:red|Bar&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1124</th>
<td class="status">fail</td>
<td class="description">Parsoid-only: Table with broken attribute value quoting on consecutive lines<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>{|&#8990;
| title="Hello world|Foo&#8990;
| style="color:red|Bar&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&lt;tbody&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td title="Hello world"&gt;Foo&#8990;
&lt;/td&gt;&lt;td style="color: red"&gt;Bar&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;title="Hello world|Foo&lt;/td&gt;&lt;td&gt;style="color:red|Bar&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1125</th>
<td class="status">fail</td>
<td class="description">Parsoid-only: Don't wrap broken template tags in &lt;nowiki&gt; on wt2wt (Bug 42353)<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>{{}}</pre></td>
<td class="expect"><pre>{{}}</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Template:" title="Template:"&gt;Template:&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1126</th>
<td class="status">fail</td>
<td class="description">Parsoid-only: Don't wrap broken template tags in &lt;nowiki&gt; on wt2wt (Bug 42353)<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>}}{{</pre></td>
<td class="expect"><pre>}}{{</pre></td>
<td class="output"><pre>&lt;p&gt;}}{{&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1127</th>
<td class="status">fail</td>
<td class="description">Accept empty td cell attribute</td>
<td class="input"><pre>{|&#8990;
| align="center" | foo ||  |&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td align="center"&gt; foo &lt;/td&gt;&#8990;
&lt;td&gt;&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td align="center"&gt;foo&lt;/td&gt;&lt;td/&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">1128</th>
<td class="status">tidy</td>
<td class="description">Non-empty attributes in th-cells</td>
<td class="input"><pre>{|&#8990;
! Foo !! style="color: red" | Bar&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;th&gt; Foo &lt;/th&gt;&#8990;
&lt;th style="color: red"&gt; Bar&#8990;
&lt;/th&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;th&gt;Foo&lt;/th&gt;&lt;th style="color: red"&gt;Bar&lt;/th&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">1129</th>
<td class="status">tidy</td>
<td class="description">Accept empty attributes in th-cells</td>
<td class="input"><pre>{|&#8990;
!| foo !!| bar&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;th&gt; foo &lt;/th&gt;&#8990;
&lt;th&gt; bar&#8990;
&lt;/th&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;th&gt;foo&lt;/th&gt;&lt;th&gt;bar&lt;/th&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1130</th>
<td class="status">fail</td>
<td class="description">Empty table rows go away</td>
<td class="input"><pre>{|&#8990;
| Hello&#8990;
| there&#8990;
|- class="foo"&#8990;
|-&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt; Hello&#8990;
&lt;/td&gt;&#8990;
&lt;td&gt; there&#8990;
&lt;/td&gt;&lt;/tr&gt;&#8990;
&#8990;
&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;Hello&lt;/td&gt;&lt;td&gt;there&lt;/td&gt;&lt;/tr&gt;&lt;tr class="foo"/&gt;&lt;tr/&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1131</th>
<td class="status">fail</td>
<td class="description">RT-ed inter-element separators should be valid separators</td>
<td class="input"><pre>{|&#8990;
|- [[foo]]&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&#8990;
&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;{|&#8990;
|- &lt;a href="/wiki/foo" title="foo"&gt;foo&lt;/a&gt;&#8990;
|}&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1132</th>
<td class="status">fail</td>
<td class="description">Trailing newlines in a deep dom-subtree that ends a wikitext line should be migrated out
(Parsoid-only since PHP parser relies on Tidy for correct output)<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>{|&#8990;
|&lt;small&gt;foo&#8990;
bar&#8990;
|}&#8990;
&#8990;
{|&#8990;
|&lt;small&gt;foo&lt;small&gt;&#8990;
|}</pre></td>
<td class="expect"><pre></pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;small&gt;foo&#8990;
bar&#8990;
&lt;/small&gt;&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;small&gt;foo&lt;small&gt;&#8990;
&lt;/small&gt;&lt;/small&gt;&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1133</th>
<td class="status">fail</td>
<td class="description">Empty TD followed by TD with tpl-generated attribute</td>
<td class="input"><pre>{|&#8990;
|-&#8990;
|&#8990;
|{{echo|style='color:red'}}|foo&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt;&#8990;
&lt;/td&gt;&#8990;
&lt;td&gt;foo&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td/&gt;&lt;td&gt;{{{1}}}|foo&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1134</th>
<td class="status">fail</td>
<td class="description">Indented table with an empty td</td>
<td class="input"><pre> {|&#8990;
 |-&#8990;
 |&#8990;
 |foo&#8990;
 |}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt;&#8990;
&lt;/td&gt;&#8990;
&lt;td&gt;foo&#8990;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;td/&gt;&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1135</th>
<td class="status">fail</td>
<td class="description">Empty TR followed by a template-generated TR
(Parsoid-specific since PHP parser doesn't handle this mixed tbl-wikitext)<ul><li>parsoid: wt2html, wt2wt</li></ul>
</td>
<td class="input"><pre>{|&#8990;
|-&#8990;
{{echo|&lt;tr&gt;&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;}}&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;tbody&gt;&#8990;
&lt;tr&gt;&lt;/tr&gt;&#8990;
&lt;tr typeof="mw:Transclusion"&gt;&#8990;
&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;{|&#8990;
|-&#8990;
&amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;foo&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&#8990;
|}&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1136</th>
<td class="status">fail</td>
<td class="description">Empty TR followed by mixed-ws-comment line should RT correctly<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>{|&#8990;
|-&#8990;
 &lt;!--c--&gt;&#8990;
|-&#8990;
&lt;!--c--&gt; &lt;!--d--&gt;&#8990;
|}</pre></td>
<td class="expect"><pre>&lt;table&gt;&#8990;
&lt;tbody&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt; &lt;!--c--&gt;&lt;/td&gt;&lt;/tr&gt;&#8990;
&lt;tr&gt;&#8990;
&lt;td&gt;&lt;!--c--&gt; &lt;!--d--&gt;&lt;/td&gt;&lt;/tr&gt;&#8990;
&lt;/tbody&gt;&lt;/table&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;{|&#8990;
|-&#8990;
|-&#8990;
&lt;/p&gt;&lt;p&gt;|}&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1137</th>
<td class="status">fail</td>
<td class="description">Multi-line image caption generated by templates with/without trailing newlines<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>[[File:foo.jpg|thumb|300px|foo\n{{echo|A}}\n{{echo|B}}\n{{echo|C}}]]&#8990;
[[File:foo.jpg|thumb|300px|foo\n{{echo|A}}\n{{echo|B}}\n{{echo|C}}\n\n]]</pre></td>
<td class="expect"><pre>&lt;div class="thumb tright"&gt;&lt;div class="thumbinner" style="width:182px;"&gt;&lt;a href="/index.php?title=Special:Upload&amp;amp;wpDestFile=Foo.jpg" class="new" title="File:Foo.jpg"&gt;File:Foo.jpg&lt;/a&gt;  &lt;div class="thumbcaption"&gt;foo\nA\nB\nC&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&#8990;
&lt;div class="thumb tright"&gt;&lt;div class="thumbinner" style="width:182px;"&gt;&lt;a href="/index.php?title=Special:Upload&amp;amp;wpDestFile=Foo.jpg" class="new" title="File:Foo.jpg"&gt;File:Foo.jpg&lt;/a&gt;  &lt;div class="thumbcaption"&gt;foo\nA\nB\nC\n\n&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&#8990;
</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/File:foo.jpg" title="File:foo.jpg"&gt;thumb|300px|foo\nA\nB\nC&lt;/a&gt;&#8990;
&lt;a href="/wiki/File:foo.jpg" title="File:foo.jpg"&gt;thumb|300px|foo\nA\nB\nC\n\n&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1138</th>
<td class="status">fail</td>
<td class="description">Improperly nested inline or quotes tags with whitespace in between<ul><li>parsoid</li></ul>
</td>
<td class="input"><pre>&lt;span&gt; &lt;s&gt;x&lt;/span&gt; &lt;/s&gt;&#8990;
''' ''x''' ''</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;span&gt; &lt;s&gt;x&lt;/s&gt;&lt;/span&gt;&lt;s&gt; &lt;/s&gt;&#8990;
&lt;b&gt; &lt;i&gt;x&lt;/i&gt;&lt;/b&gt;&lt;i&gt; &lt;/i&gt;&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;span&gt; &lt;s&gt;x&amp;lt;/span&amp;gt; &lt;/s&gt;&#8990;
&lt;b&gt; &lt;i&gt;x&lt;b&gt; &lt;i/&gt;&lt;/b&gt;&lt;/i&gt;&lt;/b&gt;&lt;/span&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1139</th>
<td class="status">fail</td>
<td class="description">Image: Modifying size of an image<ul><li>parsoid: html2wt</li></ul>
</td>
<td class="input"><pre>[[Image:Wiki.png|230x230px]]</pre></td>
<td class="expect"><pre>&lt;p data-parsoid='{"dsr":[0,24,0,0]}'&gt;&lt;span typeof="mw:Image" data-parsoid='{"optList":[{"ck":"width","ak":"100px"}],"cacheKey":"[[Image:Wiki.png|100px]]","img":{"h":115,"w":100,"wdset":true},"dsr":[0,24,null,null]}'&gt;&lt;a href="./File:Wiki.png" data-parsoid='{"a":{"href":"./File:Wiki.png"}}'&gt;&lt;img resource="./File:Wiki.png" src="//upload.wikimedia.org/wikipedia/en/thumb/b/bc/Wiki.png/100px-Wiki.png" height="230" width="200" data-parsoid='{"a":{"resource":"./File:Wiki.png"},"sa":{"resource":"Image:Wiki.png"}}'&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;a href="/wiki/Image:Wiki.png" title="Image:Wiki.png"&gt;230x230px&lt;/a&gt;&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">1140</th>
<td class="status">fail</td>
<td class="description">Image: New block level image should have \n before and after<ul><li>parsoid: html2wt</li></ul>
</td>
<td class="input"><pre>123&#8990;
[[File:Wiki.png|right|thumb|150x150px]]&#8990;
456</pre></td>
<td class="expect"><pre>&lt;p&gt;123&lt;/p&gt;&lt;figure typeof="mw:Image/Thumb" class="mw-halign-right"&gt;&lt;a href="./File:Wiki.png"&gt;&lt;img src="http://192.168.142.128/mw/images/thumb/b/bc/Wiki.png/131px-Wiki.png" width="131" height="150" resource="./File:Wiki.png"&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;456&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;123&#8990;
&lt;a href="/wiki/File:Wiki.png" title="File:Wiki.png"&gt;right|thumb|150x150px&lt;/a&gt;&#8990;
456&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="tidy">
<th class="index">1141</th>
<td class="status">tidy</td>
<td class="description">Lists: Add space after bullets<ul><li>parsoid: html2wt</li></ul>
</td>
<td class="input"><pre>&#8990;
* foo&#8990;
* bar&#8990;
* &lt;span&gt; baz&lt;/span&gt;</pre></td>
<td class="expect"><pre>&lt;ul&gt;&#8990;
&lt;li&gt;foo&lt;/li&gt;&#8990;
&lt;li&gt; bar&lt;/li&gt;&#8990;
&lt;li&gt;&lt;span&gt; baz&lt;/span&gt;&lt;/li&gt;&#8990;
&lt;/ul&gt;</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt; foo&#8990;
&lt;/li&gt;&lt;li&gt; bar&#8990;
&lt;/li&gt;&lt;li&gt; &lt;span&gt; baz&lt;/span&gt;&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
</tr>
<tr class="fail">
<th class="index">1142</th>
<td class="status">fail</td>
<td class="description">Parsoid: Serialize positional parameters with = in them as named parameter<ul><li>parsoid: html2wt</li></ul>
</td>
<td class="input"><pre>{{echo|1 = f=oo}}</pre></td>
<td class="expect"><pre>&lt;p about="#mwt1" typeof="mw:Transclusion"&#8990;
data-mw='{"target":{"wt":"echo","href":"./Template:Echo"},"params":{"1":{"wt":"f=oo"}},"i":0}'&#8990;
&gt;foo&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;f=oo&#8990;
&lt;/p&gt;</pre></td>
</tr>
</tbody>
</table></div>
<h2>smcmwTests</h2>
<div class="tests"><table class="tests">
<colgroup class="test">
<col class="index">
<col class="status">
<col class="description">
<col class="input">
<col class="expect">
<col class="output">
</colgroup>
<thead><tr>
<th>#</th>
<th>Sum.</th>
<th>Description</th>
<th style="width: 100px">Input</th>
<th>Expect</th>
<th>Output</th>
</tr></thead>
<tbody>
<tr class="skip">
<th class="index">1</th>
<td class="status">skip</td>
<td class="description">div inside pre<ul><li>disabled</li></ul>
</td>
<td class="input"><pre> test &lt;div&gt;this&lt;/div&gt;&#8990;
 thing</pre></td>
<td class="expect"><pre> test &#8990;
&lt;div&gt;&#8990;
  this&#8990;
&lt;/div&gt;&lt;pre&gt;&#8990;
thing&#8990;
&lt;/pre&gt;</pre></td>
<td class="output"> </td>
</tr>
<tr class="pass">
<th class="index">2</th>
<td class="status">pass</td>
<td class="description">first line lonely comment does not strip newline</td>
<td class="input"><pre>&lt;!--test--&gt;&#8990;
&#8990;
a</pre></td>
<td class="expect"><pre>&lt;p&gt;&lt;br/&gt;&#8990;
a&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;&lt;br/&gt;&#8990;
a&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass">
<th class="index">3</th>
<td class="status">pass</td>
<td class="description">second line lonely comment does strip newline</td>
<td class="input"><pre>&#8990;
&lt;!--test--&gt;&#8990;
a</pre></td>
<td class="expect"><pre>&lt;p&gt;a&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;a&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="fail">
<th class="index">4</th>
<td class="status">fail</td>
<td class="description">attribute values do not respect bol_skip</td>
<td class="input"><pre>*&lt;b id="start&#8990;
end"&gt;test&lt;/b&gt;&#8990;
*this</pre></td>
<td class="expect"><pre>&lt;ul&gt;&lt;li&gt;&lt;b id="start_end"&gt;&#8990;
test&#8990;
&lt;/b&gt;&lt;/li&gt;&lt;li&gt;&#8990;
this&#8990;
&lt;/li&gt;&lt;/ul&gt;</pre></td>
<td class="output"><pre>&lt;ul&gt;&lt;li&gt;&lt;b id="start&amp;#10;end"&gt;test&lt;/b&gt;&#8990;
&lt;/li&gt;&lt;li&gt;this&#8990;
&lt;/li&gt;&lt;/ul&gt;&#8990;
</pre></td>
</tr>
<tr class="pass">
<th class="index">5</th>
<td class="status">pass</td>
<td class="description">template argument name must be trimmed</td>
<td class="input"><pre>{{wsarg|foo=bar}}</pre></td>
<td class="expect"><pre>&lt;p&gt;bar&#8990;
&lt;/p&gt;</pre></td>
<td class="output"><pre>&lt;p&gt;bar&#8990;
&lt;/p&gt;</pre></td>
</tr>
<tr class="pass from_none to_pass">
<th class="index">6</th>
<td class="status">pass</td>
<td class="description">whitespace in tr and table elements</td>
<td class="input"><pre>  &lt;table&gt;&#8990;
  &lt;tr&gt;&lt;th&gt;x&lt;/th&gt;&#8990;
  &lt;/tr&gt;&#8990;
  &lt;/table&gt;</pre></td>
<td class="expect"><pre>&lt;table&gt;&lt;tr&gt;&lt;th&gt;x&lt;/th&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
<td class="output"><pre>&lt;table&gt;&lt;tr&gt;&lt;th&gt;x&lt;/th&gt;&lt;/tr&gt;&lt;/table&gt;</pre></td>
</tr>
<tr class="pass from_none to_pass">
<th class="index">7</th>
<td class="status">pass</td>
<td class="description">nowiki pseudo-element inside attribute</td>
<td class="input"><pre>&lt;div class="foo&lt;nowiki&gt; &lt;/nowiki&gt;bar"&gt;baz&lt;/div&gt;</pre></td>
<td class="expect"><pre>&lt;div class="foo bar"&gt;baz&lt;/div&gt;</pre></td>
<td class="output"><pre>&lt;div class="foo bar"&gt;baz&lt;/div&gt;</pre></td>
</tr>
</tbody>
</table></div>
</body>
</html>
